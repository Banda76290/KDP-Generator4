var sW=Object.defineProperty;var CP=e=>{throw TypeError(e)};var aW=(e,t,r)=>t in e?sW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var W=(e,t,r)=>aW(e,typeof t!="symbol"?t+"":t,r),fb=(e,t,r)=>t.has(e)||CP("Cannot "+r);var V=(e,t,r)=>(fb(e,t,"read from private field"),r?r.call(e):t.get(e)),qe=(e,t,r)=>t.has(e)?CP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ae=(e,t,r,n)=>(fb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ot=(e,t,r)=>(fb(e,t,"access private method"),r);var dp=(e,t,r,n)=>({set _(s){Ae(e,t,s,r)},get _(){return V(e,t,n)}});function oW(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S$={exports:{}},bx={},C$={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=Symbol.for("react.element"),lW=Symbol.for("react.portal"),cW=Symbol.for("react.fragment"),uW=Symbol.for("react.strict_mode"),dW=Symbol.for("react.profiler"),fW=Symbol.for("react.provider"),hW=Symbol.for("react.context"),mW=Symbol.for("react.forward_ref"),pW=Symbol.for("react.suspense"),gW=Symbol.for("react.memo"),vW=Symbol.for("react.lazy"),PP=Symbol.iterator;function xW(e){return e===null||typeof e!="object"?null:(e=PP&&e[PP]||e["@@iterator"],typeof e=="function"?e:null)}var P$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k$=Object.assign,_$={};function yd(e,t,r){this.props=e,this.context=t,this.refs=_$,this.updater=r||P$}yd.prototype.isReactComponent={};yd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A$(){}A$.prototype=yd.prototype;function HN(e,t,r){this.props=e,this.context=t,this.refs=_$,this.updater=r||P$}var KN=HN.prototype=new A$;KN.constructor=HN;k$(KN,yd.prototype);KN.isPureReactComponent=!0;var kP=Array.isArray,T$=Object.prototype.hasOwnProperty,GN={current:null},E$={key:!0,ref:!0,__self:!0,__source:!0};function O$(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)T$.call(t,n)&&!E$.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Pm,type:e,key:a,ref:o,props:s,_owner:GN.current}}function yW(e,t){return{$$typeof:Pm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QN(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pm}function bW(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _P=/\/+/g;function hb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bW(""+e.key):t.toString(36)}function Zp(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pm:case lW:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+hb(o,0):n,kP(s)?(r="",e!=null&&(r=e.replace(_P,"$&/")+"/"),Zp(s,t,r,"",function(u){return u})):s!=null&&(QN(s)&&(s=yW(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_P,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",kP(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+hb(a,l);o+=Zp(a,t,r,c,s)}else if(c=xW(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+hb(a,l++),o+=Zp(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function hp(e,t,r){if(e==null)return e;var n=[],s=0;return Zp(e,n,"","",function(a){return t.call(r,a,s++)}),n}function jW(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var In={current:null},Jp={transition:null},wW={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Jp,ReactCurrentOwner:GN};function M$(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:hp,forEach:function(e,t,r){hp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return hp(e,function(){t++}),t},toArray:function(e){return hp(e,function(t){return t})||[]},only:function(e){if(!QN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mt.Component=yd;mt.Fragment=cW;mt.Profiler=dW;mt.PureComponent=HN;mt.StrictMode=uW;mt.Suspense=pW;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wW;mt.act=M$;mt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=k$({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=GN.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)T$.call(t,c)&&!E$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Pm,type:e.type,key:s,ref:a,props:n,_owner:o}};mt.createContext=function(e){return e={$$typeof:hW,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fW,_context:e},e.Consumer=e};mt.createElement=O$;mt.createFactory=function(e){var t=O$.bind(null,e);return t.type=e,t};mt.createRef=function(){return{current:null}};mt.forwardRef=function(e){return{$$typeof:mW,render:e}};mt.isValidElement=QN;mt.lazy=function(e){return{$$typeof:vW,_payload:{_status:-1,_result:e},_init:jW}};mt.memo=function(e,t){return{$$typeof:gW,type:e,compare:t===void 0?null:t}};mt.startTransition=function(e){var t=Jp.transition;Jp.transition={};try{e()}finally{Jp.transition=t}};mt.unstable_act=M$;mt.useCallback=function(e,t){return In.current.useCallback(e,t)};mt.useContext=function(e){return In.current.useContext(e)};mt.useDebugValue=function(){};mt.useDeferredValue=function(e){return In.current.useDeferredValue(e)};mt.useEffect=function(e,t){return In.current.useEffect(e,t)};mt.useId=function(){return In.current.useId()};mt.useImperativeHandle=function(e,t,r){return In.current.useImperativeHandle(e,t,r)};mt.useInsertionEffect=function(e,t){return In.current.useInsertionEffect(e,t)};mt.useLayoutEffect=function(e,t){return In.current.useLayoutEffect(e,t)};mt.useMemo=function(e,t){return In.current.useMemo(e,t)};mt.useReducer=function(e,t,r){return In.current.useReducer(e,t,r)};mt.useRef=function(e){return In.current.useRef(e)};mt.useState=function(e){return In.current.useState(e)};mt.useSyncExternalStore=function(e,t,r){return In.current.useSyncExternalStore(e,t,r)};mt.useTransition=function(){return In.current.useTransition()};mt.version="18.3.1";C$.exports=mt;var j=C$.exports;const R=Dt(j),I$=oW({__proto__:null,default:R},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NW=j,SW=Symbol.for("react.element"),CW=Symbol.for("react.fragment"),PW=Object.prototype.hasOwnProperty,kW=NW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_W={key:!0,ref:!0,__self:!0,__source:!0};function D$(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)PW.call(t,n)&&!_W.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:SW,type:e,key:a,ref:o,props:s,_owner:kW.current}}bx.Fragment=CW;bx.jsx=D$;bx.jsxs=D$;S$.exports=bx;var i=S$.exports,$$={exports:{}},wi={},R$={exports:{}},L$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,$){var G=_.length;_.push($);e:for(;0<G;){var re=G-1>>>1,B=_[re];if(0<s(B,$))_[re]=$,_[G]=B,G=re;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var $=_[0],G=_.pop();if(G!==$){_[0]=G;e:for(var re=0,B=_.length,ae=B>>>1;re<ae;){var Se=2*(re+1)-1,Ce=_[Se],Fe=Se+1,ye=_[Fe];if(0>s(Ce,G))Fe<B&&0>s(ye,Ce)?(_[re]=ye,_[Fe]=G,re=Fe):(_[re]=Ce,_[Se]=G,re=Se);else if(Fe<B&&0>s(ye,G))_[re]=ye,_[Fe]=G,re=Fe;else break e}}return $}function s(_,$){var G=_.sortIndex-$.sortIndex;return G!==0?G:_.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(_){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=_)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function N(_){if(m=!1,b(_),!g)if(r(c)!==null)g=!0,L(w);else{var $=r(u);$!==null&&q(N,$.startTime-_)}}function w(_,$){g=!1,m&&(m=!1,x(k),k=-1),p=!0;var G=h;try{for(b($),f=r(c);f!==null&&(!(f.expirationTime>$)||_&&!O());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var B=re(f.expirationTime<=$);$=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),b($)}else n(c);f=r(c)}if(f!==null)var ae=!0;else{var Se=r(u);Se!==null&&q(N,Se.startTime-$),ae=!1}return ae}finally{f=null,h=G,p=!1}}var S=!1,C=null,k=-1,P=5,A=-1;function O(){return!(e.unstable_now()-A<P)}function M(){if(C!==null){var _=e.unstable_now();A=_;var $=!0;try{$=C(!0,_)}finally{$?T():(S=!1,C=null)}}else S=!1}var T;if(typeof y=="function")T=function(){y(M)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,I=E.port2;E.port1.onmessage=M,T=function(){I.postMessage(null)}}else T=function(){v(M,0)};function L(_){C=_,S||(S=!0,T())}function q(_,$){k=v(function(){_(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(w))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return _()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,$){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var G=h;h=_;try{return $()}finally{h=G}},e.unstable_scheduleCallback=function(_,$,G){var re=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?re+G:re):G=re,_){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,_={id:d++,callback:$,priorityLevel:_,startTime:G,expirationTime:B,sortIndex:-1},G>re?(_.sortIndex=G,t(u,_),r(c)===null&&_===r(u)&&(m?(x(k),k=-1):m=!0,q(N,G-re))):(_.sortIndex=B,t(c,_),g||p||(g=!0,L(w))),_},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(_){var $=h;return function(){var G=h;h=$;try{return _.apply(this,arguments)}finally{h=G}}}})(L$);R$.exports=L$;var AW=R$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TW=j,xi=AW;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F$=new Set,rh={};function hc(e,t){Eu(e,t),Eu(e+"Capture",t)}function Eu(e,t){for(rh[e]=t,e=0;e<t.length;e++)F$.add(t[e])}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R0=Object.prototype.hasOwnProperty,EW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AP={},TP={};function OW(e){return R0.call(TP,e)?!0:R0.call(AP,e)?!1:EW.test(e)?TP[e]=!0:(AP[e]=!0,!1)}function MW(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IW(e,t,r,n){if(t===null||typeof t>"u"||MW(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var YN=/[\-:]([a-z])/g;function XN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(YN,XN);sn[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(YN,XN);sn[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(YN,XN);sn[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ZN(e,t,r,n){var s=sn.hasOwnProperty(t)?sn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IW(t,r,s,n)&&(r=null),n||s===null?OW(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Va=TW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mp=Symbol.for("react.element"),$c=Symbol.for("react.portal"),Rc=Symbol.for("react.fragment"),JN=Symbol.for("react.strict_mode"),L0=Symbol.for("react.profiler"),B$=Symbol.for("react.provider"),z$=Symbol.for("react.context"),e1=Symbol.for("react.forward_ref"),F0=Symbol.for("react.suspense"),B0=Symbol.for("react.suspense_list"),t1=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),U$=Symbol.for("react.offscreen"),EP=Symbol.iterator;function Zd(e){return e===null||typeof e!="object"?null:(e=EP&&e[EP]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,mb;function Nf(e){if(mb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mb=t&&t[1]||""}return`
`+mb+e}var pb=!1;function gb(e,t){if(!e||pb)return"";pb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{pb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Nf(e):""}function DW(e){switch(e.tag){case 5:return Nf(e.type);case 16:return Nf("Lazy");case 13:return Nf("Suspense");case 19:return Nf("SuspenseList");case 0:case 2:case 15:return e=gb(e.type,!1),e;case 11:return e=gb(e.type.render,!1),e;case 1:return e=gb(e.type,!0),e;default:return""}}function z0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rc:return"Fragment";case $c:return"Portal";case L0:return"Profiler";case JN:return"StrictMode";case F0:return"Suspense";case B0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z$:return(e.displayName||"Context")+".Consumer";case B$:return(e._context.displayName||"Context")+".Provider";case e1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case t1:return t=e.displayName||null,t!==null?t:z0(e.type)||"Memo";case to:t=e._payload,e=e._init;try{return z0(e(t))}catch{}}return null}function $W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z0(t);case 8:return t===JN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $o(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function V$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RW(e){var t=V$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pp(e){e._valueTracker||(e._valueTracker=RW(e))}function q$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function U0(e,t){var r=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function OP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$o(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W$(e,t){t=t.checked,t!=null&&ZN(e,"checked",t,!1)}function V0(e,t){W$(e,t);var r=$o(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?q0(e,t.type,r):t.hasOwnProperty("defaultValue")&&q0(e,t.type,$o(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function MP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function q0(e,t,r){(t!=="number"||jg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Sf=Array.isArray;function eu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$o(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function W0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function IP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(Sf(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$o(r)}}function H$(e,t){var r=$o(t.value),n=$o(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function DP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gp,G$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gp=gp||document.createElement("div"),gp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LW=["Webkit","ms","Moz","O"];Object.keys(Mf).forEach(function(e){LW.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mf[t]=Mf[e]})});function Q$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mf.hasOwnProperty(e)&&Mf[e]?(""+t).trim():t+"px"}function Y$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Q$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var FW=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K0(e,t){if(t){if(FW[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function G0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=null;function r1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Y0=null,tu=null,ru=null;function $P(e){if(e=Am(e)){if(typeof Y0!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=Cx(t),Y0(e.stateNode,e.type,t))}}function X$(e){tu?ru?ru.push(e):ru=[e]:tu=e}function Z$(){if(tu){var e=tu,t=ru;if(ru=tu=null,$P(e),t)for(e=0;e<t.length;e++)$P(t[e])}}function J$(e,t){return e(t)}function eR(){}var vb=!1;function tR(e,t,r){if(vb)return e(t,r);vb=!0;try{return J$(e,t,r)}finally{vb=!1,(tu!==null||ru!==null)&&(eR(),Z$())}}function ih(e,t){var r=e.stateNode;if(r===null)return null;var n=Cx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var X0=!1;if(Ma)try{var Jd={};Object.defineProperty(Jd,"passive",{get:function(){X0=!0}}),window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{X0=!1}function BW(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var If=!1,wg=null,Ng=!1,Z0=null,zW={onError:function(e){If=!0,wg=e}};function UW(e,t,r,n,s,a,o,l,c){If=!1,wg=null,BW.apply(zW,arguments)}function VW(e,t,r,n,s,a,o,l,c){if(UW.apply(this,arguments),If){if(If){var u=wg;If=!1,wg=null}else throw Error(ve(198));Ng||(Ng=!0,Z0=u)}}function mc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function RP(e){if(mc(e)!==e)throw Error(ve(188))}function qW(e){var t=e.alternate;if(!t){if(t=mc(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return RP(s),e;if(a===n)return RP(s),t;a=a.sibling}throw Error(ve(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function nR(e){return e=qW(e),e!==null?iR(e):null}function iR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iR(e);if(t!==null)return t;e=e.sibling}return null}var sR=xi.unstable_scheduleCallback,LP=xi.unstable_cancelCallback,WW=xi.unstable_shouldYield,HW=xi.unstable_requestPaint,xr=xi.unstable_now,KW=xi.unstable_getCurrentPriorityLevel,n1=xi.unstable_ImmediatePriority,aR=xi.unstable_UserBlockingPriority,Sg=xi.unstable_NormalPriority,GW=xi.unstable_LowPriority,oR=xi.unstable_IdlePriority,jx=null,Ls=null;function QW(e){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(jx,e,void 0,(e.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:ZW,YW=Math.log,XW=Math.LN2;function ZW(e){return e>>>=0,e===0?32:31-(YW(e)/XW|0)|0}var vp=64,xp=4194304;function Cf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Cf(l):(a&=o,a!==0&&(n=Cf(a)))}else o=r&~s,o!==0?n=Cf(o):a!==0&&(n=Cf(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fs(t),s=1<<r,n|=e[r],t&=~s;return n}function JW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-fs(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=JW(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function J0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lR(){var e=vp;return vp<<=1,!(vp&4194240)&&(vp=64),e}function xb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function km(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fs(t),e[t]=r}function t7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fs(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function i1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fs(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Rt=0;function cR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uR,s1,dR,fR,hR,ej=!1,yp=[],No=null,So=null,Co=null,sh=new Map,ah=new Map,io=[],r7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FP(e,t){switch(e){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Co=null;break;case"pointerover":case"pointerout":sh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(t.pointerId)}}function ef(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Am(t),t!==null&&s1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function n7(e,t,r,n,s){switch(t){case"focusin":return No=ef(No,e,t,r,n,s),!0;case"dragenter":return So=ef(So,e,t,r,n,s),!0;case"mouseover":return Co=ef(Co,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return sh.set(a,ef(sh.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,ah.set(a,ef(ah.get(a)||null,e,t,r,n,s)),!0}return!1}function mR(e){var t=vl(e.target);if(t!==null){var r=mc(t);if(r!==null){if(t=r.tag,t===13){if(t=rR(r),t!==null){e.blockedOn=t,hR(e.priority,function(){dR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function eg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Q0=n,r.target.dispatchEvent(n),Q0=null}else return t=Am(r),t!==null&&s1(t),e.blockedOn=r,!1;t.shift()}return!0}function BP(e,t,r){eg(e)&&r.delete(t)}function i7(){ej=!1,No!==null&&eg(No)&&(No=null),So!==null&&eg(So)&&(So=null),Co!==null&&eg(Co)&&(Co=null),sh.forEach(BP),ah.forEach(BP)}function tf(e,t){e.blockedOn===t&&(e.blockedOn=null,ej||(ej=!0,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,i7)))}function oh(e){function t(s){return tf(s,e)}if(0<yp.length){tf(yp[0],e);for(var r=1;r<yp.length;r++){var n=yp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(No!==null&&tf(No,e),So!==null&&tf(So,e),Co!==null&&tf(Co,e),sh.forEach(t),ah.forEach(t),r=0;r<io.length;r++)n=io[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<io.length&&(r=io[0],r.blockedOn===null);)mR(r),r.blockedOn===null&&io.shift()}var nu=Va.ReactCurrentBatchConfig,Pg=!0;function s7(e,t,r,n){var s=Rt,a=nu.transition;nu.transition=null;try{Rt=1,a1(e,t,r,n)}finally{Rt=s,nu.transition=a}}function a7(e,t,r,n){var s=Rt,a=nu.transition;nu.transition=null;try{Rt=4,a1(e,t,r,n)}finally{Rt=s,nu.transition=a}}function a1(e,t,r,n){if(Pg){var s=tj(e,t,r,n);if(s===null)_b(e,t,n,kg,r),FP(e,n);else if(n7(s,e,t,r,n))n.stopPropagation();else if(FP(e,n),t&4&&-1<r7.indexOf(e)){for(;s!==null;){var a=Am(s);if(a!==null&&uR(a),a=tj(e,t,r,n),a===null&&_b(e,t,n,kg,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else _b(e,t,n,null,r)}}var kg=null;function tj(e,t,r,n){if(kg=null,e=r1(n),e=vl(e),e!==null)if(t=mc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kg=e,null}function pR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KW()){case n1:return 1;case aR:return 4;case Sg:case GW:return 16;case oR:return 536870912;default:return 16}default:return 16}}var yo=null,o1=null,tg=null;function gR(){if(tg)return tg;var e,t=o1,r=t.length,n,s="value"in yo?yo.value:yo.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return tg=s.slice(e,1<n?1-n:void 0)}function rg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bp(){return!0}function zP(){return!1}function Ni(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bp:zP,this.isPropagationStopped=zP,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bp)},persist:function(){},isPersistent:bp}),t}var bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l1=Ni(bd),_m=ur({},bd,{view:0,detail:0}),o7=Ni(_m),yb,bb,rf,wx=ur({},_m,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rf&&(rf&&e.type==="mousemove"?(yb=e.screenX-rf.screenX,bb=e.screenY-rf.screenY):bb=yb=0,rf=e),yb)},movementY:function(e){return"movementY"in e?e.movementY:bb}}),UP=Ni(wx),l7=ur({},wx,{dataTransfer:0}),c7=Ni(l7),u7=ur({},_m,{relatedTarget:0}),jb=Ni(u7),d7=ur({},bd,{animationName:0,elapsedTime:0,pseudoElement:0}),f7=Ni(d7),h7=ur({},bd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m7=Ni(h7),p7=ur({},bd,{data:0}),VP=Ni(p7),g7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x7[e])?!!t[e]:!1}function c1(){return y7}var b7=ur({},_m,{key:function(e){if(e.key){var t=g7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(e){return e.type==="keypress"?rg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j7=Ni(b7),w7=ur({},wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qP=Ni(w7),N7=ur({},_m,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),S7=Ni(N7),C7=ur({},bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),P7=Ni(C7),k7=ur({},wx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_7=Ni(k7),A7=[9,13,27,32],u1=Ma&&"CompositionEvent"in window,Df=null;Ma&&"documentMode"in document&&(Df=document.documentMode);var T7=Ma&&"TextEvent"in window&&!Df,vR=Ma&&(!u1||Df&&8<Df&&11>=Df),WP=" ",HP=!1;function xR(e,t){switch(e){case"keyup":return A7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lc=!1;function E7(e,t){switch(e){case"compositionend":return yR(t);case"keypress":return t.which!==32?null:(HP=!0,WP);case"textInput":return e=t.data,e===WP&&HP?null:e;default:return null}}function O7(e,t){if(Lc)return e==="compositionend"||!u1&&xR(e,t)?(e=gR(),tg=o1=yo=null,Lc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vR&&t.locale!=="ko"?null:t.data;default:return null}}var M7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M7[e.type]:t==="textarea"}function bR(e,t,r,n){X$(n),t=_g(t,"onChange"),0<t.length&&(r=new l1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $f=null,lh=null;function I7(e){ER(e,0)}function Nx(e){var t=zc(e);if(q$(t))return e}function D7(e,t){if(e==="change")return t}var jR=!1;if(Ma){var wb;if(Ma){var Nb="oninput"in document;if(!Nb){var GP=document.createElement("div");GP.setAttribute("oninput","return;"),Nb=typeof GP.oninput=="function"}wb=Nb}else wb=!1;jR=wb&&(!document.documentMode||9<document.documentMode)}function QP(){$f&&($f.detachEvent("onpropertychange",wR),lh=$f=null)}function wR(e){if(e.propertyName==="value"&&Nx(lh)){var t=[];bR(t,lh,e,r1(e)),tR(I7,t)}}function $7(e,t,r){e==="focusin"?(QP(),$f=t,lh=r,$f.attachEvent("onpropertychange",wR)):e==="focusout"&&QP()}function R7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nx(lh)}function L7(e,t){if(e==="click")return Nx(t)}function F7(e,t){if(e==="input"||e==="change")return Nx(t)}function B7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gs=typeof Object.is=="function"?Object.is:B7;function ch(e,t){if(gs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!R0.call(t,s)||!gs(e[s],t[s]))return!1}return!0}function YP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function XP(e,t){var r=YP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=YP(r)}}function NR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SR(){for(var e=window,t=jg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jg(e.document)}return t}function d1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function z7(e){var t=SR(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&NR(r.ownerDocument.documentElement,r)){if(n!==null&&d1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=XP(r,a);var o=XP(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U7=Ma&&"documentMode"in document&&11>=document.documentMode,Fc=null,rj=null,Rf=null,nj=!1;function ZP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nj||Fc==null||Fc!==jg(n)||(n=Fc,"selectionStart"in n&&d1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rf&&ch(Rf,n)||(Rf=n,n=_g(rj,"onSelect"),0<n.length&&(t=new l1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fc)))}function jp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bc={animationend:jp("Animation","AnimationEnd"),animationiteration:jp("Animation","AnimationIteration"),animationstart:jp("Animation","AnimationStart"),transitionend:jp("Transition","TransitionEnd")},Sb={},CR={};Ma&&(CR=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function Sx(e){if(Sb[e])return Sb[e];if(!Bc[e])return e;var t=Bc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in CR)return Sb[e]=t[r];return e}var PR=Sx("animationend"),kR=Sx("animationiteration"),_R=Sx("animationstart"),AR=Sx("transitionend"),TR=new Map,JP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(e,t){TR.set(e,t),hc(t,[e])}for(var Cb=0;Cb<JP.length;Cb++){var Pb=JP[Cb],V7=Pb.toLowerCase(),q7=Pb[0].toUpperCase()+Pb.slice(1);Go(V7,"on"+q7)}Go(PR,"onAnimationEnd");Go(kR,"onAnimationIteration");Go(_R,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(AR,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pf));function ek(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,VW(n,t,void 0,e),e.currentTarget=null}function ER(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ek(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ek(s,l,u),a=c}}}if(Ng)throw e=Z0,Ng=!1,Z0=null,e}function Xt(e,t){var r=t[lj];r===void 0&&(r=t[lj]=new Set);var n=e+"__bubble";r.has(n)||(OR(t,e,2,!1),r.add(n))}function kb(e,t,r){var n=0;t&&(n|=4),OR(r,e,n,t)}var wp="_reactListening"+Math.random().toString(36).slice(2);function uh(e){if(!e[wp]){e[wp]=!0,F$.forEach(function(r){r!=="selectionchange"&&(W7.has(r)||kb(r,!1,e),kb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wp]||(t[wp]=!0,kb("selectionchange",!1,t))}}function OR(e,t,r,n){switch(pR(t)){case 1:var s=s7;break;case 4:s=a7;break;default:s=a1}r=s.bind(null,t,r,e),s=void 0,!X0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function _b(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=vl(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}tR(function(){var u=a,d=r1(r),f=[];e:{var h=TR.get(e);if(h!==void 0){var p=l1,g=e;switch(e){case"keypress":if(rg(r)===0)break e;case"keydown":case"keyup":p=j7;break;case"focusin":g="focus",p=jb;break;case"focusout":g="blur",p=jb;break;case"beforeblur":case"afterblur":p=jb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=UP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=c7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=S7;break;case PR:case kR:case _R:p=f7;break;case AR:p=P7;break;case"scroll":p=o7;break;case"wheel":p=_7;break;case"copy":case"cut":case"paste":p=m7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qP}var m=(t&4)!==0,v=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,x!==null&&(N=ih(y,x),N!=null&&m.push(dh(y,N,b)))),v)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Q0&&(g=r.relatedTarget||r.fromElement)&&(vl(g)||g[Ia]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?vl(g):null,g!==null&&(v=mc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=UP,N="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=qP,N="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?h:zc(p),b=g==null?h:zc(g),h=new m(N,y+"leave",p,r,d),h.target=v,h.relatedTarget=b,N=null,vl(d)===u&&(m=new m(x,y+"enter",g,r,d),m.target=b,m.relatedTarget=v,N=m),v=N,p&&g)t:{for(m=p,x=g,y=0,b=m;b;b=Cc(b))y++;for(b=0,N=x;N;N=Cc(N))b++;for(;0<y-b;)m=Cc(m),y--;for(;0<b-y;)x=Cc(x),b--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Cc(m),x=Cc(x)}m=null}else m=null;p!==null&&tk(f,h,p,m,!1),g!==null&&v!==null&&tk(f,v,g,m,!0)}}e:{if(h=u?zc(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=D7;else if(KP(h))if(jR)w=F7;else{w=R7;var S=$7}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=L7);if(w&&(w=w(e,u))){bR(f,w,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&q0(h,"number",h.value)}switch(S=u?zc(u):window,e){case"focusin":(KP(S)||S.contentEditable==="true")&&(Fc=S,rj=u,Rf=null);break;case"focusout":Rf=rj=Fc=null;break;case"mousedown":nj=!0;break;case"contextmenu":case"mouseup":case"dragend":nj=!1,ZP(f,r,d);break;case"selectionchange":if(U7)break;case"keydown":case"keyup":ZP(f,r,d)}var C;if(u1)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Lc?xR(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(vR&&r.locale!=="ko"&&(Lc||k!=="onCompositionStart"?k==="onCompositionEnd"&&Lc&&(C=gR()):(yo=d,o1="value"in yo?yo.value:yo.textContent,Lc=!0)),S=_g(u,k),0<S.length&&(k=new VP(k,e,null,r,d),f.push({event:k,listeners:S}),C?k.data=C:(C=yR(r),C!==null&&(k.data=C)))),(C=T7?E7(e,r):O7(e,r))&&(u=_g(u,"onBeforeInput"),0<u.length&&(d=new VP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}ER(f,t)})}function dh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _g(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ih(e,r),a!=null&&n.unshift(dh(e,a,s)),a=ih(e,t),a!=null&&n.push(dh(e,a,s))),e=e.return}return n}function Cc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tk(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=ih(r,a),c!=null&&o.unshift(dh(r,c,l))):s||(c=ih(r,a),c!=null&&o.push(dh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var H7=/\r\n?/g,K7=/\u0000|\uFFFD/g;function rk(e){return(typeof e=="string"?e:""+e).replace(H7,`
`).replace(K7,"")}function Np(e,t,r){if(t=rk(t),rk(e)!==t&&r)throw Error(ve(425))}function Ag(){}var ij=null,sj=null;function aj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oj=typeof setTimeout=="function"?setTimeout:void 0,G7=typeof clearTimeout=="function"?clearTimeout:void 0,nk=typeof Promise=="function"?Promise:void 0,Q7=typeof queueMicrotask=="function"?queueMicrotask:typeof nk<"u"?function(e){return nk.resolve(null).then(e).catch(Y7)}:oj;function Y7(e){setTimeout(function(){throw e})}function Ab(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),oh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);oh(t)}function Po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ik(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jd=Math.random().toString(36).slice(2),Ms="__reactFiber$"+jd,fh="__reactProps$"+jd,Ia="__reactContainer$"+jd,lj="__reactEvents$"+jd,X7="__reactListeners$"+jd,Z7="__reactHandles$"+jd;function vl(e){var t=e[Ms];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ia]||r[Ms]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ik(e);e!==null;){if(r=e[Ms])return r;e=ik(e)}return t}e=r,r=e.parentNode}return null}function Am(e){return e=e[Ms]||e[Ia],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function Cx(e){return e[fh]||null}var cj=[],Uc=-1;function Qo(e){return{current:e}}function er(e){0>Uc||(e.current=cj[Uc],cj[Uc]=null,Uc--)}function Kt(e,t){Uc++,cj[Uc]=e.current,e.current=t}var Ro={},pn=Qo(Ro),Wn=Qo(!1),Fl=Ro;function Ou(e,t){var r=e.type.contextTypes;if(!r)return Ro;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Hn(e){return e=e.childContextTypes,e!=null}function Tg(){er(Wn),er(pn)}function sk(e,t,r){if(pn.current!==Ro)throw Error(ve(168));Kt(pn,t),Kt(Wn,r)}function MR(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ve(108,$W(e)||"Unknown",s));return ur({},r,n)}function Eg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ro,Fl=pn.current,Kt(pn,e),Kt(Wn,Wn.current),!0}function ak(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=MR(e,t,Fl),n.__reactInternalMemoizedMergedChildContext=e,er(Wn),er(pn),Kt(pn,e)):er(Wn),Kt(Wn,r)}var pa=null,Px=!1,Tb=!1;function IR(e){pa===null?pa=[e]:pa.push(e)}function J7(e){Px=!0,IR(e)}function Yo(){if(!Tb&&pa!==null){Tb=!0;var e=0,t=Rt;try{var r=pa;for(Rt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pa=null,Px=!1}catch(s){throw pa!==null&&(pa=pa.slice(e+1)),sR(n1,Yo),s}finally{Rt=t,Tb=!1}}return null}var Vc=[],qc=0,Og=null,Mg=0,Mi=[],Ii=0,Bl=null,xa=1,ya="";function ll(e,t){Vc[qc++]=Mg,Vc[qc++]=Og,Og=e,Mg=t}function DR(e,t,r){Mi[Ii++]=xa,Mi[Ii++]=ya,Mi[Ii++]=Bl,Bl=e;var n=xa;e=ya;var s=32-fs(n)-1;n&=~(1<<s),r+=1;var a=32-fs(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,xa=1<<32-fs(t)+s|r<<s|n,ya=a+e}else xa=1<<a|r<<s|n,ya=e}function f1(e){e.return!==null&&(ll(e,1),DR(e,1,0))}function h1(e){for(;e===Og;)Og=Vc[--qc],Vc[qc]=null,Mg=Vc[--qc],Vc[qc]=null;for(;e===Bl;)Bl=Mi[--Ii],Mi[Ii]=null,ya=Mi[--Ii],Mi[Ii]=null,xa=Mi[--Ii],Mi[Ii]=null}var hi=null,fi=null,rr=!1,ss=null;function $R(e,t){var r=Ri(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ok(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hi=e,fi=Po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hi=e,fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bl!==null?{id:xa,overflow:ya}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ri(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hi=e,fi=null,!0):!1;default:return!1}}function uj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dj(e){if(rr){var t=fi;if(t){var r=t;if(!ok(e,t)){if(uj(e))throw Error(ve(418));t=Po(r.nextSibling);var n=hi;t&&ok(e,t)?$R(n,r):(e.flags=e.flags&-4097|2,rr=!1,hi=e)}}else{if(uj(e))throw Error(ve(418));e.flags=e.flags&-4097|2,rr=!1,hi=e}}}function lk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hi=e}function Sp(e){if(e!==hi)return!1;if(!rr)return lk(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!aj(e.type,e.memoizedProps)),t&&(t=fi)){if(uj(e))throw RR(),Error(ve(418));for(;t;)$R(e,t),t=Po(t.nextSibling)}if(lk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fi=Po(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fi=null}}else fi=hi?Po(e.stateNode.nextSibling):null;return!0}function RR(){for(var e=fi;e;)e=Po(e.nextSibling)}function Mu(){fi=hi=null,rr=!1}function m1(e){ss===null?ss=[e]:ss.push(e)}var eH=Va.ReactCurrentBatchConfig;function nf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function Cp(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ck(e){var t=e._init;return t(e._payload)}function LR(e){function t(x,y){if(e){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=To(x,y),x.index=0,x.sibling=null,x}function a(x,y,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,b,N){return y===null||y.tag!==6?(y=Rb(b,x.mode,N),y.return=x,y):(y=s(y,b),y.return=x,y)}function c(x,y,b,N){var w=b.type;return w===Rc?d(x,y,b.props.children,N,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===to&&ck(w)===y.type)?(N=s(y,b.props),N.ref=nf(x,y,b),N.return=x,N):(N=cg(b.type,b.key,b.props,null,x.mode,N),N.ref=nf(x,y,b),N.return=x,N)}function u(x,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Lb(b,x.mode,N),y.return=x,y):(y=s(y,b.children||[]),y.return=x,y)}function d(x,y,b,N,w){return y===null||y.tag!==7?(y=Il(b,x.mode,N,w),y.return=x,y):(y=s(y,b),y.return=x,y)}function f(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rb(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mp:return b=cg(y.type,y.key,y.props,null,x.mode,b),b.ref=nf(x,null,y),b.return=x,b;case $c:return y=Lb(y,x.mode,b),y.return=x,y;case to:var N=y._init;return f(x,N(y._payload),b)}if(Sf(y)||Zd(y))return y=Il(y,x.mode,b,null),y.return=x,y;Cp(x,y)}return null}function h(x,y,b,N){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(x,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mp:return b.key===w?c(x,y,b,N):null;case $c:return b.key===w?u(x,y,b,N):null;case to:return w=b._init,h(x,y,w(b._payload),N)}if(Sf(b)||Zd(b))return w!==null?null:d(x,y,b,N,null);Cp(x,b)}return null}function p(x,y,b,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(b)||null,l(y,x,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case mp:return x=x.get(N.key===null?b:N.key)||null,c(y,x,N,w);case $c:return x=x.get(N.key===null?b:N.key)||null,u(y,x,N,w);case to:var S=N._init;return p(x,y,b,S(N._payload),w)}if(Sf(N)||Zd(N))return x=x.get(b)||null,d(y,x,N,w,null);Cp(y,N)}return null}function g(x,y,b,N){for(var w=null,S=null,C=y,k=y=0,P=null;C!==null&&k<b.length;k++){C.index>k?(P=C,C=null):P=C.sibling;var A=h(x,C,b[k],N);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(x,C),y=a(A,y,k),S===null?w=A:S.sibling=A,S=A,C=P}if(k===b.length)return r(x,C),rr&&ll(x,k),w;if(C===null){for(;k<b.length;k++)C=f(x,b[k],N),C!==null&&(y=a(C,y,k),S===null?w=C:S.sibling=C,S=C);return rr&&ll(x,k),w}for(C=n(x,C);k<b.length;k++)P=p(C,x,k,b[k],N),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?k:P.key),y=a(P,y,k),S===null?w=P:S.sibling=P,S=P);return e&&C.forEach(function(O){return t(x,O)}),rr&&ll(x,k),w}function m(x,y,b,N){var w=Zd(b);if(typeof w!="function")throw Error(ve(150));if(b=w.call(b),b==null)throw Error(ve(151));for(var S=w=null,C=y,k=y=0,P=null,A=b.next();C!==null&&!A.done;k++,A=b.next()){C.index>k?(P=C,C=null):P=C.sibling;var O=h(x,C,A.value,N);if(O===null){C===null&&(C=P);break}e&&C&&O.alternate===null&&t(x,C),y=a(O,y,k),S===null?w=O:S.sibling=O,S=O,C=P}if(A.done)return r(x,C),rr&&ll(x,k),w;if(C===null){for(;!A.done;k++,A=b.next())A=f(x,A.value,N),A!==null&&(y=a(A,y,k),S===null?w=A:S.sibling=A,S=A);return rr&&ll(x,k),w}for(C=n(x,C);!A.done;k++,A=b.next())A=p(C,x,k,A.value,N),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?k:A.key),y=a(A,y,k),S===null?w=A:S.sibling=A,S=A);return e&&C.forEach(function(M){return t(x,M)}),rr&&ll(x,k),w}function v(x,y,b,N){if(typeof b=="object"&&b!==null&&b.type===Rc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case mp:e:{for(var w=b.key,S=y;S!==null;){if(S.key===w){if(w=b.type,w===Rc){if(S.tag===7){r(x,S.sibling),y=s(S,b.props.children),y.return=x,x=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===to&&ck(w)===S.type){r(x,S.sibling),y=s(S,b.props),y.ref=nf(x,S,b),y.return=x,x=y;break e}r(x,S);break}else t(x,S);S=S.sibling}b.type===Rc?(y=Il(b.props.children,x.mode,N,b.key),y.return=x,x=y):(N=cg(b.type,b.key,b.props,null,x.mode,N),N.ref=nf(x,y,b),N.return=x,x=N)}return o(x);case $c:e:{for(S=b.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=s(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=Lb(b,x.mode,N),y.return=x,x=y}return o(x);case to:return S=b._init,v(x,y,S(b._payload),N)}if(Sf(b))return g(x,y,b,N);if(Zd(b))return m(x,y,b,N);Cp(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,b),y.return=x,x=y):(r(x,y),y=Rb(b,x.mode,N),y.return=x,x=y),o(x)):r(x,y)}return v}var Iu=LR(!0),FR=LR(!1),Ig=Qo(null),Dg=null,Wc=null,p1=null;function g1(){p1=Wc=Dg=null}function v1(e){var t=Ig.current;er(Ig),e._currentValue=t}function fj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function iu(e,t){Dg=e,p1=Wc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vn=!0),e.firstContext=null)}function Vi(e){var t=e._currentValue;if(p1!==e)if(e={context:e,memoizedValue:t,next:null},Wc===null){if(Dg===null)throw Error(ve(308));Wc=e,Dg.dependencies={lanes:0,firstContext:e}}else Wc=Wc.next=e;return t}var xl=null;function x1(e){xl===null?xl=[e]:xl.push(e)}function BR(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,x1(t)):(r.next=s.next,s.next=r),t.interleaved=r,Da(e,n)}function Da(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ro=!1;function y1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ko(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Da(e,r)}return s=n.interleaved,s===null?(t.next=t,x1(n)):(t.next=s.next,s.next=t),n.interleaved=t,Da(e,r)}function ng(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,i1(e,r)}}function uk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $g(e,t,r,n){var s=e.updateQueue;ro=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ur({},f,h);break e;case 2:ro=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ul|=o,e.lanes=o,e.memoizedState=f}}function dk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ve(191,s));s.call(n)}}}var Tm={},Fs=Qo(Tm),hh=Qo(Tm),mh=Qo(Tm);function yl(e){if(e===Tm)throw Error(ve(174));return e}function b1(e,t){switch(Kt(mh,t),Kt(hh,e),Kt(Fs,Tm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:H0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=H0(t,e)}er(Fs),Kt(Fs,t)}function Du(){er(Fs),er(hh),er(mh)}function UR(e){yl(mh.current);var t=yl(Fs.current),r=H0(t,e.type);t!==r&&(Kt(hh,e),Kt(Fs,r))}function j1(e){hh.current===e&&(er(Fs),er(hh))}var lr=Qo(0);function Rg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Eb=[];function w1(){for(var e=0;e<Eb.length;e++)Eb[e]._workInProgressVersionPrimary=null;Eb.length=0}var ig=Va.ReactCurrentDispatcher,Ob=Va.ReactCurrentBatchConfig,zl=0,cr=null,Mr=null,Ur=null,Lg=!1,Lf=!1,ph=0,tH=0;function on(){throw Error(ve(321))}function N1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gs(e[r],t[r]))return!1;return!0}function S1(e,t,r,n,s,a){if(zl=a,cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ig.current=e===null||e.memoizedState===null?sH:aH,e=r(n,s),Lf){a=0;do{if(Lf=!1,ph=0,25<=a)throw Error(ve(301));a+=1,Ur=Mr=null,t.updateQueue=null,ig.current=oH,e=r(n,s)}while(Lf)}if(ig.current=Fg,t=Mr!==null&&Mr.next!==null,zl=0,Ur=Mr=cr=null,Lg=!1,t)throw Error(ve(300));return e}function C1(){var e=ph!==0;return ph=0,e}function ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?cr.memoizedState=Ur=e:Ur=Ur.next=e,Ur}function qi(){if(Mr===null){var e=cr.alternate;e=e!==null?e.memoizedState:null}else e=Mr.next;var t=Ur===null?cr.memoizedState:Ur.next;if(t!==null)Ur=t,Mr=e;else{if(e===null)throw Error(ve(310));Mr=e,e={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Ur===null?cr.memoizedState=Ur=e:Ur=Ur.next=e}return Ur}function gh(e,t){return typeof t=="function"?t(e):t}function Mb(e){var t=qi(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=Mr,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((zl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,cr.lanes|=d,Ul|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,gs(n,t.memoizedState)||(Vn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,cr.lanes|=a,Ul|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ib(e){var t=qi(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);gs(a,t.memoizedState)||(Vn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function VR(){}function qR(e,t){var r=cr,n=qi(),s=t(),a=!gs(n.memoizedState,s);if(a&&(n.memoizedState=s,Vn=!0),n=n.queue,P1(KR.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ur!==null&&Ur.memoizedState.tag&1){if(r.flags|=2048,vh(9,HR.bind(null,r,n,s,t),void 0,null),Hr===null)throw Error(ve(349));zl&30||WR(r,t,s)}return s}function WR(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function HR(e,t,r,n){t.value=r,t.getSnapshot=n,GR(t)&&QR(e)}function KR(e,t,r){return r(function(){GR(t)&&QR(e)})}function GR(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gs(e,r)}catch{return!0}}function QR(e){var t=Da(e,1);t!==null&&hs(t,e,1,-1)}function fk(e){var t=ks();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:e},t.queue=e,e=e.dispatch=iH.bind(null,cr,e),[t.memoizedState,e]}function vh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function YR(){return qi().memoizedState}function sg(e,t,r,n){var s=ks();cr.flags|=e,s.memoizedState=vh(1|t,r,void 0,n===void 0?null:n)}function kx(e,t,r,n){var s=qi();n=n===void 0?null:n;var a=void 0;if(Mr!==null){var o=Mr.memoizedState;if(a=o.destroy,n!==null&&N1(n,o.deps)){s.memoizedState=vh(t,r,a,n);return}}cr.flags|=e,s.memoizedState=vh(1|t,r,a,n)}function hk(e,t){return sg(8390656,8,e,t)}function P1(e,t){return kx(2048,8,e,t)}function XR(e,t){return kx(4,2,e,t)}function ZR(e,t){return kx(4,4,e,t)}function JR(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e4(e,t,r){return r=r!=null?r.concat([e]):null,kx(4,4,JR.bind(null,t,e),r)}function k1(){}function t4(e,t){var r=qi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&N1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function r4(e,t){var r=qi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&N1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function n4(e,t,r){return zl&21?(gs(r,t)||(r=lR(),cr.lanes|=r,Ul|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vn=!0),e.memoizedState=r)}function rH(e,t){var r=Rt;Rt=r!==0&&4>r?r:4,e(!0);var n=Ob.transition;Ob.transition={};try{e(!1),t()}finally{Rt=r,Ob.transition=n}}function i4(){return qi().memoizedState}function nH(e,t,r){var n=Ao(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s4(e))a4(t,r);else if(r=BR(e,t,r,n),r!==null){var s=Tn();hs(r,e,n,s),o4(r,t,n)}}function iH(e,t,r){var n=Ao(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s4(e))a4(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,gs(l,o)){var c=t.interleaved;c===null?(s.next=s,x1(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=BR(e,t,s,n),r!==null&&(s=Tn(),hs(r,e,n,s),o4(r,t,n))}}function s4(e){var t=e.alternate;return e===cr||t!==null&&t===cr}function a4(e,t){Lf=Lg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function o4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,i1(e,r)}}var Fg={readContext:Vi,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},sH={readContext:Vi,useCallback:function(e,t){return ks().memoizedState=[e,t===void 0?null:t],e},useContext:Vi,useEffect:hk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,sg(4194308,4,JR.bind(null,t,e),r)},useLayoutEffect:function(e,t){return sg(4194308,4,e,t)},useInsertionEffect:function(e,t){return sg(4,2,e,t)},useMemo:function(e,t){var r=ks();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ks();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nH.bind(null,cr,e),[n.memoizedState,e]},useRef:function(e){var t=ks();return e={current:e},t.memoizedState=e},useState:fk,useDebugValue:k1,useDeferredValue:function(e){return ks().memoizedState=e},useTransition:function(){var e=fk(!1),t=e[0];return e=rH.bind(null,e[1]),ks().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=cr,s=ks();if(rr){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),Hr===null)throw Error(ve(349));zl&30||WR(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,hk(KR.bind(null,n,a,e),[e]),n.flags|=2048,vh(9,HR.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ks(),t=Hr.identifierPrefix;if(rr){var r=ya,n=xa;r=(n&~(1<<32-fs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ph++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tH++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aH={readContext:Vi,useCallback:t4,useContext:Vi,useEffect:P1,useImperativeHandle:e4,useInsertionEffect:XR,useLayoutEffect:ZR,useMemo:r4,useReducer:Mb,useRef:YR,useState:function(){return Mb(gh)},useDebugValue:k1,useDeferredValue:function(e){var t=qi();return n4(t,Mr.memoizedState,e)},useTransition:function(){var e=Mb(gh)[0],t=qi().memoizedState;return[e,t]},useMutableSource:VR,useSyncExternalStore:qR,useId:i4,unstable_isNewReconciler:!1},oH={readContext:Vi,useCallback:t4,useContext:Vi,useEffect:P1,useImperativeHandle:e4,useInsertionEffect:XR,useLayoutEffect:ZR,useMemo:r4,useReducer:Ib,useRef:YR,useState:function(){return Ib(gh)},useDebugValue:k1,useDeferredValue:function(e){var t=qi();return Mr===null?t.memoizedState=e:n4(t,Mr.memoizedState,e)},useTransition:function(){var e=Ib(gh)[0],t=qi().memoizedState;return[e,t]},useMutableSource:VR,useSyncExternalStore:qR,useId:i4,unstable_isNewReconciler:!1};function es(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _x={isMounted:function(e){return(e=e._reactInternals)?mc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Tn(),s=Ao(e),a=Ca(n,s);a.payload=t,r!=null&&(a.callback=r),t=ko(e,a,s),t!==null&&(hs(t,e,s,n),ng(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Tn(),s=Ao(e),a=Ca(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ko(e,a,s),t!==null&&(hs(t,e,s,n),ng(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Tn(),n=Ao(e),s=Ca(r,n);s.tag=2,t!=null&&(s.callback=t),t=ko(e,s,n),t!==null&&(hs(t,e,n,r),ng(t,e,n))}};function mk(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ch(r,n)||!ch(s,a):!0}function l4(e,t,r){var n=!1,s=Ro,a=t.contextType;return typeof a=="object"&&a!==null?a=Vi(a):(s=Hn(t)?Fl:pn.current,n=t.contextTypes,a=(n=n!=null)?Ou(e,s):Ro),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_x,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function pk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_x.enqueueReplaceState(t,t.state,null)}function mj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},y1(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Vi(a):(a=Hn(t)?Fl:pn.current,s.context=Ou(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(hj(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_x.enqueueReplaceState(s,s.state,null),$g(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $u(e,t){try{var r="",n=t;do r+=DW(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Db(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lH=typeof WeakMap=="function"?WeakMap:Map;function c4(e,t,r){r=Ca(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zg||(zg=!0,Cj=n),pj(e,t)},r}function u4(e,t,r){r=Ca(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){pj(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){pj(e,t),typeof n!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function gk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lH;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=wH.bind(null,e,t,r),t.then(e,e))}function vk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xk(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ca(-1,1),t.tag=2,ko(r,t,1))),r.lanes|=1),e)}var cH=Va.ReactCurrentOwner,Vn=!1;function Nn(e,t,r,n){t.child=e===null?FR(t,null,r,n):Iu(t,e.child,r,n)}function yk(e,t,r,n,s){r=r.render;var a=t.ref;return iu(t,s),n=S1(e,t,r,n,a,s),r=C1(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$a(e,t,s)):(rr&&r&&f1(t),t.flags|=1,Nn(e,t,n,s),t.child)}function bk(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!D1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,d4(e,t,a,n,s)):(e=cg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ch,r(o,n)&&e.ref===t.ref)return $a(e,t,s)}return t.flags|=1,e=To(a,n),e.ref=t.ref,e.return=t,t.child=e}function d4(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(ch(a,n)&&e.ref===t.ref)if(Vn=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Vn=!0);else return t.lanes=e.lanes,$a(e,t,s)}return gj(e,t,r,n,s)}function f4(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Kc,Jn),Jn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kt(Kc,Jn),Jn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Kt(Kc,Jn),Jn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Kt(Kc,Jn),Jn|=n;return Nn(e,t,s,r),t.child}function h4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gj(e,t,r,n,s){var a=Hn(r)?Fl:pn.current;return a=Ou(t,a),iu(t,s),r=S1(e,t,r,n,a,s),n=C1(),e!==null&&!Vn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,$a(e,t,s)):(rr&&n&&f1(t),t.flags|=1,Nn(e,t,r,s),t.child)}function jk(e,t,r,n,s){if(Hn(r)){var a=!0;Eg(t)}else a=!1;if(iu(t,s),t.stateNode===null)ag(e,t),l4(t,r,n),mj(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Vi(u):(u=Hn(r)?Fl:pn.current,u=Ou(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&pk(t,o,n,u),ro=!1;var h=t.memoizedState;o.state=h,$g(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Wn.current||ro?(typeof d=="function"&&(hj(t,r,d,n),c=t.memoizedState),(l=ro||mk(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,zR(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:es(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vi(c):(c=Hn(r)?Fl:pn.current,c=Ou(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&pk(t,o,n,c),ro=!1,h=t.memoizedState,o.state=h,$g(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Wn.current||ro?(typeof p=="function"&&(hj(t,r,p,n),g=t.memoizedState),(u=ro||mk(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return vj(e,t,r,n,a,s)}function vj(e,t,r,n,s,a){h4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&ak(t,r,!1),$a(e,t,a);n=t.stateNode,cH.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Iu(t,e.child,null,a),t.child=Iu(t,null,l,a)):Nn(e,t,l,a),t.memoizedState=n.state,s&&ak(t,r,!0),t.child}function m4(e){var t=e.stateNode;t.pendingContext?sk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sk(e,t.context,!1),b1(e,t.containerInfo)}function wk(e,t,r,n,s){return Mu(),m1(s),t.flags|=256,Nn(e,t,r,n),t.child}var xj={dehydrated:null,treeContext:null,retryLane:0};function yj(e){return{baseLanes:e,cachePool:null,transitions:null}}function p4(e,t,r){var n=t.pendingProps,s=lr.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Kt(lr,s&1),e===null)return dj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ex(o,n,0,null),e=Il(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=yj(r),t.memoizedState=xj,e):_1(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return uH(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=To(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=To(l,a):(a=Il(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?yj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=xj,n}return a=e.child,e=a.sibling,n=To(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _1(e,t){return t=Ex({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pp(e,t,r,n){return n!==null&&m1(n),Iu(t,e.child,null,r),e=_1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uH(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Db(Error(ve(422))),Pp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ex({mode:"visible",children:n.children},s,0,null),a=Il(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Iu(t,e.child,null,o),t.child.memoizedState=yj(o),t.memoizedState=xj,a);if(!(t.mode&1))return Pp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ve(419)),n=Db(a,n,void 0),Pp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Vn||l){if(n=Hr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Da(e,s),hs(n,e,s,-1))}return I1(),n=Db(Error(ve(421))),Pp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=NH.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,fi=Po(s.nextSibling),hi=t,rr=!0,ss=null,e!==null&&(Mi[Ii++]=xa,Mi[Ii++]=ya,Mi[Ii++]=Bl,xa=e.id,ya=e.overflow,Bl=t),t=_1(t,n.children),t.flags|=4096,t)}function Nk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fj(e.return,t,r)}function $b(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function g4(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Nn(e,t,n.children,r),n=lr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nk(e,r,t);else if(e.tag===19)Nk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kt(lr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Rg(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$b(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Rg(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$b(t,!0,r,null,a);break;case"together":$b(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ag(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $a(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ul|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=To(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=To(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dH(e,t,r){switch(t.tag){case 3:m4(t),Mu();break;case 5:UR(t);break;case 1:Hn(t.type)&&Eg(t);break;case 4:b1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Kt(Ig,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kt(lr,lr.current&1),t.flags|=128,null):r&t.child.childLanes?p4(e,t,r):(Kt(lr,lr.current&1),e=$a(e,t,r),e!==null?e.sibling:null);Kt(lr,lr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return g4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Kt(lr,lr.current),n)break;return null;case 22:case 23:return t.lanes=0,f4(e,t,r)}return $a(e,t,r)}var v4,bj,x4,y4;v4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bj=function(){};x4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,yl(Fs.current);var a=null;switch(r){case"input":s=U0(e,s),n=U0(e,n),a=[];break;case"select":s=ur({},s,{value:void 0}),n=ur({},n,{value:void 0}),a=[];break;case"textarea":s=W0(e,s),n=W0(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ag)}K0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};y4=function(e,t,r,n){r!==n&&(t.flags|=4)};function sf(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ln(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fH(e,t,r){var n=t.pendingProps;switch(h1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(t),null;case 1:return Hn(t.type)&&Tg(),ln(t),null;case 3:return n=t.stateNode,Du(),er(Wn),er(pn),w1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ss!==null&&(_j(ss),ss=null))),bj(e,t),ln(t),null;case 5:j1(t);var s=yl(mh.current);if(r=t.type,e!==null&&t.stateNode!=null)x4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return ln(t),null}if(e=yl(Fs.current),Sp(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ms]=t,n[fh]=a,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(s=0;s<Pf.length;s++)Xt(Pf[s],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":OP(n,a),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xt("invalid",n);break;case"textarea":IP(n,a),Xt("invalid",n)}K0(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Np(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Np(n.textContent,l,e),s=["children",""+l]):rh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xt("scroll",n)}switch(r){case"input":pp(n),MP(n,a,!0);break;case"textarea":pp(n),DP(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ag)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ms]=t,e[fh]=n,v4(e,t,!1,!1),t.stateNode=e;e:{switch(o=G0(r,n),r){case"dialog":Xt("cancel",e),Xt("close",e),s=n;break;case"iframe":case"object":case"embed":Xt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Pf.length;s++)Xt(Pf[s],e);s=n;break;case"source":Xt("error",e),s=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),s=n;break;case"details":Xt("toggle",e),s=n;break;case"input":OP(e,n),s=U0(e,n),Xt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ur({},n,{value:void 0}),Xt("invalid",e);break;case"textarea":IP(e,n),s=W0(e,n),Xt("invalid",e);break;default:s=n}K0(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Y$(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G$(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&nh(e,c):typeof c=="number"&&nh(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(rh.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Xt("scroll",e):c!=null&&ZN(e,a,c,o))}switch(r){case"input":pp(e),MP(e,n,!1);break;case"textarea":pp(e),DP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$o(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?eu(e,!!n.multiple,a,!1):n.defaultValue!=null&&eu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ag)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ln(t),null;case 6:if(e&&t.stateNode!=null)y4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=yl(mh.current),yl(Fs.current),Sp(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ms]=t,(a=n.nodeValue!==r)&&(e=hi,e!==null))switch(e.tag){case 3:Np(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Np(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ms]=t,t.stateNode=n}return ln(t),null;case 13:if(er(lr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&fi!==null&&t.mode&1&&!(t.flags&128))RR(),Mu(),t.flags|=98560,a=!1;else if(a=Sp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ve(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ve(317));a[Ms]=t}else Mu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ln(t),a=!1}else ss!==null&&(_j(ss),ss=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||lr.current&1?Rr===0&&(Rr=3):I1())),t.updateQueue!==null&&(t.flags|=4),ln(t),null);case 4:return Du(),bj(e,t),e===null&&uh(t.stateNode.containerInfo),ln(t),null;case 10:return v1(t.type._context),ln(t),null;case 17:return Hn(t.type)&&Tg(),ln(t),null;case 19:if(er(lr),a=t.memoizedState,a===null)return ln(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)sf(a,!1);else{if(Rr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Rg(e),o!==null){for(t.flags|=128,sf(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kt(lr,lr.current&1|2),t.child}e=e.sibling}a.tail!==null&&xr()>Ru&&(t.flags|=128,n=!0,sf(a,!1),t.lanes=4194304)}else{if(!n)if(e=Rg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!rr)return ln(t),null}else 2*xr()-a.renderingStartTime>Ru&&r!==1073741824&&(t.flags|=128,n=!0,sf(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xr(),t.sibling=null,r=lr.current,Kt(lr,n?r&1|2:r&1),t):(ln(t),null);case 22:case 23:return M1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Jn&1073741824&&(ln(t),t.subtreeFlags&6&&(t.flags|=8192)):ln(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function hH(e,t){switch(h1(t),t.tag){case 1:return Hn(t.type)&&Tg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Du(),er(Wn),er(pn),w1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return j1(t),null;case 13:if(er(lr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Mu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(lr),null;case 4:return Du(),null;case 10:return v1(t.type._context),null;case 22:case 23:return M1(),null;case 24:return null;default:return null}}var kp=!1,fn=!1,mH=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Hc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){mr(e,t,n)}else r.current=null}function jj(e,t,r){try{r()}catch(n){mr(e,t,n)}}var Sk=!1;function pH(e,t){if(ij=Pg,e=SR(),d1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sj={focusedElem:e,selectionRange:r},Pg=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:es(t.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(N){mr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return g=Sk,Sk=!1,g}function Ff(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&jj(t,r,a)}s=s.next}while(s!==n)}}function Ax(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function b4(e){var t=e.alternate;t!==null&&(e.alternate=null,b4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ms],delete t[fh],delete t[lj],delete t[X7],delete t[Z7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function j4(e){return e.tag===5||e.tag===3||e.tag===4}function Ck(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ag));else if(n!==4&&(e=e.child,e!==null))for(Nj(e,t,r),e=e.sibling;e!==null;)Nj(e,t,r),e=e.sibling}function Sj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Sj(e,t,r),e=e.sibling;e!==null;)Sj(e,t,r),e=e.sibling}var Jr=null,rs=!1;function Qa(e,t,r){for(r=r.child;r!==null;)w4(e,t,r),r=r.sibling}function w4(e,t,r){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(jx,r)}catch{}switch(r.tag){case 5:fn||Hc(r,t);case 6:var n=Jr,s=rs;Jr=null,Qa(e,t,r),Jr=n,rs=s,Jr!==null&&(rs?(e=Jr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(rs?(e=Jr,r=r.stateNode,e.nodeType===8?Ab(e.parentNode,r):e.nodeType===1&&Ab(e,r),oh(e)):Ab(Jr,r.stateNode));break;case 4:n=Jr,s=rs,Jr=r.stateNode.containerInfo,rs=!0,Qa(e,t,r),Jr=n,rs=s;break;case 0:case 11:case 14:case 15:if(!fn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&jj(r,t,o),s=s.next}while(s!==n)}Qa(e,t,r);break;case 1:if(!fn&&(Hc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){mr(r,t,l)}Qa(e,t,r);break;case 21:Qa(e,t,r);break;case 22:r.mode&1?(fn=(n=fn)||r.memoizedState!==null,Qa(e,t,r),fn=n):Qa(e,t,r);break;default:Qa(e,t,r)}}function Pk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mH),t.forEach(function(n){var s=SH.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jr=l.stateNode,rs=!1;break e;case 3:Jr=l.stateNode.containerInfo,rs=!0;break e;case 4:Jr=l.stateNode.containerInfo,rs=!0;break e}l=l.return}if(Jr===null)throw Error(ve(160));w4(a,o,s),Jr=null,rs=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){mr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N4(t,e),t=t.sibling}function N4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xi(t,e),Ps(e),n&4){try{Ff(3,e,e.return),Ax(3,e)}catch(m){mr(e,e.return,m)}try{Ff(5,e,e.return)}catch(m){mr(e,e.return,m)}}break;case 1:Xi(t,e),Ps(e),n&512&&r!==null&&Hc(r,r.return);break;case 5:if(Xi(t,e),Ps(e),n&512&&r!==null&&Hc(r,r.return),e.flags&32){var s=e.stateNode;try{nh(s,"")}catch(m){mr(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&W$(s,a),G0(l,o);var u=G0(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Y$(s,f):d==="dangerouslySetInnerHTML"?G$(s,f):d==="children"?nh(s,f):ZN(s,d,f,u)}switch(l){case"input":V0(s,a);break;case"textarea":H$(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?eu(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?eu(s,!!a.multiple,a.defaultValue,!0):eu(s,!!a.multiple,a.multiple?[]:"",!1))}s[fh]=a}catch(m){mr(e,e.return,m)}}break;case 6:if(Xi(t,e),Ps(e),n&4){if(e.stateNode===null)throw Error(ve(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){mr(e,e.return,m)}}break;case 3:if(Xi(t,e),Ps(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oh(t.containerInfo)}catch(m){mr(e,e.return,m)}break;case 4:Xi(t,e),Ps(e);break;case 13:Xi(t,e),Ps(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(E1=xr())),n&4&&Pk(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(fn=(u=fn)||d,Xi(t,e),fn=u):Xi(t,e),Ps(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Me=e,d=e.child;d!==null;){for(f=Me=d;Me!==null;){switch(h=Me,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ff(4,h,h.return);break;case 1:Hc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){mr(n,r,m)}}break;case 5:Hc(h,h.return);break;case 22:if(h.memoizedState!==null){_k(f);continue}}p!==null?(p.return=h,Me=p):_k(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Q$("display",o))}catch(m){mr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){mr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xi(t,e),Ps(e),n&4&&Pk(e);break;case 21:break;default:Xi(t,e),Ps(e)}}function Ps(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(j4(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(nh(s,""),n.flags&=-33);var a=Ck(e);Sj(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ck(e);Nj(e,l,o);break;default:throw Error(ve(161))}}catch(c){mr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gH(e,t,r){Me=e,S4(e)}function S4(e,t,r){for(var n=(e.mode&1)!==0;Me!==null;){var s=Me,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||kp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||fn;l=kp;var u=fn;if(kp=o,(fn=c)&&!u)for(Me=s;Me!==null;)o=Me,c=o.child,o.tag===22&&o.memoizedState!==null?Ak(s):c!==null?(c.return=o,Me=c):Ak(s);for(;a!==null;)Me=a,S4(a),a=a.sibling;Me=s,kp=l,fn=u}kk(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Me=a):kk(e)}}function kk(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fn||Ax(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:es(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&dk(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}dk(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&oh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}fn||t.flags&512&&wj(t)}catch(h){mr(t,t.return,h)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function _k(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Ak(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ax(4,t)}catch(c){mr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){mr(t,s,c)}}var a=t.return;try{wj(t)}catch(c){mr(t,a,c)}break;case 5:var o=t.return;try{wj(t)}catch(c){mr(t,o,c)}}}catch(c){mr(t,t.return,c)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var vH=Math.ceil,Bg=Va.ReactCurrentDispatcher,A1=Va.ReactCurrentOwner,Bi=Va.ReactCurrentBatchConfig,Ct=0,Hr=null,Cr=null,en=0,Jn=0,Kc=Qo(0),Rr=0,xh=null,Ul=0,Tx=0,T1=0,Bf=null,Un=null,E1=0,Ru=1/0,ha=null,zg=!1,Cj=null,_o=null,_p=!1,bo=null,Ug=0,zf=0,Pj=null,og=-1,lg=0;function Tn(){return Ct&6?xr():og!==-1?og:og=xr()}function Ao(e){return e.mode&1?Ct&2&&en!==0?en&-en:eH.transition!==null?(lg===0&&(lg=lR()),lg):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:pR(e.type)),e):1}function hs(e,t,r,n){if(50<zf)throw zf=0,Pj=null,Error(ve(185));km(e,r,n),(!(Ct&2)||e!==Hr)&&(e===Hr&&(!(Ct&2)&&(Tx|=r),Rr===4&&so(e,en)),Kn(e,n),r===1&&Ct===0&&!(t.mode&1)&&(Ru=xr()+500,Px&&Yo()))}function Kn(e,t){var r=e.callbackNode;e7(e,t);var n=Cg(e,e===Hr?en:0);if(n===0)r!==null&&LP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&LP(r),t===1)e.tag===0?J7(Tk.bind(null,e)):IR(Tk.bind(null,e)),Q7(function(){!(Ct&6)&&Yo()}),r=null;else{switch(cR(n)){case 1:r=n1;break;case 4:r=aR;break;case 16:r=Sg;break;case 536870912:r=oR;break;default:r=Sg}r=O4(r,C4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function C4(e,t){if(og=-1,lg=0,Ct&6)throw Error(ve(327));var r=e.callbackNode;if(su()&&e.callbackNode!==r)return null;var n=Cg(e,e===Hr?en:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vg(e,n);else{t=n;var s=Ct;Ct|=2;var a=k4();(Hr!==e||en!==t)&&(ha=null,Ru=xr()+500,Ml(e,t));do try{bH();break}catch(l){P4(e,l)}while(!0);g1(),Bg.current=a,Ct=s,Cr!==null?t=0:(Hr=null,en=0,t=Rr)}if(t!==0){if(t===2&&(s=J0(e),s!==0&&(n=s,t=kj(e,s))),t===1)throw r=xh,Ml(e,0),so(e,n),Kn(e,xr()),r;if(t===6)so(e,n);else{if(s=e.current.alternate,!(n&30)&&!xH(s)&&(t=Vg(e,n),t===2&&(a=J0(e),a!==0&&(n=a,t=kj(e,a))),t===1))throw r=xh,Ml(e,0),so(e,n),Kn(e,xr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:cl(e,Un,ha);break;case 3:if(so(e,n),(n&130023424)===n&&(t=E1+500-xr(),10<t)){if(Cg(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Tn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=oj(cl.bind(null,e,Un,ha),t);break}cl(e,Un,ha);break;case 4:if(so(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-fs(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vH(n/1960))-n,10<n){e.timeoutHandle=oj(cl.bind(null,e,Un,ha),n);break}cl(e,Un,ha);break;case 5:cl(e,Un,ha);break;default:throw Error(ve(329))}}}return Kn(e,xr()),e.callbackNode===r?C4.bind(null,e):null}function kj(e,t){var r=Bf;return e.current.memoizedState.isDehydrated&&(Ml(e,t).flags|=256),e=Vg(e,t),e!==2&&(t=Un,Un=r,t!==null&&_j(t)),e}function _j(e){Un===null?Un=e:Un.push.apply(Un,e)}function xH(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!gs(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function so(e,t){for(t&=~T1,t&=~Tx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fs(t),n=1<<r;e[r]=-1,t&=~n}}function Tk(e){if(Ct&6)throw Error(ve(327));su();var t=Cg(e,0);if(!(t&1))return Kn(e,xr()),null;var r=Vg(e,t);if(e.tag!==0&&r===2){var n=J0(e);n!==0&&(t=n,r=kj(e,n))}if(r===1)throw r=xh,Ml(e,0),so(e,t),Kn(e,xr()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cl(e,Un,ha),Kn(e,xr()),null}function O1(e,t){var r=Ct;Ct|=1;try{return e(t)}finally{Ct=r,Ct===0&&(Ru=xr()+500,Px&&Yo())}}function Vl(e){bo!==null&&bo.tag===0&&!(Ct&6)&&su();var t=Ct;Ct|=1;var r=Bi.transition,n=Rt;try{if(Bi.transition=null,Rt=1,e)return e()}finally{Rt=n,Bi.transition=r,Ct=t,!(Ct&6)&&Yo()}}function M1(){Jn=Kc.current,er(Kc)}function Ml(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,G7(r)),Cr!==null)for(r=Cr.return;r!==null;){var n=r;switch(h1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Tg();break;case 3:Du(),er(Wn),er(pn),w1();break;case 5:j1(n);break;case 4:Du();break;case 13:er(lr);break;case 19:er(lr);break;case 10:v1(n.type._context);break;case 22:case 23:M1()}r=r.return}if(Hr=e,Cr=e=To(e.current,null),en=Jn=t,Rr=0,xh=null,T1=Tx=Ul=0,Un=Bf=null,xl!==null){for(t=0;t<xl.length;t++)if(r=xl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}xl=null}return e}function P4(e,t){do{var r=Cr;try{if(g1(),ig.current=Fg,Lg){for(var n=cr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lg=!1}if(zl=0,Ur=Mr=cr=null,Lf=!1,ph=0,A1.current=null,r===null||r.return===null){Rr=1,xh=t,Cr=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=en,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vk(o);if(p!==null){p.flags&=-257,xk(p,o,l,a,t),p.mode&1&&gk(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){gk(a,u,t),I1();break e}c=Error(ve(426))}}else if(rr&&l.mode&1){var v=vk(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),xk(v,o,l,a,t),m1($u(c,l));break e}}a=c=$u(c,l),Rr!==4&&(Rr=2),Bf===null?Bf=[a]:Bf.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=c4(a,c,t);uk(a,x);break e;case 1:l=c;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(_o===null||!_o.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=u4(a,l,t);uk(a,N);break e}}a=a.return}while(a!==null)}A4(r)}catch(w){t=w,Cr===r&&r!==null&&(Cr=r=r.return);continue}break}while(!0)}function k4(){var e=Bg.current;return Bg.current=Fg,e===null?Fg:e}function I1(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Hr===null||!(Ul&268435455)&&!(Tx&268435455)||so(Hr,en)}function Vg(e,t){var r=Ct;Ct|=2;var n=k4();(Hr!==e||en!==t)&&(ha=null,Ml(e,t));do try{yH();break}catch(s){P4(e,s)}while(!0);if(g1(),Ct=r,Bg.current=n,Cr!==null)throw Error(ve(261));return Hr=null,en=0,Rr}function yH(){for(;Cr!==null;)_4(Cr)}function bH(){for(;Cr!==null&&!WW();)_4(Cr)}function _4(e){var t=E4(e.alternate,e,Jn);e.memoizedProps=e.pendingProps,t===null?A4(e):Cr=t,A1.current=null}function A4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hH(r,t),r!==null){r.flags&=32767,Cr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rr=6,Cr=null;return}}else if(r=fH(r,t,Jn),r!==null){Cr=r;return}if(t=t.sibling,t!==null){Cr=t;return}Cr=t=e}while(t!==null);Rr===0&&(Rr=5)}function cl(e,t,r){var n=Rt,s=Bi.transition;try{Bi.transition=null,Rt=1,jH(e,t,r,n)}finally{Bi.transition=s,Rt=n}return null}function jH(e,t,r,n){do su();while(bo!==null);if(Ct&6)throw Error(ve(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(t7(e,a),e===Hr&&(Cr=Hr=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_p||(_p=!0,O4(Sg,function(){return su(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Bi.transition,Bi.transition=null;var o=Rt;Rt=1;var l=Ct;Ct|=4,A1.current=null,pH(e,r),N4(r,e),z7(sj),Pg=!!ij,sj=ij=null,e.current=r,gH(r),HW(),Ct=l,Rt=o,Bi.transition=a}else e.current=r;if(_p&&(_p=!1,bo=e,Ug=s),a=e.pendingLanes,a===0&&(_o=null),QW(r.stateNode),Kn(e,xr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(zg)throw zg=!1,e=Cj,Cj=null,e;return Ug&1&&e.tag!==0&&su(),a=e.pendingLanes,a&1?e===Pj?zf++:(zf=0,Pj=e):zf=0,Yo(),null}function su(){if(bo!==null){var e=cR(Ug),t=Bi.transition,r=Rt;try{if(Bi.transition=null,Rt=16>e?16:e,bo===null)var n=!1;else{if(e=bo,bo=null,Ug=0,Ct&6)throw Error(ve(331));var s=Ct;for(Ct|=4,Me=e.current;Me!==null;){var a=Me,o=a.child;if(Me.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:Ff(8,d,a)}var f=d.child;if(f!==null)f.return=d,Me=f;else for(;Me!==null;){d=Me;var h=d.sibling,p=d.return;if(b4(d),d===u){Me=null;break}if(h!==null){h.return=p,Me=h;break}Me=p}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Me=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Me=o;else e:for(;Me!==null;){if(a=Me,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ff(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Me=x;break e}Me=a.return}}var y=e.current;for(Me=y;Me!==null;){o=Me;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Me=b;else e:for(o=y;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ax(9,l)}}catch(w){mr(l,l.return,w)}if(l===o){Me=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Me=N;break e}Me=l.return}}if(Ct=s,Yo(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(jx,e)}catch{}n=!0}return n}finally{Rt=r,Bi.transition=t}}return!1}function Ek(e,t,r){t=$u(r,t),t=c4(e,t,1),e=ko(e,t,1),t=Tn(),e!==null&&(km(e,1,t),Kn(e,t))}function mr(e,t,r){if(e.tag===3)Ek(e,e,r);else for(;t!==null;){if(t.tag===3){Ek(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_o===null||!_o.has(n))){e=$u(r,e),e=u4(t,e,1),t=ko(t,e,1),e=Tn(),t!==null&&(km(t,1,e),Kn(t,e));break}}t=t.return}}function wH(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Tn(),e.pingedLanes|=e.suspendedLanes&r,Hr===e&&(en&r)===r&&(Rr===4||Rr===3&&(en&130023424)===en&&500>xr()-E1?Ml(e,0):T1|=r),Kn(e,t)}function T4(e,t){t===0&&(e.mode&1?(t=xp,xp<<=1,!(xp&130023424)&&(xp=4194304)):t=1);var r=Tn();e=Da(e,t),e!==null&&(km(e,t,r),Kn(e,r))}function NH(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),T4(e,r)}function SH(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),T4(e,r)}var E4;E4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wn.current)Vn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vn=!1,dH(e,t,r);Vn=!!(e.flags&131072)}else Vn=!1,rr&&t.flags&1048576&&DR(t,Mg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ag(e,t),e=t.pendingProps;var s=Ou(t,pn.current);iu(t,r),s=S1(null,t,n,e,s,r);var a=C1();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hn(n)?(a=!0,Eg(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,y1(t),s.updater=_x,t.stateNode=s,s._reactInternals=t,mj(t,n,e,r),t=vj(null,t,n,!0,a,r)):(t.tag=0,rr&&a&&f1(t),Nn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ag(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=PH(n),e=es(n,e),s){case 0:t=gj(null,t,n,e,r);break e;case 1:t=jk(null,t,n,e,r);break e;case 11:t=yk(null,t,n,e,r);break e;case 14:t=bk(null,t,n,es(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:es(n,s),gj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:es(n,s),jk(e,t,n,s,r);case 3:e:{if(m4(t),e===null)throw Error(ve(387));n=t.pendingProps,a=t.memoizedState,s=a.element,zR(e,t),$g(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=$u(Error(ve(423)),t),t=wk(e,t,n,r,s);break e}else if(n!==s){s=$u(Error(ve(424)),t),t=wk(e,t,n,r,s);break e}else for(fi=Po(t.stateNode.containerInfo.firstChild),hi=t,rr=!0,ss=null,r=FR(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mu(),n===s){t=$a(e,t,r);break e}Nn(e,t,n,r)}t=t.child}return t;case 5:return UR(t),e===null&&dj(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,aj(n,s)?o=null:a!==null&&aj(n,a)&&(t.flags|=32),h4(e,t),Nn(e,t,o,r),t.child;case 6:return e===null&&dj(t),null;case 13:return p4(e,t,r);case 4:return b1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Iu(t,null,n,r):Nn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:es(n,s),yk(e,t,n,s,r);case 7:return Nn(e,t,t.pendingProps,r),t.child;case 8:return Nn(e,t,t.pendingProps.children,r),t.child;case 12:return Nn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Kt(Ig,n._currentValue),n._currentValue=o,a!==null)if(gs(a.value,o)){if(a.children===s.children&&!Wn.current){t=$a(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ca(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),fj(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ve(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),fj(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Nn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,iu(t,r),s=Vi(s),n=n(s),t.flags|=1,Nn(e,t,n,r),t.child;case 14:return n=t.type,s=es(n,t.pendingProps),s=es(n.type,s),bk(e,t,n,s,r);case 15:return d4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:es(n,s),ag(e,t),t.tag=1,Hn(n)?(e=!0,Eg(t)):e=!1,iu(t,r),l4(t,n,s),mj(t,n,s,r),vj(null,t,n,!0,e,r);case 19:return g4(e,t,r);case 22:return f4(e,t,r)}throw Error(ve(156,t.tag))};function O4(e,t){return sR(e,t)}function CH(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(e,t,r,n){return new CH(e,t,r,n)}function D1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function PH(e){if(typeof e=="function")return D1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===e1)return 11;if(e===t1)return 14}return 2}function To(e,t){var r=e.alternate;return r===null?(r=Ri(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function cg(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")D1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rc:return Il(r.children,s,a,t);case JN:o=8,s|=8;break;case L0:return e=Ri(12,r,t,s|2),e.elementType=L0,e.lanes=a,e;case F0:return e=Ri(13,r,t,s),e.elementType=F0,e.lanes=a,e;case B0:return e=Ri(19,r,t,s),e.elementType=B0,e.lanes=a,e;case U$:return Ex(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B$:o=10;break e;case z$:o=9;break e;case e1:o=11;break e;case t1:o=14;break e;case to:o=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=Ri(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Il(e,t,r,n){return e=Ri(7,e,n,t),e.lanes=r,e}function Ex(e,t,r,n){return e=Ri(22,e,n,t),e.elementType=U$,e.lanes=r,e.stateNode={isHidden:!1},e}function Rb(e,t,r){return e=Ri(6,e,null,t),e.lanes=r,e}function Lb(e,t,r){return t=Ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kH(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xb(0),this.expirationTimes=xb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $1(e,t,r,n,s,a,o,l,c){return e=new kH(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ri(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},y1(a),e}function _H(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$c,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function M4(e){if(!e)return Ro;e=e._reactInternals;e:{if(mc(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(Hn(r))return MR(e,r,t)}return t}function I4(e,t,r,n,s,a,o,l,c){return e=$1(r,n,!0,e,s,a,o,l,c),e.context=M4(null),r=e.current,n=Tn(),s=Ao(r),a=Ca(n,s),a.callback=t??null,ko(r,a,s),e.current.lanes=s,km(e,s,n),Kn(e,n),e}function Ox(e,t,r,n){var s=t.current,a=Tn(),o=Ao(s);return r=M4(r),t.context===null?t.context=r:t.pendingContext=r,t=Ca(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ko(s,t,o),e!==null&&(hs(e,s,o,a),ng(e,s,o)),o}function qg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ok(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function R1(e,t){Ok(e,t),(e=e.alternate)&&Ok(e,t)}function AH(){return null}var D4=typeof reportError=="function"?reportError:function(e){console.error(e)};function L1(e){this._internalRoot=e}Mx.prototype.render=L1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));Ox(e,t,null,null)};Mx.prototype.unmount=L1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vl(function(){Ox(null,e,null,null)}),t[Ia]=null}};function Mx(e){this._internalRoot=e}Mx.prototype.unstable_scheduleHydration=function(e){if(e){var t=fR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<io.length&&t!==0&&t<io[r].priority;r++);io.splice(r,0,e),r===0&&mR(e)}};function F1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ix(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mk(){}function TH(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=qg(o);a.call(u)}}var o=I4(t,n,e,0,null,!1,!1,"",Mk);return e._reactRootContainer=o,e[Ia]=o.current,uh(e.nodeType===8?e.parentNode:e),Vl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=qg(c);l.call(u)}}var c=$1(e,0,!1,null,null,!1,!1,"",Mk);return e._reactRootContainer=c,e[Ia]=c.current,uh(e.nodeType===8?e.parentNode:e),Vl(function(){Ox(t,c,r,n)}),c}function Dx(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=qg(o);l.call(c)}}Ox(t,o,e,s)}else o=TH(r,t,e,s,n);return qg(o)}uR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cf(t.pendingLanes);r!==0&&(i1(t,r|1),Kn(t,xr()),!(Ct&6)&&(Ru=xr()+500,Yo()))}break;case 13:Vl(function(){var n=Da(e,1);if(n!==null){var s=Tn();hs(n,e,1,s)}}),R1(e,1)}};s1=function(e){if(e.tag===13){var t=Da(e,134217728);if(t!==null){var r=Tn();hs(t,e,134217728,r)}R1(e,134217728)}};dR=function(e){if(e.tag===13){var t=Ao(e),r=Da(e,t);if(r!==null){var n=Tn();hs(r,e,t,n)}R1(e,t)}};fR=function(){return Rt};hR=function(e,t){var r=Rt;try{return Rt=e,t()}finally{Rt=r}};Y0=function(e,t,r){switch(t){case"input":if(V0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Cx(n);if(!s)throw Error(ve(90));q$(n),V0(n,s)}}}break;case"textarea":H$(e,r);break;case"select":t=r.value,t!=null&&eu(e,!!r.multiple,t,!1)}};J$=O1;eR=Vl;var EH={usingClientEntryPoint:!1,Events:[Am,zc,Cx,X$,Z$,O1]},af={findFiberByHostInstance:vl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OH={bundleType:af.bundleType,version:af.version,rendererPackageName:af.rendererPackageName,rendererConfig:af.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Va.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nR(e),e===null?null:e.stateNode},findFiberByHostInstance:af.findFiberByHostInstance||AH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ap.isDisabled&&Ap.supportsFiber)try{jx=Ap.inject(OH),Ls=Ap}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EH;wi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F1(t))throw Error(ve(200));return _H(e,t,null,r)};wi.createRoot=function(e,t){if(!F1(e))throw Error(ve(299));var r=!1,n="",s=D4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$1(e,1,!1,null,null,r,!1,n,s),e[Ia]=t.current,uh(e.nodeType===8?e.parentNode:e),new L1(t)};wi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=nR(t),e=e===null?null:e.stateNode,e};wi.flushSync=function(e){return Vl(e)};wi.hydrate=function(e,t,r){if(!Ix(t))throw Error(ve(200));return Dx(null,e,t,!0,r)};wi.hydrateRoot=function(e,t,r){if(!F1(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=D4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=I4(t,null,e,1,r??null,s,!1,a,o),e[Ia]=t.current,uh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Mx(t)};wi.render=function(e,t,r){if(!Ix(t))throw Error(ve(200));return Dx(null,e,t,!1,r)};wi.unmountComponentAtNode=function(e){if(!Ix(e))throw Error(ve(40));return e._reactRootContainer?(Vl(function(){Dx(null,null,e,!1,function(){e._reactRootContainer=null,e[Ia]=null})}),!0):!1};wi.unstable_batchedUpdates=O1;wi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ix(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Dx(e,t,r,!1,n)};wi.version="18.3.1-next-f1338f8080-20240426";function $4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($4)}catch(e){console.error(e)}}$4(),$$.exports=wi;var pc=$$.exports;const MH=Dt(pc);var R4,Ik=pc;R4=Ik.createRoot,Ik.hydrateRoot;function IH(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~n?n:~a?a:s.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var L4={exports:{}},F4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=j;function DH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $H=typeof Object.is=="function"?Object.is:DH,RH=Lu.useState,LH=Lu.useEffect,FH=Lu.useLayoutEffect,BH=Lu.useDebugValue;function zH(e,t){var r=t(),n=RH({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return FH(function(){s.value=r,s.getSnapshot=t,Fb(s)&&a({inst:s})},[e,r,t]),LH(function(){return Fb(s)&&a({inst:s}),e(function(){Fb(s)&&a({inst:s})})},[e]),BH(r),r}function Fb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$H(e,r)}catch{return!0}}function UH(e,t){return t()}var VH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UH:zH;F4.useSyncExternalStore=Lu.useSyncExternalStore!==void 0?Lu.useSyncExternalStore:VH;L4.exports=F4;var qH=L4.exports;const WH=I$.useInsertionEffect,HH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KH=HH?j.useLayoutEffect:j.useEffect,GH=WH||KH,B4=e=>{const t=j.useRef([e,(...r)=>t[0](...r)]).current;return GH(()=>{t[0]=e}),t[1]},QH="popstate",B1="pushState",z1="replaceState",YH="hashchange",Dk=[QH,B1,z1,YH],XH=e=>{for(const t of Dk)addEventListener(t,e);return()=>{for(const t of Dk)removeEventListener(t,e)}},z4=(e,t)=>qH.useSyncExternalStore(XH,e,t),ZH=()=>location.search,JH=({ssrSearch:e=""}={})=>z4(ZH,()=>e),$k=()=>location.pathname,eK=({ssrPath:e}={})=>z4($k,e?()=>e:$k),tK=(e,{replace:t=!1,state:r=null}={})=>history[t?z1:B1](r,"",e),rK=(e={})=>[eK(e),tK],Rk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Rk]>"u"){for(const e of[B1,z1]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Rk,{value:!0})}const nK=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",U4=(e="")=>e==="/"?"":e,iK=(e,t)=>e[0]==="~"?e.slice(1):U4(t)+e,sK=(e="",t)=>nK(Lk(U4(e)),Lk(t)),Lk=e=>{try{return decodeURI(e)}catch{return e}},V4={hook:rK,searchHook:JH,parser:IH,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},q4=j.createContext(V4),Em=()=>j.useContext(q4),W4={},H4=j.createContext(W4),Om=()=>j.useContext(H4),$x=e=>{const[t,r]=e.hook(e);return[sK(e.base,t),B4((n,s)=>r(iK(n,e.base),s))]},$n=()=>$x(Em()),K4=(e,t,r,n)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},aK=({children:e,...t})=>{var d,f;const r=Em(),n=t.hook?V4:r;let s=n;const[a,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=j.useRef({}),c=l.current,u=c;for(let h in n){const p=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&p!==u[h]&&(l.current=u={...u}),u[h]=p,p!==n[h]&&(s=u)}return j.createElement(q4.Provider,{value:s,children:e})},Fk=({children:e,component:t},r)=>t?j.createElement(t,{params:r}):typeof e=="function"?e(r):e,oK=e=>{let t=j.useRef(W4),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},dt=({path:e,nest:t,match:r,...n})=>{const s=Em(),[a]=$x(s),[o,l,c]=r??K4(s.parser,e,a,t),u=oK({...Om(),...l});if(!o)return null;const d=c?j.createElement(aK,{base:c},Fk(n,u)):Fk(n,u);return j.createElement(H4.Provider,{value:u,children:d})},Pn=j.forwardRef((e,t)=>{const r=Em(),[n,s]=$x(r),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...p}=e,g=B4(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(l==null||l(v),v.defaultPrevented||(v.preventDefault(),s(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&j.isValidElement(u)?j.cloneElement(u,{onClick:g,href:m}):j.createElement("a",{...p,onClick:g,href:m,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),G4=e=>Array.isArray(e)?e.flatMap(t=>G4(t&&t.type===j.Fragment?t.props.children:t)):[e],lK=({children:e,location:t})=>{const r=Em(),[n]=$x(r);for(const s of G4(e)){let a=0;if(j.isValidElement(s)&&(a=K4(r.parser,s.props.path,t||n,s.props.nest))[0])return j.cloneElement(s,{match:a})}return null};var wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ql=typeof window>"u"||"Deno"in globalThis;function Ti(){}function cK(e,t){return typeof e=="function"?e(t):e}function Aj(e){return typeof e=="number"&&e>=0&&e!==1/0}function Q4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function au(e,t){return typeof e=="function"?e(t):e}function as(e,t){return typeof e=="function"?e(t):e}function Bk(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==U1(o,t.options))return!1}else if(!yh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function zk(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Wl(t.options.mutationKey)!==Wl(a))return!1}else if(!yh(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function U1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wl)(e)}function Wl(e){return JSON.stringify(e,(t,r)=>Tj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function yh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!yh(e[r],t[r])):!1}function Y4(e,t){if(e===t)return e;const r=Uk(e)&&Uk(t);if(r||Tj(e)&&Tj(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=Y4(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function Wg(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Uk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Tj(e){if(!Vk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Vk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Vk(e){return Object.prototype.toString.call(e)==="[object Object]"}function uK(e){return new Promise(t=>{setTimeout(t,e)})}function Ej(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Y4(e,t):t}function dK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function fK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var V1=Symbol();function X4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===V1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Pl,co,xu,jO,hK=(jO=class extends wd{constructor(){super();qe(this,Pl);qe(this,co);qe(this,xu);Ae(this,xu,t=>{if(!ql&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){V(this,co)||this.setEventListener(V(this,xu))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,co))==null||t.call(this),Ae(this,co,void 0))}setEventListener(t){var r;Ae(this,xu,t),(r=V(this,co))==null||r.call(this),Ae(this,co,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){V(this,Pl)!==t&&(Ae(this,Pl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof V(this,Pl)=="boolean"?V(this,Pl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pl=new WeakMap,co=new WeakMap,xu=new WeakMap,jO),q1=new hK,yu,uo,bu,wO,mK=(wO=class extends wd{constructor(){super();qe(this,yu,!0);qe(this,uo);qe(this,bu);Ae(this,bu,t=>{if(!ql&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){V(this,uo)||this.setEventListener(V(this,bu))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,uo))==null||t.call(this),Ae(this,uo,void 0))}setEventListener(t){var r;Ae(this,bu,t),(r=V(this,uo))==null||r.call(this),Ae(this,uo,t(this.setOnline.bind(this)))}setOnline(t){V(this,yu)!==t&&(Ae(this,yu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return V(this,yu)}},yu=new WeakMap,uo=new WeakMap,bu=new WeakMap,wO),Hg=new mK;function Oj(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function pK(e){return Math.min(1e3*2**e,3e4)}function Z4(e){return(e??"online")==="online"?Hg.isOnline():!0}var J4=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bb(e){return e instanceof J4}function eL(e){let t=!1,r=0,n=!1,s;const a=Oj(),o=m=>{var v;n||(h(new J4(m)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>q1.isFocused()&&(e.networkMode==="always"||Hg.isOnline())&&e.canRun(),d=()=>Z4(e.networkMode)&&e.canRun(),f=m=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,m),s==null||s(),a.resolve(m))},h=m=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,m),s==null||s(),a.reject(m))},p=()=>new Promise(m=>{var v;s=x=>{(n||u())&&m(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(f).catch(x=>{var S;if(n)return;const y=e.retry??(ql?0:3),b=e.retryDelay??pK,N=typeof b=="function"?b(r,x):b,w=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!w){h(x);return}r++,(S=e.onFail)==null||S.call(e,r,x),uK(N).then(()=>u()?void 0:p()).then(()=>{t?h(x):g()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),a)}}function gK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Dr=gK(),kl,NO,tL=(NO=class{constructor(){qe(this,kl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Aj(this.gcTime)&&Ae(this,kl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ql?1/0:5*60*1e3))}clearGcTimeout(){V(this,kl)&&(clearTimeout(V(this,kl)),Ae(this,kl,void 0))}},kl=new WeakMap,NO),ju,wu,Ai,un,wm,_l,ts,da,SO,vK=(SO=class extends tL{constructor(t){super();qe(this,ts);qe(this,ju);qe(this,wu);qe(this,Ai);qe(this,un);qe(this,wm);qe(this,_l);Ae(this,_l,!1),Ae(this,wm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ae(this,Ai,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ae(this,ju,xK(this.options)),this.state=t.state??V(this,ju),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,un))==null?void 0:t.promise}setOptions(t){this.options={...V(this,wm),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Ai).remove(this)}setData(t,r){const n=Ej(this.state.data,t,this.options);return ot(this,ts,da).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ot(this,ts,da).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=V(this,un))==null?void 0:n.promise;return(s=V(this,un))==null||s.cancel(t),r?r.then(Ti).catch(Ti):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,ju))}isActive(){return this.observers.some(t=>as(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===V1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Q4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,un))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,un))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,Ai).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(V(this,un)&&(V(this,_l)?V(this,un).cancel({revert:!0}):V(this,un).cancelRetry()),this.scheduleGc()),V(this,Ai).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ot(this,ts,da).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,un))return V(this,un).continueRetry(),V(this,un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ae(this,_l,!0),n.signal)})},a=()=>{const f=X4(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),Ae(this,_l,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ae(this,wu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&ot(this,ts,da).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,g,m;Bb(f)&&f.silent||ot(this,ts,da).call(this,{type:"error",error:f}),Bb(f)||((p=(h=V(this,Ai).config).onError)==null||p.call(h,f,this),(m=(g=V(this,Ai).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return Ae(this,un,eL({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,g,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(p=(h=V(this,Ai).config).onSuccess)==null||p.call(h,f,this),(m=(g=V(this,Ai).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{ot(this,ts,da).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ot(this,ts,da).call(this,{type:"pause"})},onContinue:()=>{ot(this,ts,da).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,un).start()}},ju=new WeakMap,wu=new WeakMap,Ai=new WeakMap,un=new WeakMap,wm=new WeakMap,_l=new WeakMap,ts=new WeakSet,da=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...rL(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Bb(s)&&s.revert&&V(this,wu)?{...V(this,wu),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),V(this,Ai).notify({query:this,type:"updated",action:t})})},SO);function rL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var As,CO,yK=(CO=class extends wd{constructor(t={}){super();qe(this,As);this.config=t,Ae(this,As,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??U1(s,r);let o=this.get(a);return o||(o=new vK({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){V(this,As).has(t.queryHash)||(V(this,As).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=V(this,As).get(t.queryHash);r&&(t.destroy(),r===t&&V(this,As).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,As).get(t)}getAll(){return[...V(this,As).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Bk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Bk(t,n)):r}notify(t){Dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},As=new WeakMap,CO),Ts,bn,Al,Es,Ja,PO,bK=(PO=class extends tL{constructor(t){super();qe(this,Es);qe(this,Ts);qe(this,bn);qe(this,Al);this.mutationId=t.mutationId,Ae(this,bn,t.mutationCache),Ae(this,Ts,[]),this.state=t.state||nL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Ts).includes(t)||(V(this,Ts).push(t),this.clearGcTimeout(),V(this,bn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ae(this,Ts,V(this,Ts).filter(r=>r!==t)),this.scheduleGc(),V(this,bn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Ts).length||(this.state.status==="pending"?this.scheduleGc():V(this,bn).remove(this))}continue(){var t;return((t=V(this,Al))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,u,d,f,h,p,g,m,v,x,y,b,N,w,S,C;Ae(this,Al,eL({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,P)=>{ot(this,Es,Ja).call(this,{type:"failed",failureCount:k,error:P})},onPause:()=>{ot(this,Es,Ja).call(this,{type:"pause"})},onContinue:()=>{ot(this,Es,Ja).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,bn).canRun(this)}));const r=this.state.status==="pending",n=!V(this,Al).canStart();try{if(!r){ot(this,Es,Ja).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(s=V(this,bn).config).onMutate)==null?void 0:a.call(s,t,this));const P=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));P!==this.state.context&&ot(this,Es,Ja).call(this,{type:"pending",context:P,variables:t,isPaused:n})}const k=await V(this,Al).start();return await((u=(c=V(this,bn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context)),await((p=(h=V(this,bn).config).onSettled)==null?void 0:p.call(h,k,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,k,null,t,this.state.context)),ot(this,Es,Ja).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(v=V(this,bn).config).onError)==null?void 0:x.call(v,k,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,k,t,this.state.context)),await((w=(N=V(this,bn).config).onSettled)==null?void 0:w.call(N,void 0,k,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,k,t,this.state.context)),k}finally{ot(this,Es,Ja).call(this,{type:"error",error:k})}}finally{V(this,bn).runNext(this)}}},Ts=new WeakMap,bn=new WeakMap,Al=new WeakMap,Es=new WeakSet,Ja=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dr.batch(()=>{V(this,Ts).forEach(n=>{n.onMutationUpdate(t)}),V(this,bn).notify({mutation:this,type:"updated",action:t})})},PO);function nL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zn,Nm,kO,jK=(kO=class extends wd{constructor(t={}){super();qe(this,Zn);qe(this,Nm);this.config=t,Ae(this,Zn,new Map),Ae(this,Nm,Date.now())}build(t,r,n){const s=new bK({mutationCache:this,mutationId:++dp(this,Nm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=Tp(t),n=V(this,Zn).get(r)??[];n.push(t),V(this,Zn).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Tp(t);if(V(this,Zn).has(r)){const s=(n=V(this,Zn).get(r))==null?void 0:n.filter(a=>a!==t);s&&(s.length===0?V(this,Zn).delete(r):V(this,Zn).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=V(this,Zn).get(Tp(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=V(this,Zn).get(Tp(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,Zn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>zk(r,n))}findAll(t={}){return this.getAll().filter(r=>zk(t,r))}notify(t){Dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Dr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ti))))}},Zn=new WeakMap,Nm=new WeakMap,kO);function Tp(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function qk(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=X4(t.options,t.fetchOptions),y=async(b,N,w)=>{if(m)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const S={queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};v(S);const C=await x(S),{maxPages:k}=t.options,P=w?fK:dK;return{pages:P(b.pages,C,k),pageParams:P(b.pageParams,N,k)}};if(s&&a.length){const b=s==="backward",N=b?wK:Wk,w={pages:a,pageParams:o},S=N(n,w);l=await y(w,S,b)}else{const b=e??a.length;do{const N=c===0?o[0]??n.initialPageParam:Wk(n,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Wk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function wK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var hr,fo,ho,Nu,Su,mo,Cu,Pu,_O,NK=(_O=class{constructor(e={}){qe(this,hr);qe(this,fo);qe(this,ho);qe(this,Nu);qe(this,Su);qe(this,mo);qe(this,Cu);qe(this,Pu);Ae(this,hr,e.queryCache||new yK),Ae(this,fo,e.mutationCache||new jK),Ae(this,ho,e.defaultOptions||{}),Ae(this,Nu,new Map),Ae(this,Su,new Map),Ae(this,mo,0)}mount(){dp(this,mo)._++,V(this,mo)===1&&(Ae(this,Cu,q1.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,hr).onFocus())})),Ae(this,Pu,Hg.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,hr).onOnline())})))}unmount(){var e,t;dp(this,mo)._--,V(this,mo)===0&&((e=V(this,Cu))==null||e.call(this),Ae(this,Cu,void 0),(t=V(this,Pu))==null||t.call(this),Ae(this,Pu,void 0))}isFetching(e){return V(this,hr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,fo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,hr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=V(this,hr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(au(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return V(this,hr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=V(this,hr).get(n.queryHash),a=s==null?void 0:s.state.data,o=cK(t,a);if(o!==void 0)return V(this,hr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Dr.batch(()=>V(this,hr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,hr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=V(this,hr);Dr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=V(this,hr),n={type:"active",...e};return Dr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Dr.batch(()=>V(this,hr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ti).catch(Ti)}invalidateQueries(e={},t={}){return Dr.batch(()=>{if(V(this,hr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Dr.batch(()=>V(this,hr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ti)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ti)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=V(this,hr).build(this,t);return r.isStaleByTime(au(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ti).catch(Ti)}fetchInfiniteQuery(e){return e.behavior=qk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ti).catch(Ti)}ensureInfiniteQueryData(e){return e.behavior=qk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hg.isOnline()?V(this,fo).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,hr)}getMutationCache(){return V(this,fo)}getDefaultOptions(){return V(this,ho)}setDefaultOptions(e){Ae(this,ho,e)}setQueryDefaults(e,t){V(this,Nu).set(Wl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,Nu).values()];let r={};return t.forEach(n=>{yh(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){V(this,Su).set(Wl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,Su).values()];let r={};return t.forEach(n=>{yh(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,ho).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=U1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===V1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,ho).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,hr).clear(),V(this,fo).clear()}},hr=new WeakMap,fo=new WeakMap,ho=new WeakMap,Nu=new WeakMap,Su=new WeakMap,mo=new WeakMap,Cu=new WeakMap,Pu=new WeakMap,_O),Fn,vt,Sm,jn,Tl,ku,po,Os,Cm,_u,Au,El,Ol,go,Tu,Mt,kf,Mj,Ij,Dj,$j,Rj,Lj,Fj,iL,AO,SK=(AO=class extends wd{constructor(t,r){super();qe(this,Mt);qe(this,Fn);qe(this,vt);qe(this,Sm);qe(this,jn);qe(this,Tl);qe(this,ku);qe(this,po);qe(this,Os);qe(this,Cm);qe(this,_u);qe(this,Au);qe(this,El);qe(this,Ol);qe(this,go);qe(this,Tu,new Set);this.options=r,Ae(this,Fn,t),Ae(this,Os,null),Ae(this,po,Oj()),this.options.experimental_prefetchInRender||V(this,po).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,vt).addObserver(this),Hk(V(this,vt),this.options)?ot(this,Mt,kf).call(this):this.updateResult(),ot(this,Mt,$j).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bj(V(this,vt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bj(V(this,vt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ot(this,Mt,Rj).call(this),ot(this,Mt,Lj).call(this),V(this,vt).removeObserver(this)}setOptions(t,r){const n=this.options,s=V(this,vt);if(this.options=V(this,Fn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof as(this.options.enabled,V(this,vt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ot(this,Mt,Fj).call(this),V(this,vt).setOptions(this.options),n._defaulted&&!Wg(this.options,n)&&V(this,Fn).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,vt),observer:this});const a=this.hasListeners();a&&Kk(V(this,vt),s,this.options,n)&&ot(this,Mt,kf).call(this),this.updateResult(r),a&&(V(this,vt)!==s||as(this.options.enabled,V(this,vt))!==as(n.enabled,V(this,vt))||au(this.options.staleTime,V(this,vt))!==au(n.staleTime,V(this,vt)))&&ot(this,Mt,Mj).call(this);const o=ot(this,Mt,Ij).call(this);a&&(V(this,vt)!==s||as(this.options.enabled,V(this,vt))!==as(n.enabled,V(this,vt))||o!==V(this,go))&&ot(this,Mt,Dj).call(this,o)}getOptimisticResult(t){const r=V(this,Fn).getQueryCache().build(V(this,Fn),t),n=this.createResult(r,t);return PK(this,n)&&(Ae(this,jn,n),Ae(this,ku,this.options),Ae(this,Tl,V(this,vt).state)),n}getCurrentResult(){return V(this,jn)}trackResult(t,r){const n={};return Object.keys(t).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),n}trackProp(t){V(this,Tu).add(t)}getCurrentQuery(){return V(this,vt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=V(this,Fn).defaultQueryOptions(t),n=V(this,Fn).getQueryCache().build(V(this,Fn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ot(this,Mt,kf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,jn)))}createResult(t,r){var k;const n=V(this,vt),s=this.options,a=V(this,jn),o=V(this,Tl),l=V(this,ku),u=t!==n?t.state:V(this,Sm),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const P=this.hasListeners(),A=!P&&Hk(t,r),O=P&&Kk(t,n,r,s);(A||O)&&(f={...f,...rL(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:v}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&r.select===V(this,Cm))p=V(this,_u);else try{Ae(this,Cm,r.select),p=r.select(f.data),p=Ej(a==null?void 0:a.data,p,r),Ae(this,_u,p),Ae(this,Os,null)}catch(P){Ae(this,Os,P)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let P;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))P=a.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((k=V(this,Au))==null?void 0:k.state.data,V(this,Au)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),Ae(this,Os,null)}catch(A){Ae(this,Os,A)}P!==void 0&&(v="success",p=Ej(a==null?void 0:a.data,P,r),h=!0)}V(this,Os)&&(g=V(this,Os),p=V(this,_u),m=Date.now(),v="error");const x=f.fetchStatus==="fetching",y=v==="pending",b=v==="error",N=y&&x,w=p!==void 0,C={status:v,fetchStatus:f.fetchStatus,isPending:y,isSuccess:v==="success",isError:b,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:b&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&w,isStale:W1(t,r),refetch:this.refetch,promise:V(this,po)};if(this.options.experimental_prefetchInRender){const P=M=>{C.status==="error"?M.reject(C.error):C.data!==void 0&&M.resolve(C.data)},A=()=>{const M=Ae(this,po,C.promise=Oj());P(M)},O=V(this,po);switch(O.status){case"pending":t.queryHash===n.queryHash&&P(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&A();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&A();break}}return C}updateResult(t){const r=V(this,jn),n=this.createResult(V(this,vt),this.options);if(Ae(this,Tl,V(this,vt).state),Ae(this,ku,this.options),V(this,Tl).data!==void 0&&Ae(this,Au,V(this,vt)),Wg(n,r))return;Ae(this,jn,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!V(this,Tu).size)return!0;const c=new Set(l??V(this,Tu));return this.options.throwOnError&&c.add("error"),Object.keys(V(this,jn)).some(u=>{const d=u;return V(this,jn)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),ot(this,Mt,iL).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ot(this,Mt,$j).call(this)}},Fn=new WeakMap,vt=new WeakMap,Sm=new WeakMap,jn=new WeakMap,Tl=new WeakMap,ku=new WeakMap,po=new WeakMap,Os=new WeakMap,Cm=new WeakMap,_u=new WeakMap,Au=new WeakMap,El=new WeakMap,Ol=new WeakMap,go=new WeakMap,Tu=new WeakMap,Mt=new WeakSet,kf=function(t){ot(this,Mt,Fj).call(this);let r=V(this,vt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ti)),r},Mj=function(){ot(this,Mt,Rj).call(this);const t=au(this.options.staleTime,V(this,vt));if(ql||V(this,jn).isStale||!Aj(t))return;const n=Q4(V(this,jn).dataUpdatedAt,t)+1;Ae(this,El,setTimeout(()=>{V(this,jn).isStale||this.updateResult()},n))},Ij=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,vt)):this.options.refetchInterval)??!1},Dj=function(t){ot(this,Mt,Lj).call(this),Ae(this,go,t),!(ql||as(this.options.enabled,V(this,vt))===!1||!Aj(V(this,go))||V(this,go)===0)&&Ae(this,Ol,setInterval(()=>{(this.options.refetchIntervalInBackground||q1.isFocused())&&ot(this,Mt,kf).call(this)},V(this,go)))},$j=function(){ot(this,Mt,Mj).call(this),ot(this,Mt,Dj).call(this,ot(this,Mt,Ij).call(this))},Rj=function(){V(this,El)&&(clearTimeout(V(this,El)),Ae(this,El,void 0))},Lj=function(){V(this,Ol)&&(clearInterval(V(this,Ol)),Ae(this,Ol,void 0))},Fj=function(){const t=V(this,Fn).getQueryCache().build(V(this,Fn),this.options);if(t===V(this,vt))return;const r=V(this,vt);Ae(this,vt,t),Ae(this,Sm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},iL=function(t){Dr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(V(this,jn))}),V(this,Fn).getQueryCache().notify({query:V(this,vt),type:"observerResultsUpdated"})})},AO);function CK(e,t){return as(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Hk(e,t){return CK(e,t)||e.state.data!==void 0&&Bj(e,t,t.refetchOnMount)}function Bj(e,t,r){if(as(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&W1(e,t)}return!1}function Kk(e,t,r,n){return(e!==t||as(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&W1(e,r)}function W1(e,t){return as(t.enabled,e)!==!1&&e.isStaleByTime(au(t.staleTime,e))}function PK(e,t){return!Wg(e.getCurrentResult(),t)}var vo,xo,Bn,va,Oa,ug,zj,TO,kK=(TO=class extends wd{constructor(r,n){super();qe(this,Oa);qe(this,vo);qe(this,xo);qe(this,Bn);qe(this,va);Ae(this,vo,r),this.setOptions(n),this.bindMethods(),ot(this,Oa,ug).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=V(this,vo).defaultMutationOptions(r),Wg(this.options,n)||V(this,vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Bn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Wl(n.mutationKey)!==Wl(this.options.mutationKey)?this.reset():((s=V(this,Bn))==null?void 0:s.state.status)==="pending"&&V(this,Bn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=V(this,Bn))==null||r.removeObserver(this)}onMutationUpdate(r){ot(this,Oa,ug).call(this),ot(this,Oa,zj).call(this,r)}getCurrentResult(){return V(this,xo)}reset(){var r;(r=V(this,Bn))==null||r.removeObserver(this),Ae(this,Bn,void 0),ot(this,Oa,ug).call(this),ot(this,Oa,zj).call(this)}mutate(r,n){var s;return Ae(this,va,n),(s=V(this,Bn))==null||s.removeObserver(this),Ae(this,Bn,V(this,vo).getMutationCache().build(V(this,vo),this.options)),V(this,Bn).addObserver(this),V(this,Bn).execute(r)}},vo=new WeakMap,xo=new WeakMap,Bn=new WeakMap,va=new WeakMap,Oa=new WeakSet,ug=function(){var n;const r=((n=V(this,Bn))==null?void 0:n.state)??nL();Ae(this,xo,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},zj=function(r){Dr.batch(()=>{var n,s,a,o,l,c,u,d;if(V(this,va)&&this.hasListeners()){const f=V(this,xo).variables,h=V(this,xo).context;(r==null?void 0:r.type)==="success"?((s=(n=V(this,va)).onSuccess)==null||s.call(n,r.data,f,h),(o=(a=V(this,va)).onSettled)==null||o.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=V(this,va)).onError)==null||c.call(l,r.error,f,h),(d=(u=V(this,va)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(V(this,xo))})})},TO),sL=j.createContext(void 0),dr=e=>{const t=j.useContext(sL);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},_K=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(sL.Provider,{value:e,children:t})),aL=j.createContext(!1),AK=()=>j.useContext(aL);aL.Provider;function TK(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var EK=j.createContext(TK()),OK=()=>j.useContext(EK);function oL(e,t){return typeof e=="function"?e(...t):!!e}function Uj(){}var MK=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},IK=e=>{j.useEffect(()=>{e.clearReset()},[e])},DK=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&oL(r,[e.error,n]),$K=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},RK=(e,t)=>e.isLoading&&e.isFetching&&!t,LK=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Gk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function FK(e,t,r){var d,f,h,p,g;const n=dr(),s=AK(),a=OK(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",$K(o),MK(o,a),IK(a);const l=!n.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(m=>{const v=s?Uj:c.subscribe(Dr.batchCalls(m));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),LK(o,u))throw Gk(o,c,a);if(DK({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!ql&&RK(u,s)){const m=l?Gk(o,c,a):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;m==null||m.catch(Uj).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ze(e,t){return FK(e,SK)}function Qe(e,t){const r=dr(),[n]=j.useState(()=>new kK(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const s=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(Dr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=j.useCallback((o,l)=>{n.mutate(o,l).catch(Uj)},[n]);if(s.error&&oL(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function lL(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function $e(e,t={}){const{method:r="GET",body:n,headers:s={},...a}=t,o=n instanceof FormData?s:{"Content-Type":"application/json",...s},l=await fetch(e,{method:r,headers:o,body:n instanceof FormData?n:n?JSON.stringify(n):void 0,credentials:"include",...a});return await lL(l),l.json()}const BK=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await lL(r),await r.json())},os=new NK({defaultOptions:{queries:{queryFn:BK({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),zK=1,UK=1e6;let zb=0;function VK(){return zb=(zb+1)%Number.MAX_SAFE_INTEGER,zb.toString()}const Ub=new Map,Qk=e=>{if(Ub.has(e))return;const t=setTimeout(()=>{Ub.delete(e),Uf({type:"REMOVE_TOAST",toastId:e})},UK);Ub.set(e,t)},qK=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zK)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Qk(r):e.toasts.forEach(n=>{Qk(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},dg=[];let fg={toasts:[]};function Uf(e){fg=qK(fg,e),dg.forEach(t=>{t(fg)})}function jo({...e}){const t=VK(),r=s=>Uf({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Uf({type:"DISMISS_TOAST",toastId:t});return Uf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Pt(){const[e,t]=j.useState(fg);j.useEffect(()=>(dg.push(t),()=>{const n=dg.indexOf(t);n>-1&&dg.splice(n,1)}),[e]);const r=Object.assign(jo,{success:n=>jo({...n,variant:"success"}),error:n=>jo({...n,variant:"destructive"}),info:n=>jo({...n,variant:"default"})});return{...e,toast:r,dismiss:n=>Uf({type:"DISMISS_TOAST",toastId:n})}}function je(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Yk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rx(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Yk(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Yk(e[s],null)}}}}function ht(...e){return j.useCallback(Rx(...e),e)}function WK(e,t){const r=j.createContext(t),n=a=>{const{children:o,...l}=a,c=j.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=j.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Kr(e,t=[]){let r=[];function n(a,o){const l=j.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:p,...g}=f,m=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=j.useMemo(()=>g,Object.values(g));return i.jsx(m.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=j.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,HK(s,...t)]}function HK(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Hl(e){const t=GK(e),r=j.forwardRef((n,s)=>{const{children:a,...o}=n,l=j.Children.toArray(a),c=l.find(QK);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var KK=Hl("Slot");function GK(e){const t=j.forwardRef((r,n)=>{const{children:s,...a}=r;if(j.isValidElement(s)){const o=XK(s),l=YK(a,s.props);return s.type!==j.Fragment&&(l.ref=n?Rx(n,o):o),j.cloneElement(s,l)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cL=Symbol("radix.slottable");function uL(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=cL,t}function QK(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cL}function YK(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function XK(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Lx(e){const t=e+"CollectionProvider",[r,n]=Kr(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:x}=m,y=R.useRef(null),b=R.useRef(new Map).current;return i.jsx(s,{scope:v,itemMap:b,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=Hl(l),u=R.forwardRef((m,v)=>{const{scope:x,children:y}=m,b=a(l,x),N=ht(v,b.collectionRef);return i.jsx(c,{ref:N,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Hl(d),p=R.forwardRef((m,v)=>{const{scope:x,children:y,...b}=m,N=R.useRef(null),w=ht(v,N),S=a(d,x);return R.useEffect(()=>(S.itemMap.set(N,{ref:N,...b}),()=>void S.itemMap.delete(N))),i.jsx(h,{[f]:"",ref:w,children:y})});p.displayName=d;function g(m){const v=a(e+"CollectionConsumer",m);return R.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((S,C)=>b.indexOf(S.ref.current)-b.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}var ZK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Re=ZK.reduce((e,t)=>{const r=Hl(`Primitive.${t}`),n=j.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function H1(e,t){e&&pc.flushSync(()=>e.dispatchEvent(t))}function an(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function JK(e,t=globalThis==null?void 0:globalThis.document){const r=an(e);j.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var eG="DismissableLayer",Vj="dismissableLayer.update",tG="dismissableLayer.pointerDownOutside",rG="dismissableLayer.focusOutside",Xk,dL=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(dL),[d,f]=j.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),g=ht(t,C=>f(C)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=x,w=iG(C=>{const k=C.target,P=[...u.branches].some(A=>A.contains(k));!N||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),S=sG(C=>{const k=C.target;[...u.branches].some(A=>A.contains(k))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return JK(C=>{y===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),j.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Xk=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Zk(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Xk)}},[d,h,r,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Zk())},[d,u]),j.useEffect(()=>{const C=()=>p({});return document.addEventListener(Vj,C),()=>document.removeEventListener(Vj,C)},[]),i.jsx(Re.div,{...c,ref:g,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,S.onFocusCapture),onBlurCapture:je(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,w.onPointerDownCapture)})});Nd.displayName=eG;var nG="DismissableLayerBranch",fL=j.forwardRef((e,t)=>{const r=j.useContext(dL),n=j.useRef(null),s=ht(t,n);return j.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Re.div,{...e,ref:s})});fL.displayName=nG;function iG(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),n=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){hL(tG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function sG(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),n=j.useRef(!1);return j.useEffect(()=>{const s=a=>{a.target&&!n.current&&hL(rG,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zk(){const e=new CustomEvent(Vj);document.dispatchEvent(e)}function hL(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?H1(s,a):s.dispatchEvent(a)}var aG=Nd,oG=fL,_r=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},lG="Portal",Mm=j.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=j.useState(!1);_r(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?MH.createPortal(i.jsx(Re.div,{...n,ref:t}),o):null});Mm.displayName=lG;function cG(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var Gn=e=>{const{present:t,children:r}=e,n=uG(t),s=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),a=ht(n.ref,dG(s));return typeof r=="function"||n.isPresent?j.cloneElement(s,{ref:a}):null};Gn.displayName="Presence";function uG(e){const[t,r]=j.useState(),n=j.useRef({}),s=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=cG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=Ep(n.current);a.current=l==="mounted"?u:"none"},[l]),_r(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=Ep(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),_r(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Ep(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(a.current=Ep(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Ep(e){return(e==null?void 0:e.animationName)||"none"}function dG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Wi({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=fG({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=an(r),c=j.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[o,c]}function fG({defaultProp:e,onChange:t}){const r=j.useState(e),[n]=r,s=j.useRef(n),a=an(t);return j.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var hG="VisuallyHidden",Im=j.forwardRef((e,t)=>i.jsx(Re.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Im.displayName=hG;var mG=Im,K1="ToastProvider",[G1,pG,gG]=Lx("Toast"),[mL,uOe]=Kr("Toast",[gG]),[vG,Fx]=mL(K1),pL=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=j.useState(null),[u,d]=j.useState(0),f=j.useRef(!1),h=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${K1}\`. Expected non-empty \`string\`.`),i.jsx(G1.Provider,{scope:t,children:i.jsx(vG,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>d(p=>p+1),[]),onToastRemove:j.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};pL.displayName=K1;var gL="ToastViewport",xG=["F8"],qj="toast.viewportPause",Wj="toast.viewportResume",vL=j.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=xG,label:s="Notifications ({hotkey})",...a}=e,o=Fx(gL,r),l=pG(r),c=j.useRef(null),u=j.useRef(null),d=j.useRef(null),f=j.useRef(null),h=ht(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;j.useEffect(()=>{const v=x=>{var b;n.length!==0&&n.every(N=>x[N]||x.code===N)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),j.useEffect(()=>{const v=c.current,x=f.current;if(g&&v&&x){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(qj);x.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Wj);x.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!v.contains(S.relatedTarget)&&b()},w=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",y),v.addEventListener("focusout",N),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",w),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",N),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",w),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:v})=>{const y=l().map(b=>{const N=b.ref.current,w=[N,...EG(N)];return v==="forwards"?w:w.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return j.useEffect(()=>{const v=f.current;if(v){const x=y=>{var w,S,C;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const k=document.activeElement,P=y.shiftKey;if(y.target===v&&P){(w=u.current)==null||w.focus();return}const M=m({tabbingDirection:P?"backwards":"forwards"}),T=M.findIndex(E=>E===k);Vb(M.slice(T+1))?y.preventDefault():P?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,m]),i.jsxs(oG,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(Hj,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});Vb(v)}}),i.jsx(G1.Slot,{scope:r,children:i.jsx(Re.ol,{tabIndex:-1,...a,ref:h})}),g&&i.jsx(Hj,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});Vb(v)}})]})});vL.displayName=gL;var xL="ToastFocusProxy",Hj=j.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=Fx(xL,r);return i.jsx(Im,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Hj.displayName=xL;var Bx="Toast",yG="toast.swipeStart",bG="toast.swipeMove",jG="toast.swipeCancel",wG="toast.swipeEnd",yL=j.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Wi({prop:n,defaultProp:s,onChange:a});return i.jsx(Gn,{present:r||l,children:i.jsx(CG,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:an(e.onPause),onResume:an(e.onResume),onSwipeStart:je(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:je(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});yL.displayName=Bx;var[NG,SG]=mL(Bx,{onClose(){}}),CG=j.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=Fx(Bx,r),[v,x]=j.useState(null),y=ht(t,E=>x(E)),b=j.useRef(null),N=j.useRef(null),w=s||m.duration,S=j.useRef(0),C=j.useRef(w),k=j.useRef(0),{onToastAdd:P,onToastRemove:A}=m,O=an(()=>{var I;(v==null?void 0:v.contains(document.activeElement))&&((I=m.viewport)==null||I.focus()),o()}),M=j.useCallback(E=>{!E||E===1/0||(window.clearTimeout(k.current),S.current=new Date().getTime(),k.current=window.setTimeout(O,E))},[O]);j.useEffect(()=>{const E=m.viewport;if(E){const I=()=>{M(C.current),u==null||u()},L=()=>{const q=new Date().getTime()-S.current;C.current=C.current-q,window.clearTimeout(k.current),c==null||c()};return E.addEventListener(qj,L),E.addEventListener(Wj,I),()=>{E.removeEventListener(qj,L),E.removeEventListener(Wj,I)}}},[m.viewport,w,c,u,M]),j.useEffect(()=>{a&&!m.isClosePausedRef.current&&M(w)},[a,w,m.isClosePausedRef,M]),j.useEffect(()=>(P(),()=>A()),[P,A]);const T=j.useMemo(()=>v?PL(v):null,[v]);return m.viewport?i.jsxs(i.Fragment,{children:[T&&i.jsx(PG,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),i.jsx(NG,{scope:r,onClose:O,children:pc.createPortal(i.jsx(G1.ItemSlot,{scope:r,children:i.jsx(aG,{asChild:!0,onEscapeKeyDown:je(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:je(e.onPointerDown,E=>{E.button===0&&(b.current={x:E.clientX,y:E.clientY})}),onPointerMove:je(e.onPointerMove,E=>{if(!b.current)return;const I=E.clientX-b.current.x,L=E.clientY-b.current.y,q=!!N.current,_=["left","right"].includes(m.swipeDirection),$=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,G=_?$(0,I):0,re=_?0:$(0,L),B=E.pointerType==="touch"?10:2,ae={x:G,y:re},Se={originalEvent:E,delta:ae};q?(N.current=ae,Op(bG,f,Se,{discrete:!1})):Jk(ae,m.swipeDirection,B)?(N.current=ae,Op(yG,d,Se,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(I)>B||Math.abs(L)>B)&&(b.current=null)}),onPointerUp:je(e.onPointerUp,E=>{const I=N.current,L=E.target;if(L.hasPointerCapture(E.pointerId)&&L.releasePointerCapture(E.pointerId),N.current=null,b.current=null,I){const q=E.currentTarget,_={originalEvent:E,delta:I};Jk(I,m.swipeDirection,m.swipeThreshold)?Op(wG,p,_,{discrete:!0}):Op(jG,h,_,{discrete:!0}),q.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),PG=e=>{const{__scopeToast:t,children:r,...n}=e,s=Fx(Bx,t),[a,o]=j.useState(!1),[l,c]=j.useState(!1);return AG(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Mm,{asChild:!0,children:i.jsx(Im,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},kG="ToastTitle",bL=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Re.div,{...n,ref:t})});bL.displayName=kG;var _G="ToastDescription",jL=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Re.div,{...n,ref:t})});jL.displayName=_G;var wL="ToastAction",NL=j.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(CL,{altText:r,asChild:!0,children:i.jsx(Q1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${wL}\`. Expected non-empty \`string\`.`),null)});NL.displayName=wL;var SL="ToastClose",Q1=j.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=SG(SL,r);return i.jsx(CL,{asChild:!0,children:i.jsx(Re.button,{type:"button",...n,ref:t,onClick:je(e.onClick,s.onClose)})})});Q1.displayName=SL;var CL=j.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function PL(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),TG(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...PL(n))}}),t}function Op(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?H1(s,a):s.dispatchEvent(a)}var Jk=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function AG(e=()=>{}){const t=an(e);_r(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function TG(e){return e.nodeType===e.ELEMENT_NODE}function EG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Vb(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var OG=pL,kL=vL,_L=yL,AL=bL,TL=jL,EL=NL,OL=Q1;function ML(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ML(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function st(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ML(e))&&(n&&(n+=" "),n+=t);return n}const e_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,t_=st,Dm=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return t_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=e_(d)||e_(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...a,...l}[m]):{...a,...l}[m]===v})?[...u,f,h]:u},[]);return t_(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IL=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...IG,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:IL("lucide",s),...l},[...o.map(([u,d])=>j.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const r=j.forwardRef(({className:n,...s},a)=>j.createElement(DG,{ref:a,iconNode:t,className:IL(`lucide-${MG(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=we("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=we("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=we("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=we("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=we("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=we("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=we("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=we("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=we("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=we("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=we("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=we("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=we("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=we("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=we("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=we("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=we("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=we("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=we("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=we("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=we("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=we("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=we("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=we("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=we("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=we("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=we("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=we("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=we("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=we("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=we("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=we("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=we("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),X1="-",nQ=e=>{const t=sQ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(X1);return l[0]===""&&l.length!==1&&l.shift(),KL(l,t)||iQ(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},KL=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?KL(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(X1);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},l_=/^\[(.+)\]$/,iQ=e=>{if(l_.test(e)){const t=l_.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sQ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return oQ(Object.entries(e.classGroups),r).forEach(([a,o])=>{Yj(o,n,a,t)}),n},Yj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:c_(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(aQ(s)){Yj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{Yj(o,c_(t,a),r,n)})})},c_=(e,t)=>{let r=e;return t.split(X1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},aQ=e=>e.isThemeGetter,oQ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,lQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},GL="!",cQ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===s&&(n||l.slice(v,v+a)===t)){c.push(l.slice(d,v)),d=v+a;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(GL),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},uQ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},dQ=e=>({cache:lQ(e.cacheSize),parseClassName:cQ(e),...nQ(e)}),fQ=/\s+/,hQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(fQ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=uQ(d).join(":"),x=f?v+GL:v,y=x+m;if(a.includes(y))continue;a.push(y);const b=s(m,g);for(let N=0;N<b.length;++N){const w=b[N];a.push(x+w)}l=u+(l.length>0?" "+l:l)}return l};function mQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=QL(t))&&(n&&(n+=" "),n+=r);return n}const QL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=QL(e[n]))&&(r&&(r+=" "),r+=t);return r};function pQ(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=dQ(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=hQ(c,r);return s(c,d),d}return function(){return a(mQ.apply(null,arguments))}}const Yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},YL=/^\[(?:([a-z-]+):)?(.+)\]$/i,gQ=/^\d+\/\d+$/,vQ=new Set(["px","full","screen"]),xQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,la=e=>ou(e)||vQ.has(e)||gQ.test(e),Ya=e=>Sd(e,"length",TQ),ou=e=>!!e&&!Number.isNaN(Number(e)),Wb=e=>Sd(e,"number",ou),of=e=>!!e&&Number.isInteger(Number(e)),NQ=e=>e.endsWith("%")&&ou(e.slice(0,-1)),at=e=>YL.test(e),Xa=e=>xQ.test(e),SQ=new Set(["length","size","percentage"]),CQ=e=>Sd(e,SQ,XL),PQ=e=>Sd(e,"position",XL),kQ=new Set(["image","url"]),_Q=e=>Sd(e,kQ,OQ),AQ=e=>Sd(e,"",EQ),lf=()=>!0,Sd=(e,t,r)=>{const n=YL.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},TQ=e=>yQ.test(e)&&!bQ.test(e),XL=()=>!1,EQ=e=>jQ.test(e),OQ=e=>wQ.test(e),MQ=()=>{const e=Yt("colors"),t=Yt("spacing"),r=Yt("blur"),n=Yt("brightness"),s=Yt("borderColor"),a=Yt("borderRadius"),o=Yt("borderSpacing"),l=Yt("borderWidth"),c=Yt("contrast"),u=Yt("grayscale"),d=Yt("hueRotate"),f=Yt("invert"),h=Yt("gap"),p=Yt("gradientColorStops"),g=Yt("gradientColorStopPositions"),m=Yt("inset"),v=Yt("margin"),x=Yt("opacity"),y=Yt("padding"),b=Yt("saturate"),N=Yt("scale"),w=Yt("sepia"),S=Yt("skew"),C=Yt("space"),k=Yt("translate"),P=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",at,t],M=()=>[at,t],T=()=>["",la,Ya],E=()=>["auto",ou,at],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",at],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[ou,at];return{cacheSize:500,separator:":",theme:{colors:[lf],spacing:[la,Ya],blur:["none","",Xa,at],brightness:re(),borderColor:[e],borderRadius:["none","","full",Xa,at],borderSpacing:M(),borderWidth:T(),contrast:re(),grayscale:$(),hueRotate:re(),invert:$(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[NQ,Ya],inset:O(),margin:O(),opacity:re(),padding:M(),saturate:re(),scale:re(),sepia:$(),skew:re(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[Xa]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),at]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",of,at]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",of,at]}],"grid-cols":[{"grid-cols":[lf]}],"col-start-end":[{col:["auto",{span:["full",of,at]},at]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[lf]}],"row-start-end":[{row:["auto",{span:[of,at]},at]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",..._()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,t]}],"min-w":[{"min-w":[at,t,"min","max","fit"]}],"max-w":[{"max-w":[at,t,"none","full","min","max","fit","prose",{screen:[Xa]},Xa]}],h:[{h:[at,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xa,Ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wb]}],"font-family":[{font:[lf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",ou,Wb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",la,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",la,Ya]}],"underline-offset":[{"underline-offset":["auto",la,at]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),PQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_Q]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[la,at]}],"outline-w":[{outline:[la,Ya]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[la,Ya]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xa,AQ]}],"shadow-color":[{shadow:[lf]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xa,at]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[of,at]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[la,Ya,Wb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IQ=pQ(MQ);function xe(...e){return IQ(st(e))}const DQ=OG,ZL=j.forwardRef(({className:e,...t},r)=>i.jsx(kL,{ref:r,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ZL.displayName=kL.displayName;const $Q=Dm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-green-200 bg-green-50 text-green-800 dark:border-green-800 dark:bg-green-900 dark:text-green-100"}},defaultVariants:{variant:"default"}}),JL=j.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(_L,{ref:n,className:xe($Q({variant:t}),e),...r}));JL.displayName=_L.displayName;const RQ=j.forwardRef(({className:e,...t},r)=>i.jsx(EL,{ref:r,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));RQ.displayName=EL.displayName;const e3=j.forwardRef(({className:e,...t},r)=>i.jsx(OL,{ref:r,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(ji,{className:"h-4 w-4"})}));e3.displayName=OL.displayName;const t3=j.forwardRef(({className:e,...t},r)=>i.jsx(AL,{ref:r,className:xe("text-sm font-semibold",e),...t}));t3.displayName=AL.displayName;const r3=j.forwardRef(({className:e,...t},r)=>i.jsx(TL,{ref:r,className:xe("text-sm opacity-90",e),...t}));r3.displayName=TL.displayName;function LQ(){const{toasts:e}=Pt();return i.jsxs(DQ,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(JL,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(t3,{children:r}),n&&i.jsx(r3,{children:n})]}),s,i.jsx(e3,{})]},t)}),i.jsx(ZL,{})]})}var FQ=I$[" useId ".trim().toString()]||(()=>{}),BQ=0;function zi(e){const[t,r]=j.useState(FQ());return _r(()=>{r(n=>n??String(BQ++))},[e]),t?`radix-${t}`:""}const zQ=["top","right","bottom","left"],Bo=Math.min,ti=Math.max,Gg=Math.round,Mp=Math.floor,Bs=e=>({x:e,y:e}),UQ={left:"right",right:"left",bottom:"top",top:"bottom"},VQ={start:"end",end:"start"};function Xj(e,t,r){return ti(e,Bo(t,r))}function Ra(e,t){return typeof e=="function"?e(t):e}function La(e){return e.split("-")[0]}function Cd(e){return e.split("-")[1]}function Z1(e){return e==="x"?"y":"x"}function J1(e){return e==="y"?"height":"width"}function zo(e){return["top","bottom"].includes(La(e))?"y":"x"}function eS(e){return Z1(zo(e))}function qQ(e,t,r){r===void 0&&(r=!1);const n=Cd(e),s=eS(e),a=J1(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Qg(o)),[o,Qg(o)]}function WQ(e){const t=Qg(e);return[Zj(e),t,Zj(t)]}function Zj(e){return e.replace(/start|end/g,t=>VQ[t])}function HQ(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:o;default:return[]}}function KQ(e,t,r,n){const s=Cd(e);let a=HQ(La(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Zj)))),a}function Qg(e){return e.replace(/left|right|bottom|top/g,t=>UQ[t])}function GQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function n3(e){return typeof e!="number"?GQ(e):{top:e,right:e,bottom:e,left:e}}function Yg(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function u_(e,t,r){let{reference:n,floating:s}=e;const a=zo(t),o=eS(t),l=J1(o),c=La(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Cd(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const QQ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=u_(u,n,c),h=n,p={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:x}=l[m],{x:y,y:b,data:N,reset:w}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[v]:{...p[v],...N}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:d,y:f}=u_(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Nh(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ra(t,e),g=n3(p),v=l[h?f==="floating"?"reference":"floating":f],x=Yg(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},w=Yg(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(x.top-w.top+g.top)/N.y,bottom:(w.bottom-x.bottom+g.bottom)/N.y,left:(x.left-w.left+g.left)/N.x,right:(w.right-x.right+g.right)/N.x}}const YQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ra(e,t)||{};if(u==null)return{};const f=n3(d),h={x:r,y:n},p=eS(s),g=J1(p),m=await o.getDimensions(u),v=p==="y",x=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",N=a.reference[g]+a.reference[p]-h[p]-a.floating[g],w=h[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[b]||a.floating[g]);const k=N/2-w/2,P=C/2-m[g]/2-1,A=Bo(f[x],P),O=Bo(f[y],P),M=A,T=C-m[g]-O,E=C/2-m[g]/2+k,I=Xj(M,E,T),L=!c.arrow&&Cd(s)!=null&&E!==I&&a.reference[g]/2-(E<M?A:O)-m[g]/2<0,q=L?E<M?E-M:E-T:0;return{[p]:h[p]+q,data:{[p]:I,centerOffset:E-I-q,...L&&{alignmentOffset:q}},reset:L}}}),XQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=Ra(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const x=La(s),y=zo(l),b=La(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=h||(b||!m?[Qg(l)]:WQ(l)),S=g!=="none";!h&&S&&w.push(...KQ(l,m,g,N));const C=[l,...w],k=await Nh(t,v),P=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&P.push(k[x]),f){const E=qQ(s,o,N);P.push(k[E[0]],k[E[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(E=>E<=0)){var O,M;const E=(((O=a.flip)==null?void 0:O.index)||0)+1,I=C[E];if(I)return{data:{index:E,overflows:A},reset:{placement:I}};let L=(M=A.filter(q=>q.overflows[0]<=0).sort((q,_)=>q.overflows[1]-_.overflows[1])[0])==null?void 0:M.placement;if(!L)switch(p){case"bestFit":{var T;const q=(T=A.filter(_=>{if(S){const $=zo(_.placement);return $===y||$==="y"}return!0}).map(_=>[_.placement,_.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((_,$)=>_[1]-$[1])[0])==null?void 0:T[0];q&&(L=q);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function d_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function f_(e){return zQ.some(t=>e[t]>=0)}const ZQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ra(e,t);switch(n){case"referenceHidden":{const a=await Nh(t,{...s,elementContext:"reference"}),o=d_(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:f_(o)}}}case"escaped":{const a=await Nh(t,{...s,altBoundary:!0}),o=d_(a,r.floating);return{data:{escapedOffsets:o,escaped:f_(o)}}}default:return{}}}}};async function JQ(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=La(r),l=Cd(r),c=zo(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=Ra(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const eY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await JQ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},tY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y}=v;return{x,y}}},...c}=Ra(e,t),u={x:r,y:n},d=await Nh(t,c),f=zo(La(s)),h=Z1(f);let p=u[h],g=u[f];if(a){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+d[v],b=p-d[x];p=Xj(y,p,b)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=g+d[v],b=g-d[x];g=Xj(y,g,b)}const m=l.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:a,[f]:o}}}}}},rY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ra(e,t),d={x:r,y:n},f=zo(s),h=Z1(f);let p=d[h],g=d[f];const m=Ra(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",N=a.reference[h]-a.floating[b]+v.mainAxis,w=a.reference[h]+a.reference[b]-v.mainAxis;p<N?p=N:p>w&&(p=w)}if(u){var x,y;const b=h==="y"?"width":"height",N=["top","left"].includes(La(s)),w=a.reference[f]-a.floating[b]+(N&&((x=o.offset)==null?void 0:x[f])||0)+(N?0:v.crossAxis),S=a.reference[f]+a.reference[b]+(N?0:((y=o.offset)==null?void 0:y[f])||0)-(N?v.crossAxis:0);g<w?g=w:g>S&&(g=S)}return{[h]:p,[f]:g}}}},nY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ra(e,t),d=await Nh(t,u),f=La(s),h=Cd(s),p=zo(s)==="y",{width:g,height:m}=a.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=g-d.left-d.right,N=Bo(m-d[v],y),w=Bo(g-d[x],b),S=!t.middlewareData.shift;let C=N,k=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=y),S&&!h){const A=ti(d.left,0),O=ti(d.right,0),M=ti(d.top,0),T=ti(d.bottom,0);p?k=g-2*(A!==0||O!==0?A+O:ti(d.left,d.right)):C=m-2*(M!==0||T!==0?M+T:ti(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:C});const P=await o.getDimensions(l.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function Hx(){return typeof window<"u"}function Pd(e){return i3(e)?(e.nodeName||"").toLowerCase():"#document"}function mi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Js(e){var t;return(t=(i3(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function i3(e){return Hx()?e instanceof Node||e instanceof mi(e).Node:!1}function xs(e){return Hx()?e instanceof Element||e instanceof mi(e).Element:!1}function Gs(e){return Hx()?e instanceof HTMLElement||e instanceof mi(e).HTMLElement:!1}function h_(e){return!Hx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mi(e).ShadowRoot}function Lm(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=ys(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function iY(e){return["table","td","th"].includes(Pd(e))}function Kx(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function tS(e){const t=rS(),r=xs(e)?ys(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function sY(e){let t=Uo(e);for(;Gs(t)&&!Bu(t);){if(tS(t))return t;if(Kx(t))return null;t=Uo(t)}return null}function rS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bu(e){return["html","body","#document"].includes(Pd(e))}function ys(e){return mi(e).getComputedStyle(e)}function Gx(e){return xs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Uo(e){if(Pd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||h_(e)&&e.host||Js(e);return h_(t)?t.host:t}function s3(e){const t=Uo(e);return Bu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gs(t)&&Lm(t)?t:s3(t)}function Sh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=s3(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=mi(s);if(a){const l=Jj(o);return t.concat(o,o.visualViewport||[],Lm(s)?s:[],l&&r?Sh(l):[])}return t.concat(s,Sh(s,[],r))}function Jj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function a3(e){const t=ys(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Gs(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Gg(r)!==a||Gg(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function nS(e){return xs(e)?e:e.contextElement}function lu(e){const t=nS(e);if(!Gs(t))return Bs(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=a3(t);let o=(a?Gg(r.width):r.width)/n,l=(a?Gg(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const aY=Bs(0);function o3(e){const t=mi(e);return!rS()||!t.visualViewport?aY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==mi(e)?!1:t}function Ql(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=nS(e);let o=Bs(1);t&&(n?xs(n)&&(o=lu(n)):o=lu(e));const l=oY(a,r,n)?o3(a):Bs(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=mi(a),p=n&&xs(n)?mi(n):n;let g=h,m=Jj(g);for(;m&&n&&p!==g;){const v=lu(m),x=m.getBoundingClientRect(),y=ys(m),b=x.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,N=x.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=b,u+=N,g=mi(m),m=Jj(g)}}return Yg({width:d,height:f,x:c,y:u})}function iS(e,t){const r=Gx(e).scrollLeft;return t?t.left+r:Ql(Js(e)).left+r}function l3(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:iS(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function lY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Js(n),l=t?Kx(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Bs(1);const d=Bs(0),f=Gs(n);if((f||!f&&!a)&&((Pd(n)!=="body"||Lm(o))&&(c=Gx(n)),Gs(n))){const p=Ql(n);u=lu(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!a?l3(o,c,!0):Bs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function cY(e){return Array.from(e.getClientRects())}function uY(e){const t=Js(e),r=Gx(e),n=e.ownerDocument.body,s=ti(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ti(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+iS(e);const l=-r.scrollTop;return ys(n).direction==="rtl"&&(o+=ti(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function dY(e,t){const r=mi(e),n=Js(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=rS();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function fY(e,t){const r=Ql(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Gs(e)?lu(e):Bs(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function m_(e,t,r){let n;if(t==="viewport")n=dY(e,r);else if(t==="document")n=uY(Js(e));else if(xs(t))n=fY(t,r);else{const s=o3(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Yg(n)}function c3(e,t){const r=Uo(e);return r===t||!xs(r)||Bu(r)?!1:ys(r).position==="fixed"||c3(r,t)}function hY(e,t){const r=t.get(e);if(r)return r;let n=Sh(e,[],!1).filter(l=>xs(l)&&Pd(l)!=="body"),s=null;const a=ys(e).position==="fixed";let o=a?Uo(e):e;for(;xs(o)&&!Bu(o);){const l=ys(o),c=tS(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Lm(o)&&!c&&c3(e,o))?n=n.filter(d=>d!==o):s=l,o=Uo(o)}return t.set(e,n),n}function mY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Kx(t)?[]:hY(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=m_(t,d,s);return u.top=ti(f.top,u.top),u.right=Bo(f.right,u.right),u.bottom=Bo(f.bottom,u.bottom),u.left=ti(f.left,u.left),u},m_(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pY(e){const{width:t,height:r}=a3(e);return{width:t,height:r}}function gY(e,t,r){const n=Gs(t),s=Js(t),a=r==="fixed",o=Ql(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Bs(0);if(n||!n&&!a)if((Pd(t)!=="body"||Lm(s))&&(l=Gx(t)),n){const h=Ql(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=iS(s));const u=s&&!n&&!a?l3(s,l):Bs(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Hb(e){return ys(e).position==="static"}function p_(e,t){if(!Gs(e)||ys(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Js(e)===r&&(r=r.ownerDocument.body),r}function u3(e,t){const r=mi(e);if(Kx(e))return r;if(!Gs(e)){let s=Uo(e);for(;s&&!Bu(s);){if(xs(s)&&!Hb(s))return s;s=Uo(s)}return r}let n=p_(e,t);for(;n&&iY(n)&&Hb(n);)n=p_(n,t);return n&&Bu(n)&&Hb(n)&&!tS(n)?r:n||sY(e)||r}const vY=async function(e){const t=this.getOffsetParent||u3,r=this.getDimensions,n=await r(e.floating);return{reference:gY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xY(e){return ys(e).direction==="rtl"}const yY={convertOffsetParentRelativeRectToViewportRelativeRect:lY,getDocumentElement:Js,getClippingRect:mY,getOffsetParent:u3,getElementRects:vY,getClientRects:cY,getDimensions:pY,getScale:lu,isElement:xs,isRTL:xY};function d3(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bY(e,t){let r=null,n;const s=Js(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=Mp(f),m=Mp(s.clientWidth-(d+h)),v=Mp(s.clientHeight-(f+p)),x=Mp(d),b={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:ti(0,Bo(1,c))||1};let N=!0;function w(S){const C=S[0].intersectionRatio;if(C!==c){if(!N)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!d3(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(w,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(w,b)}r.observe(e)}return o(!0),a}function jY(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=nS(e),d=s||a?[...u?Sh(u):[],...Sh(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),a&&x.addEventListener("resize",r)});const f=u&&l?bY(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Ql(e):null;c&&v();function v(){const x=Ql(e);m&&!d3(m,x)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const wY=eY,NY=tY,SY=XQ,CY=nY,PY=ZQ,g_=YQ,kY=rY,_Y=(e,t,r)=>{const n=new Map,s={platform:yY,...r},a={...s.platform,_c:n};return QQ(e,t,{...s,platform:a})};var mg=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Xg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Xg(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Xg(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function f3(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function v_(e,t){const r=f3(e);return Math.round(t*r)/r}function Kb(e){const t=j.useRef(e);return mg(()=>{t.current=e}),t}function AY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=j.useState(n);Xg(h,n)||p(n);const[g,m]=j.useState(null),[v,x]=j.useState(null),y=j.useCallback(_=>{_!==S.current&&(S.current=_,m(_))},[]),b=j.useCallback(_=>{_!==C.current&&(C.current=_,x(_))},[]),N=a||g,w=o||v,S=j.useRef(null),C=j.useRef(null),k=j.useRef(d),P=c!=null,A=Kb(c),O=Kb(s),M=Kb(u),T=j.useCallback(()=>{if(!S.current||!C.current)return;const _={placement:t,strategy:r,middleware:h};O.current&&(_.platform=O.current),_Y(S.current,C.current,_).then($=>{const G={...$,isPositioned:M.current!==!1};E.current&&!Xg(k.current,G)&&(k.current=G,pc.flushSync(()=>{f(G)}))})},[h,t,r,O,M]);mg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(_=>({..._,isPositioned:!1})))},[u]);const E=j.useRef(!1);mg(()=>(E.current=!0,()=>{E.current=!1}),[]),mg(()=>{if(N&&(S.current=N),w&&(C.current=w),N&&w){if(A.current)return A.current(N,w,T);T()}},[N,w,T,A,P]);const I=j.useMemo(()=>({reference:S,floating:C,setReference:y,setFloating:b}),[y,b]),L=j.useMemo(()=>({reference:N,floating:w}),[N,w]),q=j.useMemo(()=>{const _={position:r,left:0,top:0};if(!L.floating)return _;const $=v_(L.floating,d.x),G=v_(L.floating,d.y);return l?{..._,transform:"translate("+$+"px, "+G+"px)",...f3(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:G}},[r,l,L.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:T,refs:I,elements:L,floatingStyles:q}),[d,T,I,L,q])}const TY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?g_({element:n.current,padding:s}).fn(r):{}:n?g_({element:n,padding:s}).fn(r):{}}}},EY=(e,t)=>({...wY(e),options:[e,t]}),OY=(e,t)=>({...NY(e),options:[e,t]}),MY=(e,t)=>({...kY(e),options:[e,t]}),IY=(e,t)=>({...SY(e),options:[e,t]}),DY=(e,t)=>({...CY(e),options:[e,t]}),$Y=(e,t)=>({...PY(e),options:[e,t]}),RY=(e,t)=>({...TY(e),options:[e,t]});var LY="Arrow",h3=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(Re.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});h3.displayName=LY;var FY=h3;function Qx(e){const[t,r]=j.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var sS="Popper",[m3,kd]=Kr(sS),[BY,p3]=m3(sS),g3=e=>{const{__scopePopper:t,children:r}=e,[n,s]=j.useState(null);return i.jsx(BY,{scope:t,anchor:n,onAnchorChange:s,children:r})};g3.displayName=sS;var v3="PopperAnchor",x3=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=p3(v3,r),o=j.useRef(null),l=ht(t,o);return j.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Re.div,{...s,ref:l})});x3.displayName=v3;var aS="PopperContent",[zY,UY]=m3(aS),y3=j.forwardRef((e,t)=>{var ye,K,X,ue,fe,Y;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=p3(aS,r),[x,y]=j.useState(null),b=ht(t,Ye=>y(Ye)),[N,w]=j.useState(null),S=Qx(N),C=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,P=n+(a!=="center"?"-"+a:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],M=O.length>0,T={padding:A,boundary:O.filter(qY),altBoundary:M},{refs:E,floatingStyles:I,placement:L,isPositioned:q,middlewareData:_}=AY({strategy:"fixed",placement:P,whileElementsMounted:(...Ye)=>jY(...Ye,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[EY({mainAxis:s+k,alignmentAxis:o}),c&&OY({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?MY():void 0,...T}),c&&IY({...T}),DY({...T,apply:({elements:Ye,rects:Be,availableWidth:Tt,availableHeight:At})=>{const{width:Qt,height:Yr}=Be.reference,Ar=Ye.floating.style;Ar.setProperty("--radix-popper-available-width",`${Tt}px`),Ar.setProperty("--radix-popper-available-height",`${At}px`),Ar.setProperty("--radix-popper-anchor-width",`${Qt}px`),Ar.setProperty("--radix-popper-anchor-height",`${Yr}px`)}}),N&&RY({element:N,padding:l}),WY({arrowWidth:C,arrowHeight:k}),h&&$Y({strategy:"referenceHidden",...T})]}),[$,G]=w3(L),re=an(g);_r(()=>{q&&(re==null||re())},[q,re]);const B=(ye=_.arrow)==null?void 0:ye.x,ae=(K=_.arrow)==null?void 0:K.y,Se=((X=_.arrow)==null?void 0:X.centerOffset)!==0,[Ce,Fe]=j.useState();return _r(()=>{x&&Fe(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:q?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(ue=_.transformOrigin)==null?void 0:ue.x,(fe=_.transformOrigin)==null?void 0:fe.y].join(" "),...((Y=_.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(zY,{scope:r,placedSide:$,onArrowChange:w,arrowX:B,arrowY:ae,shouldHideArrow:Se,children:i.jsx(Re.div,{"data-side":$,"data-align":G,...m,ref:b,style:{...m.style,animation:q?void 0:"none"}})})})});y3.displayName=aS;var b3="PopperArrow",VY={top:"bottom",right:"left",bottom:"top",left:"right"},j3=j.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=UY(b3,n),o=VY[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(FY,{...s,ref:r,style:{...s.style,display:"block"}})})});j3.displayName=b3;function qY(e){return e!==null}var WY=e=>({name:"transformOrigin",options:e,fn(t){var v,x,y;const{placement:r,rects:n,middlewareData:s}=t,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=w3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=o?f:`${h}px`,m=`${-c}px`):u==="top"?(g=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function w3(e){const[t,r="center"]=e.split("-");return[t,r]}var oS=g3,lS=x3,cS=y3,uS=j3,[Yx,dOe]=Kr("Tooltip",[kd]),Xx=kd(),N3="TooltipProvider",HY=700,ew="tooltip.open",[KY,dS]=Yx(N3),S3=e=>{const{__scopeTooltip:t,delayDuration:r=HY,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(KY,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};S3.displayName=N3;var Zx="Tooltip",[GY,Jx]=Yx(Zx),C3=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=dS(Zx,e.__scopeTooltip),u=Xx(t),[d,f]=j.useState(null),h=zi(),p=j.useRef(0),g=o??c.disableHoverableContent,m=l??c.delayDuration,v=j.useRef(!1),[x=!1,y]=Wi({prop:n,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(ew))):c.onClose(),a==null||a(C)}}),b=j.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),N=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,y(!0)},[y]),w=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),S=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,y(!0),p.current=0},m)},[m,y]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(oS,{...u,children:i.jsx(GY,{scope:t,contentId:h,open:x,stateAttribute:b,trigger:d,onTriggerChange:f,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:j.useCallback(()=>{g?w():(window.clearTimeout(p.current),p.current=0)},[w,g]),onOpen:N,onClose:w,disableHoverableContent:g,children:r})})};C3.displayName=Zx;var tw="TooltipTrigger",P3=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Jx(tw,r),a=dS(tw,r),o=Xx(r),l=j.useRef(null),c=ht(t,l,s.onTriggerChange),u=j.useRef(!1),d=j.useRef(!1),f=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(lS,{asChild:!0,...o,children:i.jsx(Re.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:je(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:je(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:je(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:je(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:je(e.onBlur,s.onClose),onClick:je(e.onClick,s.onClose)})})});P3.displayName=tw;var QY="TooltipPortal",[fOe,YY]=Yx(QY,{forceMount:void 0}),zu="TooltipContent",k3=j.forwardRef((e,t)=>{const r=YY(zu,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=Jx(zu,e.__scopeTooltip);return i.jsx(Gn,{present:n||o.open,children:o.disableHoverableContent?i.jsx(_3,{side:s,...a,ref:t}):i.jsx(XY,{side:s,...a,ref:t})})}),XY=j.forwardRef((e,t)=>{const r=Jx(zu,e.__scopeTooltip),n=dS(zu,e.__scopeTooltip),s=j.useRef(null),a=ht(t,s),[o,l]=j.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=j.useCallback(()=>{l(null),f(!1)},[f]),p=j.useCallback((g,m)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},y=rX(x,v.getBoundingClientRect()),b=nX(x,y),N=iX(m.getBoundingClientRect()),w=aX([...b,...N]);l(w),f(!0)},[f]);return j.useEffect(()=>()=>h(),[h]),j.useEffect(()=>{if(c&&d){const g=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),j.useEffect(()=>{if(o){const g=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),b=!sX(x,o);y?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),i.jsx(_3,{...e,ref:a})}),[ZY,JY]=Yx(Zx,{isInside:!1}),eX=uL("TooltipContent"),_3=j.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=Jx(zu,r),u=Xx(r),{onClose:d}=c;return j.useEffect(()=>(document.addEventListener(ew,d),()=>document.removeEventListener(ew,d)),[d]),j.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(cS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(eX,{children:n}),i.jsx(ZY,{scope:r,isInside:!0,children:i.jsx(mG,{id:c.contentId,role:"tooltip",children:s||n})})]})})});k3.displayName=zu;var A3="TooltipArrow",tX=j.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Xx(r);return JY(A3,r).isInside?null:i.jsx(uS,{...s,...n,ref:t})});tX.displayName=A3;function rX(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nX(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function iX(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function sX(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function aX(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),oX(t)}function oX(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var lX=S3,cX=C3,uX=P3,T3=k3;const fS=lX,Vf=cX,qf=uX,cu=j.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(T3,{ref:n,sideOffset:t,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));cu.displayName=T3.displayName;function Si(){const{data:e,isLoading:t}=ze({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}const Z=j.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Z.displayName="Card";const oe=j.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));oe.displayName="CardHeader";const le=j.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));le.displayName="CardTitle";const Ue=j.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Ue.displayName="CardDescription";const ee=j.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("p-6 pt-0",e),...t}));ee.displayName="CardContent";const dX=j.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:xe("flex items-center p-6 pt-0",e),...t}));dX.displayName="CardFooter";const hS=Dm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?KK:"button";return i.jsx(o,{className:xe(hS({variant:t,size:r,className:e})),ref:a,...s})});F.displayName="Button";function E3({title:e,description:t,canonicalUrl:r,ogImage:n="/og-default.jpg",ogType:s="website",keywords:a,noIndex:o=!1}){return j.useEffect(()=>{document.title=e;const l=(c,u,d=!1)=>{const f=d?"property":"name";let h=document.querySelector(`meta[${f}="${c}"]`);h||(h=document.createElement("meta"),h.setAttribute(f,c),document.head.appendChild(h)),h.setAttribute("content",u)};if(l("description",t),a&&l("keywords",a),o?l("robots","noindex, nofollow"):l("robots","index, follow"),l("og:title",e,!0),l("og:description",t,!0),l("og:type",s,!0),l("og:image",n,!0),r){l("og:url",r,!0);let c=document.querySelector('link[rel="canonical"]');c||(c=document.createElement("link"),c.setAttribute("rel","canonical"),document.head.appendChild(c)),c.setAttribute("href",r)}return l("twitter:card","summary_large_image"),l("twitter:title",e),l("twitter:description",t),l("twitter:image",n),()=>{}},[e,t,r,n,s,a,o]),null}function fX(){return i.jsxs(i.Fragment,{children:[i.jsx(E3,{title:"Page Not Found - KDP Generator",description:"The page you're looking for doesn't exist. Return to KDP Generator to manage your publishing projects and track your book sales.",noIndex:!0}),i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(Z,{className:"w-full max-w-md mx-4",children:i.jsxs(ee,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(bh,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600 mb-6",children:"The page you're looking for doesn't exist or has been moved."}),i.jsxs(F,{onClick:()=>window.location.href="/",className:"w-full",children:[i.jsx(WG,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})})})]})}const hX=Dm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function me({className:e,variant:t,...r}){return i.jsx("div",{className:xe(hX({variant:t}),e),...r})}const mS="/assets/image_1753719885932-C6r867X9.png";function mX(){return i.jsxs(i.Fragment,{children:[i.jsx(E3,{title:"KDP Generator - Complete Author Publishing Management Platform",description:"Professional tools for independent authors and publishers. Manage Amazon KDP projects, track sales analytics, generate content with AI, and optimize your publishing workflow. Start free today!",keywords:"KDP, Kindle Direct Publishing, author tools, book publishing, self publishing, sales analytics, AI content generation, Amazon KDP dashboard, publishing management",canonicalUrl:"https://kdpgenerator.com",ogType:"website"}),i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 via-white to-orange-50",children:[i.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:i.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("img",{src:mS,alt:"KDP Generator",className:"h-10 w-auto object-contain"})}),i.jsx(F,{onClick:()=>window.location.href="/api/login",className:"bg-primary hover:bg-primary/90",children:"Get Started"})]})}),i.jsx("section",{className:"container mx-auto px-6 py-20 text-center",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx(me,{variant:"secondary",className:"mb-4",children:"The Complete Author Platform"}),i.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Manage Your Publishing Empire with"," ",i.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"AI-Powered Tools"})]}),i.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"From project creation to sales analytics, KDP Generator provides everything you need to succeed as an independent author. Track your Amazon KDP performance, generate content with AI, and manage your entire publishing workflow in one place."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(F,{size:"lg",onClick:()=>window.location.href="/api/login",className:"bg-primary hover:bg-primary/90 text-lg px-8 py-3",children:"Start Publishing Today"}),i.jsx(F,{size:"lg",variant:"outline",className:"text-lg px-8 py-3",children:"Watch Demo"})]})]})}),i.jsxs("section",{className:"container mx-auto px-6 py-20",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need to Succeed"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Professional tools designed specifically for independent authors and publishers"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.jsx(Z,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:i.jsxs(oe,{children:[i.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center mb-4",children:i.jsx(Pr,{className:"h-6 w-6 text-primary"})}),i.jsx(le,{children:"Project Management"}),i.jsx(Ue,{children:"Organize your books with detailed metadata, contributors, and publication formats"})]})}),i.jsx(Z,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:i.jsxs(oe,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:i.jsx(zx,{className:"h-6 w-6 text-success"})}),i.jsx(le,{children:"Sales Analytics"}),i.jsx(Ue,{children:"Upload KDP reports and get powerful insights into your sales performance"})]})}),i.jsx(Z,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:i.jsxs(oe,{children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:i.jsx(vs,{className:"h-6 w-6 text-secondary"})}),i.jsx(le,{children:"AI Content Generation"}),i.jsx(Ue,{children:"Generate book structures, descriptions, and marketing copy with advanced AI"})]})}),i.jsx(Z,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:i.jsxs(oe,{children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:i.jsx(wh,{className:"h-6 w-6 text-warning"})}),i.jsx(le,{children:"KDP Report Parsing"}),i.jsx(Ue,{children:"Automatically parse and analyze your Amazon KDP sales reports"})]})}),i.jsx(Z,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:i.jsxs(oe,{children:[i.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center mb-4",children:i.jsx(bi,{className:"h-6 w-6 text-primary"})}),i.jsx(le,{children:"Revenue Tracking"}),i.jsx(Ue,{children:"Monitor your publishing revenue with detailed charts and metrics"})]})}),i.jsx(Z,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:i.jsxs(oe,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-4",children:i.jsx(Wx,{className:"h-6 w-6 text-error"})}),i.jsx(le,{children:"Dynamic Forms"}),i.jsx(Ue,{children:"Smart forms that adapt based on your project type and preferences"})]})})]})]}),i.jsxs("section",{className:"container mx-auto px-6 py-20 bg-gray-50",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),i.jsx("p",{className:"text-xl text-gray-600",children:"Start free, upgrade when you're ready to scale"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[i.jsxs(Z,{className:"border-0 shadow-lg",children:[i.jsxs(oe,{className:"text-center",children:[i.jsx(le,{className:"text-2xl",children:"Free"}),i.jsx("div",{className:"text-3xl font-bold",children:"$0"}),i.jsx(Ue,{children:"Perfect for getting started"})]}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ Up to 3 projects"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ Basic analytics"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ KDP report upload"})})]}),i.jsx(F,{className:"w-full",variant:"outline",onClick:()=>window.location.href="/api/login",children:"Get Started"})]})]}),i.jsxs(Z,{className:"border-0 shadow-xl border-primary/20 relative",children:[i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:i.jsx(me,{className:"bg-primary text-primary-foreground",children:"Most Popular"})}),i.jsxs(oe,{className:"text-center",children:[i.jsx(le,{className:"text-2xl",children:"Pro"}),i.jsx("div",{className:"text-3xl font-bold",children:"$29"}),i.jsx(Ue,{children:"For serious authors"})]}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ Unlimited projects"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ Advanced analytics"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ AI content generation"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ Priority support"})})]}),i.jsx(F,{className:"w-full bg-primary hover:bg-primary/90",onClick:()=>window.location.href="/api/login",children:"Start Pro Trial"})]})]}),i.jsxs(Z,{className:"border-0 shadow-lg",children:[i.jsxs(oe,{className:"text-center",children:[i.jsx(le,{className:"text-2xl",children:"Enterprise"}),i.jsx("div",{className:"text-3xl font-bold",children:"$99"}),i.jsx(Ue,{children:"For publishing businesses"})]}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ Everything in Pro"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ Team collaboration"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ API access"})}),i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm",children:"✓ Custom integrations"})})]}),i.jsx(F,{className:"w-full",variant:"outline",onClick:()=>window.location.href="/api/login",children:"Contact Sales"})]})]})]})]}),i.jsx("section",{className:"container mx-auto px-6 py-20 text-center",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Ready to Transform Your Publishing Business?"}),i.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Join thousands of successful authors who trust KDP Generator to manage their publishing empire"}),i.jsx(F,{size:"lg",onClick:()=>window.location.href="/api/login",className:"bg-primary hover:bg-primary/90 text-lg px-12 py-4",children:"Start Your Free Trial"})]})}),i.jsx("footer",{className:"bg-gray-900 text-white py-12",children:i.jsxs("div",{className:"container mx-auto px-6",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[i.jsx(Pr,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xl font-bold",children:"KDP Generator"})]}),i.jsx("p",{className:"text-center text-gray-400",children:"© 2024 KDP Generator. All rights reserved."})]})})]})]})}var pS="Avatar",[pX,hOe]=Kr(pS),[gX,O3]=pX(pS),M3=j.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=j.useState("idle");return i.jsx(gX,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(Re.span,{...n,ref:t})})});M3.displayName=pS;var I3="AvatarImage",D3=j.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=O3(I3,r),l=vX(n,a),c=an(u=>{s(u),o.onImageLoadingStatusChange(u)});return _r(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Re.img,{...a,ref:t,src:n}):null});D3.displayName=I3;var $3="AvatarFallback",R3=j.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=O3($3,r),[o,l]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Re.span,{...s,ref:t}):null});R3.displayName=$3;function x_(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function vX(e,{referrerPolicy:t,crossOrigin:r}){const n=yX(),s=j.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=j.useState(()=>x_(a,e));return _r(()=>{l(x_(a,e))},[a,e]),_r(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}function xX(){return()=>{}}function yX(){return j.useSyncExternalStore(xX,()=>!0,()=>!1)}var L3=M3,F3=D3,B3=R3;const gS=j.forwardRef(({className:e,...t},r)=>i.jsx(L3,{ref:r,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));gS.displayName=L3.displayName;const vS=j.forwardRef(({className:e,...t},r)=>i.jsx(F3,{ref:r,className:xe("aspect-square h-full w-full",e),...t}));vS.displayName=F3.displayName;const xS=j.forwardRef(({className:e,...t},r)=>i.jsx(B3,{ref:r,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));xS.displayName=B3.displayName;var bX=j.createContext(void 0);function Fm(e){const t=j.useContext(bX);return e||t||"ltr"}var Gb=0;function yS(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??y_()),document.body.insertAdjacentElement("beforeend",e[1]??y_()),Gb++,()=>{Gb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gb--}},[])}function y_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qb="focusScope.autoFocusOnMount",Yb="focusScope.autoFocusOnUnmount",b_={bubbles:!1,cancelable:!0},jX="FocusScope",ey=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=j.useState(null),u=an(s),d=an(a),f=j.useRef(null),h=ht(t,m=>c(m)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const N=b.target;l.contains(N)?f.current=N:eo(f.current,{select:!0})},v=function(b){if(p.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||eo(f.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&eo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,p.paused]),j.useEffect(()=>{if(l){w_.add(p);const m=document.activeElement;if(!l.contains(m)){const x=new CustomEvent(Qb,b_);l.addEventListener(Qb,u),l.dispatchEvent(x),x.defaultPrevented||(wX(kX(z3(l)),{select:!0}),document.activeElement===m&&eo(l))}return()=>{l.removeEventListener(Qb,u),setTimeout(()=>{const x=new CustomEvent(Yb,b_);l.addEventListener(Yb,d),l.dispatchEvent(x),x.defaultPrevented||eo(m??document.body,{select:!0}),l.removeEventListener(Yb,d),w_.remove(p)},0)}}},[l,u,d,p]);const g=j.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const y=m.currentTarget,[b,N]=NX(y);b&&N?!m.shiftKey&&x===N?(m.preventDefault(),r&&eo(b,{select:!0})):m.shiftKey&&x===b&&(m.preventDefault(),r&&eo(N,{select:!0})):x===y&&m.preventDefault()}},[r,n,p.paused]);return i.jsx(Re.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});ey.displayName=jX;function wX(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(eo(n,{select:t}),document.activeElement!==r)return}function NX(e){const t=z3(e),r=j_(t,e),n=j_(t.reverse(),e);return[r,n]}function z3(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function j_(e,t){for(const r of e)if(!SX(r,{upTo:t}))return r}function SX(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function CX(e){return e instanceof HTMLInputElement&&"select"in e}function eo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&CX(e)&&t&&e.select()}}var w_=PX();function PX(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=N_(e,t),e.unshift(t)},remove(t){var r;e=N_(e,t),(r=e[0])==null||r.resume()}}}function N_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function kX(e){return e.filter(t=>t.tagName!=="A")}var Xb="rovingFocusGroup.onEntryFocus",_X={bubbles:!1,cancelable:!0},ty="RovingFocusGroup",[rw,U3,AX]=Lx(ty),[TX,_d]=Kr(ty,[AX]),[EX,OX]=TX(ty),V3=j.forwardRef((e,t)=>i.jsx(rw.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(rw.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(MX,{...e,ref:t})})}));V3.displayName=ty;var MX=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=j.useRef(null),p=ht(t,h),g=Fm(a),[m=null,v]=Wi({prop:o,defaultProp:l,onChange:c}),[x,y]=j.useState(!1),b=an(u),N=U3(r),w=j.useRef(!1),[S,C]=j.useState(0);return j.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Xb,b),()=>k.removeEventListener(Xb,b)},[b]),i.jsx(EX,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:m,onItemFocus:j.useCallback(k=>v(k),[v]),onItemShiftTab:j.useCallback(()=>y(!0),[]),onFocusableItemAdd:j.useCallback(()=>C(k=>k+1),[]),onFocusableItemRemove:j.useCallback(()=>C(k=>k-1),[]),children:i.jsx(Re.div,{tabIndex:x||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{w.current=!0}),onFocus:je(e.onFocus,k=>{const P=!w.current;if(k.target===k.currentTarget&&P&&!x){const A=new CustomEvent(Xb,_X);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=N().filter(L=>L.focusable),M=O.find(L=>L.active),T=O.find(L=>L.id===m),I=[M,T,...O].filter(Boolean).map(L=>L.ref.current);H3(I,d)}}w.current=!1}),onBlur:je(e.onBlur,()=>y(!1))})})}),q3="RovingFocusGroupItem",W3=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=e,l=zi(),c=a||l,u=OX(q3,r),d=u.currentTabStopId===c,f=U3(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return j.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),i.jsx(rw.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(Re.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:je(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:je(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:je(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=$X(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const y=x.indexOf(g.currentTarget);x=u.loop?RX(x,y+1):x.slice(y+1)}setTimeout(()=>H3(x))}})})})});W3.displayName=q3;var IX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DX(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $X(e,t,r){const n=DX(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return IX[n]}function H3(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function RX(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var bS=V3,jS=W3,LX=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pc=new WeakMap,Ip=new WeakMap,Dp={},Zb=0,K3=function(e){return e&&(e.host||K3(e.parentNode))},FX=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=K3(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},BX=function(e,t,r,n){var s=FX(t,Array.isArray(e)?e:[e]);Dp[r]||(Dp[r]=new WeakMap);var a=Dp[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Pc.get(h)||0)+1,v=(a.get(h)||0)+1;Pc.set(h,m),a.set(h,v),o.push(h),m===1&&g&&Ip.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Zb++,function(){o.forEach(function(f){var h=Pc.get(f)-1,p=a.get(f)-1;Pc.set(f,h),a.set(f,p),h||(Ip.has(f)||f.removeAttribute(n),Ip.delete(f)),p||f.removeAttribute(r)}),Zb--,Zb||(Pc=new WeakMap,Pc=new WeakMap,Ip=new WeakMap,Dp={})}},wS=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=LX(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),BX(n,s,r,"aria-hidden")):function(){return null}},Is=function(){return Is=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Is.apply(this,arguments)};function G3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function zX(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var pg="right-scroll-bar-position",gg="width-before-scroll-bar",UX="with-scroll-bars-hidden",VX="--removed-body-scroll-bar-size";function Jb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function qX(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var WX=typeof window<"u"?j.useLayoutEffect:j.useEffect,S_=new WeakMap;function HX(e,t){var r=qX(null,function(n){return e.forEach(function(s){return Jb(s,n)})});return WX(function(){var n=S_.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||Jb(l,null)}),a.forEach(function(l){s.has(l)||Jb(l,o)})}S_.set(r,e)},[e]),r}function KX(e){return e}function GX(e,t){t===void 0&&(t=KX);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function QX(e){e===void 0&&(e={});var t=GX(null);return t.options=Is({async:!0,ssr:!1},e),t}var Q3=function(e){var t=e.sideCar,r=G3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Is({},r))};Q3.isSideCarExport=!0;function YX(e,t){return e.useMedium(t),Q3}var Y3=QX(),e0=function(){},ry=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:e0,onWheelCapture:e0,onTouchMoveCapture:e0}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,y=e.gapMode,b=G3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,w=HX([r,t]),S=Is(Is({},b),s);return j.createElement(j.Fragment,null,d&&j.createElement(N,{sideCar:Y3,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?j.cloneElement(j.Children.only(l),Is(Is({},S),{ref:w})):j.createElement(x,Is({},S,{className:c,ref:w}),l))});ry.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ry.classNames={fullWidth:gg,zeroRight:pg};var XX=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZX(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=XX();return t&&e.setAttribute("nonce",t),e}function JX(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eZ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tZ=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ZX())&&(JX(t,r),eZ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rZ=function(){var e=tZ();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},X3=function(){var e=rZ(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},nZ={left:0,top:0,right:0,gap:0},t0=function(e){return parseInt(e||"",10)||0},iZ=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[t0(r),t0(n),t0(s)]},sZ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nZ;var t=iZ(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},aZ=X3(),uu="data-scroll-locked",oZ=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(UX,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(uu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(gg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pg," .").concat(pg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(gg," .").concat(gg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(uu,`] {
    `).concat(VX,": ").concat(l,`px;
  }
`)},C_=function(){var e=parseInt(document.body.getAttribute(uu)||"0",10);return isFinite(e)?e:0},lZ=function(){j.useEffect(function(){return document.body.setAttribute(uu,(C_()+1).toString()),function(){var e=C_()-1;e<=0?document.body.removeAttribute(uu):document.body.setAttribute(uu,e.toString())}},[])},cZ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;lZ();var a=j.useMemo(function(){return sZ(s)},[s]);return j.createElement(aZ,{styles:oZ(a,!t,s,r?"":"!important")})},nw=!1;if(typeof window<"u")try{var $p=Object.defineProperty({},"passive",{get:function(){return nw=!0,!0}});window.addEventListener("test",$p,$p),window.removeEventListener("test",$p,$p)}catch{nw=!1}var kc=nw?{passive:!1}:!1,uZ=function(e){return e.tagName==="TEXTAREA"},Z3=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uZ(e)&&r[t]==="visible")},dZ=function(e){return Z3(e,"overflowY")},fZ=function(e){return Z3(e,"overflowX")},P_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=J3(e,n);if(s){var a=eF(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},hZ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mZ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},J3=function(e,t){return e==="v"?dZ(t):fZ(t)},eF=function(e,t){return e==="v"?hZ(t):mZ(t)},pZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},gZ=function(e,t,r,n,s){var a=pZ(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=eF(e,l),g=p[0],m=p[1],v=p[2],x=m-v-a*g;(g||x)&&J3(e,l)&&(f+=x,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Rp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},k_=function(e){return[e.deltaX,e.deltaY]},__=function(e){return e&&"current"in e?e.current:e},vZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yZ=0,_c=[];function bZ(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),s=j.useState(yZ++)[0],a=j.useState(X3)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=zX([e.lockRef.current],(e.shards||[]).map(__),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var x=Rp(m),y=r.current,b="deltaX"in m?m.deltaX:y[0]-x[0],N="deltaY"in m?m.deltaY:y[1]-x[1],w,S=m.target,C=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var k=P_(C,S);if(!k)return!0;if(k?w=C:(w=C==="v"?"h":"v",k=P_(C,S)),!k)return!1;if(!n.current&&"changedTouches"in m&&(b||N)&&(n.current=w),!w)return!0;var P=n.current||w;return gZ(P,v,m,P==="h"?b:N,!0)},[]),c=j.useCallback(function(m){var v=m;if(!(!_c.length||_c[_c.length-1]!==a)){var x="deltaY"in v?k_(v):Rp(v),y=t.current.filter(function(w){return w.name===v.type&&(w.target===v.target||v.target===w.shadowParent)&&vZ(w.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(__).filter(Boolean).filter(function(w){return w.contains(v.target)}),N=b.length>0?l(v,b[0]):!o.current.noIsolation;N&&v.cancelable&&v.preventDefault()}}},[]),u=j.useCallback(function(m,v,x,y){var b={name:m,delta:v,target:x,should:y,shadowParent:jZ(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(N){return N!==b})},1)},[]),d=j.useCallback(function(m){r.current=Rp(m),n.current=void 0},[]),f=j.useCallback(function(m){u(m.type,k_(m),m.target,l(m,e.lockRef.current))},[]),h=j.useCallback(function(m){u(m.type,Rp(m),m.target,l(m,e.lockRef.current))},[]);j.useEffect(function(){return _c.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,kc),document.addEventListener("touchmove",c,kc),document.addEventListener("touchstart",d,kc),function(){_c=_c.filter(function(m){return m!==a}),document.removeEventListener("wheel",c,kc),document.removeEventListener("touchmove",c,kc),document.removeEventListener("touchstart",d,kc)}},[]);var p=e.removeScrollBar,g=e.inert;return j.createElement(j.Fragment,null,g?j.createElement(a,{styles:xZ(s)}):null,p?j.createElement(cZ,{gapMode:e.gapMode}):null)}function jZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wZ=YX(Y3,bZ);var ny=j.forwardRef(function(e,t){return j.createElement(ry,Is({},e,{ref:t,sideCar:wZ}))});ny.classNames=ry.classNames;var iw=["Enter"," "],NZ=["ArrowDown","PageUp","Home"],tF=["ArrowUp","PageDown","End"],SZ=[...NZ,...tF],CZ={ltr:[...iw,"ArrowRight"],rtl:[...iw,"ArrowLeft"]},PZ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Bm="Menu",[Ch,kZ,_Z]=Lx(Bm),[gc,rF]=Kr(Bm,[_Z,kd,_d]),iy=kd(),nF=_d(),[AZ,vc]=gc(Bm),[TZ,zm]=gc(Bm),iF=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=iy(t),[c,u]=j.useState(null),d=j.useRef(!1),f=an(a),h=Fm(s);return j.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(oS,{...l,children:i.jsx(AZ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(TZ,{scope:t,onClose:j.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};iF.displayName=Bm;var EZ="MenuAnchor",NS=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=iy(r);return i.jsx(lS,{...s,...n,ref:t})});NS.displayName=EZ;var SS="MenuPortal",[OZ,sF]=gc(SS,{forceMount:void 0}),aF=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=vc(SS,t);return i.jsx(OZ,{scope:t,forceMount:r,children:i.jsx(Gn,{present:r||a.open,children:i.jsx(Mm,{asChild:!0,container:s,children:n})})})};aF.displayName=SS;var Ui="MenuContent",[MZ,CS]=gc(Ui),oF=j.forwardRef((e,t)=>{const r=sF(Ui,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=vc(Ui,e.__scopeMenu),o=zm(Ui,e.__scopeMenu);return i.jsx(Ch.Provider,{scope:e.__scopeMenu,children:i.jsx(Gn,{present:n||a.open,children:i.jsx(Ch.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(IZ,{...s,ref:t}):i.jsx(DZ,{...s,ref:t})})})})}),IZ=j.forwardRef((e,t)=>{const r=vc(Ui,e.__scopeMenu),n=j.useRef(null),s=ht(t,n);return j.useEffect(()=>{const a=n.current;if(a)return wS(a)},[]),i.jsx(PS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),DZ=j.forwardRef((e,t)=>{const r=vc(Ui,e.__scopeMenu);return i.jsx(PS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),$Z=Hl("MenuContent.ScrollLock"),PS=j.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=vc(Ui,r),x=zm(Ui,r),y=iy(r),b=nF(r),N=kZ(r),[w,S]=j.useState(null),C=j.useRef(null),k=ht(t,C,v.onContentChange),P=j.useRef(0),A=j.useRef(""),O=j.useRef(0),M=j.useRef(null),T=j.useRef("right"),E=j.useRef(0),I=g?ny:j.Fragment,L=g?{as:$Z,allowPinchZoom:!0}:void 0,q=$=>{var ye,K;const G=A.current+$,re=N().filter(X=>!X.disabled),B=document.activeElement,ae=(ye=re.find(X=>X.ref.current===B))==null?void 0:ye.textValue,Se=re.map(X=>X.textValue),Ce=GZ(Se,G,ae),Fe=(K=re.find(X=>X.textValue===Ce))==null?void 0:K.ref.current;(function X(ue){A.current=ue,window.clearTimeout(P.current),ue!==""&&(P.current=window.setTimeout(()=>X(""),1e3))})(G),Fe&&setTimeout(()=>Fe.focus())};j.useEffect(()=>()=>window.clearTimeout(P.current),[]),yS();const _=j.useCallback($=>{var re,B;return T.current===((re=M.current)==null?void 0:re.side)&&YZ($,(B=M.current)==null?void 0:B.area)},[]);return i.jsx(MZ,{scope:r,searchRef:A,onItemEnter:j.useCallback($=>{_($)&&$.preventDefault()},[_]),onItemLeave:j.useCallback($=>{var G;_($)||((G=C.current)==null||G.focus(),S(null))},[_]),onTriggerLeave:j.useCallback($=>{_($)&&$.preventDefault()},[_]),pointerGraceTimerRef:O,onPointerGraceIntentChange:j.useCallback($=>{M.current=$},[]),children:i.jsx(I,{...L,children:i.jsx(ey,{asChild:!0,trapped:s,onMountAutoFocus:je(a,$=>{var G;$.preventDefault(),(G=C.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:i.jsx(bS,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:S,onEntryFocus:je(c,$=>{x.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(cS,{role:"menu","aria-orientation":"vertical","data-state":NF(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...m,ref:k,style:{outline:"none",...m.style},onKeyDown:je(m.onKeyDown,$=>{const re=$.target.closest("[data-radix-menu-content]")===$.currentTarget,B=$.ctrlKey||$.altKey||$.metaKey,ae=$.key.length===1;re&&($.key==="Tab"&&$.preventDefault(),!B&&ae&&q($.key));const Se=C.current;if($.target!==Se||!SZ.includes($.key))return;$.preventDefault();const Fe=N().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);tF.includes($.key)&&Fe.reverse(),HZ(Fe)}),onBlur:je(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(P.current),A.current="")}),onPointerMove:je(e.onPointerMove,Ph($=>{const G=$.target,re=E.current!==$.clientX;if($.currentTarget.contains(G)&&re){const B=$.clientX>E.current?"right":"left";T.current=B,E.current=$.clientX}}))})})})})})})});oF.displayName=Ui;var RZ="MenuGroup",kS=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Re.div,{role:"group",...n,ref:t})});kS.displayName=RZ;var LZ="MenuLabel",lF=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Re.div,{...n,ref:t})});lF.displayName=LZ;var Zg="MenuItem",A_="menu.itemSelect",sy=j.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=j.useRef(null),o=zm(Zg,e.__scopeMenu),l=CS(Zg,e.__scopeMenu),c=ht(t,a),u=j.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(A_,{bubbles:!0,cancelable:!0});f.addEventListener(A_,p=>n==null?void 0:n(p),{once:!0}),H1(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(cF,{...s,ref:c,disabled:r,onClick:je(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:je(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:je(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||iw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});sy.displayName=Zg;var cF=j.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=CS(Zg,r),l=nF(r),c=j.useRef(null),u=ht(t,c),[d,f]=j.useState(!1),[h,p]=j.useState("");return j.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[a.children]),i.jsx(Ch.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:i.jsx(jS,{asChild:!0,...l,focusable:!n,children:i.jsx(Re.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:je(e.onPointerMove,Ph(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,Ph(g=>o.onItemLeave(g))),onFocus:je(e.onFocus,()=>f(!0)),onBlur:je(e.onBlur,()=>f(!1))})})})}),FZ="MenuCheckboxItem",uF=j.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(pF,{scope:e.__scopeMenu,checked:r,children:i.jsx(sy,{role:"menuitemcheckbox","aria-checked":Jg(r)?"mixed":r,...s,ref:t,"data-state":AS(r),onSelect:je(s.onSelect,()=>n==null?void 0:n(Jg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});uF.displayName=FZ;var dF="MenuRadioGroup",[BZ,zZ]=gc(dF,{value:void 0,onValueChange:()=>{}}),fF=j.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=an(n);return i.jsx(BZ,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(kS,{...s,ref:t})})});fF.displayName=dF;var hF="MenuRadioItem",mF=j.forwardRef((e,t)=>{const{value:r,...n}=e,s=zZ(hF,e.__scopeMenu),a=r===s.value;return i.jsx(pF,{scope:e.__scopeMenu,checked:a,children:i.jsx(sy,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":AS(a),onSelect:je(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});mF.displayName=hF;var _S="MenuItemIndicator",[pF,UZ]=gc(_S,{checked:!1}),gF=j.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=UZ(_S,r);return i.jsx(Gn,{present:n||Jg(a.checked)||a.checked===!0,children:i.jsx(Re.span,{...s,ref:t,"data-state":AS(a.checked)})})});gF.displayName=_S;var VZ="MenuSeparator",vF=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});vF.displayName=VZ;var qZ="MenuArrow",xF=j.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=iy(r);return i.jsx(uS,{...s,...n,ref:t})});xF.displayName=qZ;var WZ="MenuSub",[mOe,yF]=gc(WZ),_f="MenuSubTrigger",bF=j.forwardRef((e,t)=>{const r=vc(_f,e.__scopeMenu),n=zm(_f,e.__scopeMenu),s=yF(_f,e.__scopeMenu),a=CS(_f,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>d,[d]),j.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(NS,{asChild:!0,...u,children:i.jsx(cF,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":NF(r.open),...e,ref:Rx(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,Ph(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:je(e.onPointerLeave,Ph(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",x=v?-5:5,y=h[v?"left":"right"],b=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:y,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||CZ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});bF.displayName=_f;var jF="MenuSubContent",wF=j.forwardRef((e,t)=>{const r=sF(Ui,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=vc(Ui,e.__scopeMenu),o=zm(Ui,e.__scopeMenu),l=yF(jF,e.__scopeMenu),c=j.useRef(null),u=ht(t,c);return i.jsx(Ch.Provider,{scope:e.__scopeMenu,children:i.jsx(Gn,{present:n||a.open,children:i.jsx(Ch.Slot,{scope:e.__scopeMenu,children:i.jsx(PS,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:je(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:je(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=PZ[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});wF.displayName=jF;function NF(e){return e?"open":"closed"}function Jg(e){return e==="indeterminate"}function AS(e){return Jg(e)?"indeterminate":e?"checked":"unchecked"}function HZ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function KZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function GZ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=KZ(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function QZ(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function YZ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return QZ(r,t)}function Ph(e){return t=>t.pointerType==="mouse"?e(t):void 0}var XZ=iF,ZZ=NS,JZ=aF,eJ=oF,tJ=kS,rJ=lF,nJ=sy,iJ=uF,sJ=fF,aJ=mF,oJ=gF,lJ=vF,cJ=xF,uJ=bF,dJ=wF,TS="DropdownMenu",[fJ,pOe]=Kr(TS,[rF]),Rn=rF(),[hJ,SF]=fJ(TS),CF=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Rn(t),u=j.useRef(null),[d=!1,f]=Wi({prop:s,defaultProp:a,onChange:o});return i.jsx(hJ,{scope:t,triggerId:zi(),triggerRef:u,contentId:zi(),open:d,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(XZ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};CF.displayName=TS;var PF="DropdownMenuTrigger",kF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=SF(PF,r),o=Rn(r);return i.jsx(ZZ,{asChild:!0,...o,children:i.jsx(Re.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Rx(t,a.triggerRef),onPointerDown:je(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:je(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});kF.displayName=PF;var mJ="DropdownMenuPortal",_F=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Rn(t);return i.jsx(JZ,{...n,...r})};_F.displayName=mJ;var AF="DropdownMenuContent",TF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=SF(AF,r),a=Rn(r),o=j.useRef(!1);return i.jsx(eJ,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:je(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:je(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TF.displayName=AF;var pJ="DropdownMenuGroup",gJ=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(tJ,{...s,...n,ref:t})});gJ.displayName=pJ;var vJ="DropdownMenuLabel",EF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(rJ,{...s,...n,ref:t})});EF.displayName=vJ;var xJ="DropdownMenuItem",OF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(nJ,{...s,...n,ref:t})});OF.displayName=xJ;var yJ="DropdownMenuCheckboxItem",MF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(iJ,{...s,...n,ref:t})});MF.displayName=yJ;var bJ="DropdownMenuRadioGroup",jJ=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(sJ,{...s,...n,ref:t})});jJ.displayName=bJ;var wJ="DropdownMenuRadioItem",IF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(aJ,{...s,...n,ref:t})});IF.displayName=wJ;var NJ="DropdownMenuItemIndicator",DF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(oJ,{...s,...n,ref:t})});DF.displayName=NJ;var SJ="DropdownMenuSeparator",$F=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(lJ,{...s,...n,ref:t})});$F.displayName=SJ;var CJ="DropdownMenuArrow",PJ=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(cJ,{...s,...n,ref:t})});PJ.displayName=CJ;var kJ="DropdownMenuSubTrigger",RF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(uJ,{...s,...n,ref:t})});RF.displayName=kJ;var _J="DropdownMenuSubContent",LF=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Rn(r);return i.jsx(dJ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LF.displayName=_J;var AJ=CF,TJ=kF,EJ=_F,FF=TF,BF=EF,zF=OF,UF=MF,VF=IF,qF=DF,WF=$F,HF=RF,KF=LF;const Uu=AJ,Vu=TJ,OJ=j.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(HF,{ref:s,className:xe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,i.jsx(FL,{className:"ml-auto"})]}));OJ.displayName=HF.displayName;const MJ=j.forwardRef(({className:e,...t},r)=>i.jsx(KF,{ref:r,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));MJ.displayName=KF.displayName;const Yl=j.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(EJ,{children:i.jsx(FF,{ref:n,sideOffset:t,className:xe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Yl.displayName=FF.displayName;const Ir=j.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(zF,{ref:n,className:xe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Ir.displayName=zF.displayName;const IJ=j.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(UF,{ref:s,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(qF,{children:i.jsx(ba,{className:"h-4 w-4"})})}),t]}));IJ.displayName=UF.displayName;const DJ=j.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(VF,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(qF,{children:i.jsx(BL,{className:"h-2 w-2 fill-current"})})}),t]}));DJ.displayName=VF.displayName;const $J=j.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(BF,{ref:n,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));$J.displayName=BF.displayName;const ES=j.forwardRef(({className:e,...t},r)=>i.jsx(WF,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));ES.displayName=WF.displayName;function OS({onMenuClick:e}){const{user:t}=Si(),r=(n,s)=>!n&&!s?"U":`${(n==null?void 0:n[0])||""}${(s==null?void 0:s[0])||""}`.toUpperCase();return i.jsx("header",{className:"bg-white border-b border-border fixed top-0 left-0 right-0 z-50 h-16",children:i.jsxs("div",{className:"flex items-center justify-between px-6 h-full",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(F,{variant:"ghost",size:"sm",className:"md:hidden p-2",onClick:()=>{e==null||e()},children:i.jsx(QG,{className:"h-5 w-5"})}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("a",{href:"/",className:"cursor-pointer",children:i.jsx("img",{src:mS,alt:"KDP Generator",className:"h-10 w-auto object-contain hover:opacity-80 transition-opacity"})})})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(F,{variant:"ghost",size:"sm",className:"relative p-2 text-muted-foreground hover:text-foreground",children:[i.jsx(RL,{className:"w-5 h-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"3"})]}),i.jsxs(Uu,{children:[i.jsx(Vu,{asChild:!0,children:i.jsxs(F,{variant:"ghost",className:"flex items-center space-x-2 p-2 hover:bg-muted",children:[i.jsxs(gS,{className:"w-8 h-8",children:[i.jsx(vS,{src:(t==null?void 0:t.profileImageUrl)||void 0,alt:"User Avatar"}),i.jsx(xS,{children:r((t==null?void 0:t.firstName)||void 0,(t==null?void 0:t.lastName)||void 0)})]}),i.jsx("span",{className:"text-sm font-medium text-foreground",children:t!=null&&t.firstName?`${t.firstName} ${t.lastName||""}`.trim():"User"}),i.jsx(Ux,{className:"w-4 h-4 text-muted-foreground"})]})}),i.jsxs(Yl,{align:"end",className:"w-56",children:[i.jsxs(Ir,{children:[i.jsx(Vx,{className:"w-4 h-4 mr-2"}),"Subscription"]}),i.jsxs(Ir,{children:[i.jsx(On,{className:"w-4 h-4 mr-2"}),"Settings"]}),i.jsx(ES,{}),i.jsxs(Ir,{onClick:()=>window.location.href="/api/logout",children:[i.jsx(GG,{className:"w-4 h-4 mr-2"}),"Log out"]})]})]})]})]})})}function ea(){const{user:e,isLoading:t}=Si(),r=e,n=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="superadmin",s=(r==null?void 0:r.role)==="superadmin";return{isAdmin:n,isSuperAdmin:s,isLoading:t}}const GF=[{name:"Dashboard",href:"/",icon:zx},{name:"Projects",href:"/projects",icon:Kl},{name:"Books",href:"/books",icon:Fo},{name:"Authors",href:"/authors",icon:Ks},{name:"Series",href:"/manage-series",icon:Y1},{name:"Sales Analytics",href:"/analytics",icon:bi},{name:"Exchange Rates",href:"/exchange-rates",icon:yi},{name:"KDP Reports",href:"/kdp-reports",icon:wh},{name:"Import Management",href:"/import-management",icon:$m,badge:"NEW"},{name:"AI Assistant",href:"/ai-assistant",icon:vs,badge:"PRO"},{name:"AI Functions",href:"/ai-functions",icon:Wx,badge:"NEW"}],QF=[{name:"Subscription",href:"/subscription",icon:Vx},{name:"Settings",href:"/settings",icon:On}],YF=[{name:"Dashboard",href:"/admin",icon:Eo,badge:"ADMIN"},{name:"User Management",href:"/admin/users",icon:On},{name:"AI Configuration",href:"/admin/ai-config",icon:vs},{name:"Prompts IA",href:"/admin/prompts",icon:VL},{name:"Variables IA",href:"/admin/ai-variables",icon:rQ},{name:"Cron Jobs",href:"/admin/cron",icon:vs},{name:"Système",href:"/admin/system",icon:Qj}],XF=[{name:"Articles",href:"/admin/blog-posts",icon:Fo},{name:"Catégories",href:"/admin/blog-categories",icon:Y1}];function MS(){const[e]=$n(),{isAdmin:t}=ea();return i.jsx("aside",{className:"bg-white dark:bg-background w-64 border-r border-border fixed left-0 top-16 bottom-0 overflow-y-auto hidden md:block",children:i.jsxs("nav",{className:"p-4 space-y-2 pb-8",children:[GF.map(r=>{const n=e===r.href;return i.jsx(Pn,{href:r.href,children:i.jsxs("span",{className:xe("flex items-center space-x-3 px-3 py-2 rounded-lg font-medium transition-colors cursor-pointer",n?"text-white":"text-foreground hover:bg-muted"),style:n?{backgroundColor:"#38b6ff"}:{},children:[i.jsx(r.icon,{className:"w-5 h-5"}),i.jsx("span",{children:r.name}),r.badge&&i.jsx(me,{className:xe("text-xs",n?"bg-white text-primary":"bg-secondary text-secondary-foreground"),children:r.badge})]})},r.name)}),t&&i.jsxs("div",{className:"pt-4 border-t border-border mt-4",children:[i.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-2",children:"Administration"}),YF.map(r=>{const n=e===r.href;return i.jsx(Pn,{href:r.href,children:i.jsxs("span",{className:xe("flex items-center space-x-3 px-3 py-2 rounded-lg font-medium transition-colors cursor-pointer",n?"text-white":"text-foreground hover:bg-muted"),style:n?{backgroundColor:"#38b6ff"}:{},children:[i.jsx(r.icon,{className:"w-5 h-5"}),i.jsx("span",{children:r.name}),r.badge&&i.jsx(me,{variant:r.badge==="ADMIN"?"destructive":"secondary",className:"text-xs",children:r.badge})]})},r.name)}),i.jsxs("div",{className:"ml-4 mt-2 space-y-1",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide px-3",children:"Blog"}),XF.map(r=>{const n=e===r.href;return i.jsx(Pn,{href:r.href,children:i.jsxs("span",{className:xe("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm transition-colors cursor-pointer",n?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[i.jsx(r.icon,{className:"w-4 h-4"}),i.jsx("span",{children:r.name})]})},r.name)})]})]}),i.jsxs("div",{className:"pt-4 border-t border-border mt-4 pb-6",children:[i.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-2",children:"Account"}),QF.map(r=>{const n=e===r.href;return i.jsx(Pn,{href:r.href,children:i.jsxs("span",{className:xe("flex items-center space-x-3 px-3 py-2 rounded-lg font-medium transition-colors cursor-pointer",n?"text-white":"text-foreground hover:bg-muted"),style:n?{backgroundColor:"#38b6ff"}:{},children:[i.jsx(r.icon,{className:"w-5 h-5"}),i.jsx("span",{children:r.name})]})},r.name)})]})]})})}var IS="Dialog",[ZF,JF]=Kr(IS),[RJ,Ns]=ZF(IS),e5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u=!1,d]=Wi({prop:n,defaultProp:s,onChange:a});return i.jsx(RJ,{scope:t,triggerRef:l,contentRef:c,contentId:zi(),titleId:zi(),descriptionId:zi(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};e5.displayName=IS;var t5="DialogTrigger",r5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ns(t5,r),a=ht(t,s.triggerRef);return i.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":RS(s.open),...n,ref:a,onClick:je(e.onClick,s.onOpenToggle)})});r5.displayName=t5;var DS="DialogPortal",[LJ,n5]=ZF(DS,{forceMount:void 0}),i5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Ns(DS,t);return i.jsx(LJ,{scope:t,forceMount:r,children:j.Children.map(n,o=>i.jsx(Gn,{present:r||a.open,children:i.jsx(Mm,{asChild:!0,container:s,children:o})}))})};i5.displayName=DS;var ev="DialogOverlay",s5=j.forwardRef((e,t)=>{const r=n5(ev,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ns(ev,e.__scopeDialog);return a.modal?i.jsx(Gn,{present:n||a.open,children:i.jsx(BJ,{...s,ref:t})}):null});s5.displayName=ev;var FJ=Hl("DialogOverlay.RemoveScroll"),BJ=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ns(ev,r);return i.jsx(ny,{as:FJ,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Re.div,{"data-state":RS(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Xl="DialogContent",a5=j.forwardRef((e,t)=>{const r=n5(Xl,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Ns(Xl,e.__scopeDialog);return i.jsx(Gn,{present:n||a.open,children:a.modal?i.jsx(zJ,{...s,ref:t}):i.jsx(UJ,{...s,ref:t})})});a5.displayName=Xl;var zJ=j.forwardRef((e,t)=>{const r=Ns(Xl,e.__scopeDialog),n=j.useRef(null),s=ht(t,r.contentRef,n);return j.useEffect(()=>{const a=n.current;if(a)return wS(a)},[]),i.jsx(o5,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:je(e.onFocusOutside,a=>a.preventDefault())})}),UJ=j.forwardRef((e,t)=>{const r=Ns(Xl,e.__scopeDialog),n=j.useRef(!1),s=j.useRef(!1);return i.jsx(o5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),o5=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Ns(Xl,r),c=j.useRef(null),u=ht(t,c);return yS(),i.jsxs(i.Fragment,{children:[i.jsx(ey,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Nd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":RS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(qJ,{titleId:l.titleId}),i.jsx(HJ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),$S="DialogTitle",l5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ns($S,r);return i.jsx(Re.h2,{id:s.titleId,...n,ref:t})});l5.displayName=$S;var c5="DialogDescription",u5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ns(c5,r);return i.jsx(Re.p,{id:s.descriptionId,...n,ref:t})});u5.displayName=c5;var d5="DialogClose",f5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ns(d5,r);return i.jsx(Re.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>s.onOpenChange(!1))})});f5.displayName=d5;function RS(e){return e?"open":"closed"}var h5="DialogTitleWarning",[VJ,m5]=WK(h5,{contentName:Xl,titleName:$S,docsSlug:"dialog"}),qJ=({titleId:e})=>{const t=m5(h5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},WJ="DialogDescriptionWarning",HJ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m5(WJ).contentName}}.`;return j.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},LS=e5,p5=r5,FS=i5,Um=s5,Vm=a5,qm=l5,Wm=u5,ay=f5;const KJ=LS,GJ=FS,g5=j.forwardRef(({className:e,...t},r)=>i.jsx(Um,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));g5.displayName=Um.displayName;const QJ=Dm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v5=j.forwardRef(({side:e="right",className:t,children:r,...n},s)=>i.jsxs(GJ,{children:[i.jsx(g5,{}),i.jsxs(Vm,{ref:s,className:xe(QJ({side:e}),t),...n,children:[r,i.jsxs(ay,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(ji,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));v5.displayName=Vm.displayName;const x5=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});x5.displayName="SheetHeader";const y5=j.forwardRef(({className:e,...t},r)=>i.jsx(qm,{ref:r,className:xe("text-lg font-semibold text-foreground",e),...t}));y5.displayName=qm.displayName;const YJ=j.forwardRef(({className:e,...t},r)=>i.jsx(Wm,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));YJ.displayName=Wm.displayName;function XJ({open:e,onOpenChange:t}){const[r]=$n(),{isAdmin:n}=ea(),s=()=>{t(!1)};return i.jsx(KJ,{open:e,onOpenChange:t,children:i.jsxs(v5,{side:"left",className:"w-64 p-0",children:[i.jsx(x5,{className:"px-4 py-6 border-b",children:i.jsxs(y5,{className:"flex items-center space-x-2",children:[i.jsx("img",{src:mS,alt:"KDP Generator",className:"h-8 w-auto object-contain"}),i.jsx("span",{className:"text-lg font-semibold",children:"KDP Generator"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto h-full max-h-[calc(100vh-120px)]",children:i.jsxs("nav",{className:"p-4 space-y-2",children:[GF.map(a=>{const o=r===a.href;return i.jsx(Pn,{href:a.href,children:i.jsxs("span",{className:xe("flex items-center space-x-3 px-3 py-2 rounded-lg font-medium transition-colors cursor-pointer",o?"text-white":"text-foreground hover:bg-muted"),style:o?{backgroundColor:"#38b6ff"}:{},onClick:s,children:[i.jsx(a.icon,{className:"w-5 h-5"}),i.jsx("span",{children:a.name}),a.badge&&i.jsx(me,{className:xe("text-xs",o?"bg-white text-primary":"bg-secondary text-secondary-foreground"),children:a.badge})]})},a.name)}),n&&i.jsxs("div",{className:"pt-4 border-t border-border mt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 text-sm font-semibold text-muted-foreground",children:[i.jsx(Eo,{className:"w-4 h-4"}),i.jsx("span",{children:"Admin"})]}),i.jsxs("div",{className:"space-y-1",children:[YF.map(a=>{const o=r===a.href;return i.jsx(Pn,{href:a.href,children:i.jsxs("span",{className:xe("flex items-center space-x-3 px-3 py-2 rounded-lg font-medium transition-colors cursor-pointer",o?"text-white":"text-foreground hover:bg-muted"),style:o?{backgroundColor:"#38b6ff"}:{},onClick:s,children:[i.jsx(a.icon,{className:"w-5 h-5"}),i.jsx("span",{children:a.name}),a.badge&&i.jsx(me,{className:xe("text-xs",o?"bg-white text-primary":a.badge==="ADMIN"?"bg-red-500 text-white":"bg-secondary text-secondary-foreground"),children:a.badge})]})},a.name)}),i.jsxs("div",{className:"ml-3 mt-3 space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 text-xs font-semibold text-muted-foreground",children:[i.jsx(Eo,{className:"w-3 h-3"}),i.jsx("span",{children:"BLOG"})]}),XF.map(a=>{const o=r===a.href;return i.jsx(Pn,{href:a.href,children:i.jsxs("span",{className:xe("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm transition-colors cursor-pointer",o?"bg-muted text-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),onClick:s,children:[i.jsx(a.icon,{className:"w-4 h-4"}),i.jsx("span",{children:a.name})]})},a.name)})]})]})]}),i.jsx("div",{className:"pt-4 border-t border-border mt-4",children:i.jsx("div",{className:"space-y-1",children:QF.map(a=>{const o=r===a.href;return i.jsx(Pn,{href:a.href,children:i.jsxs("span",{className:xe("flex items-center space-x-3 px-3 py-2 rounded-lg font-medium transition-colors cursor-pointer",o?"bg-primary text-primary-foreground":"text-foreground hover:bg-muted"),onClick:s,children:[i.jsx(a.icon,{className:"w-5 h-5"}),i.jsx("span",{children:a.name})]})},a.name)})})})]})})]})})}function ft({children:e}){const[t,r]=j.useState(!1),n=()=>{r(!0)};return i.jsxs("div",{className:"layout-container",children:[i.jsx(OS,{onMenuClick:n}),i.jsxs("div",{className:"layout-content",children:[i.jsx(MS,{}),i.jsx(XJ,{open:t,onOpenChange:r}),i.jsx("main",{className:"layout-main",children:e})]})]})}function Oo(e){return/^401: .*Unauthorized/.test(e.message)}function ZJ(){const{toast:e}=Pt(),{data:t,isLoading:r,error:n}=ze({queryKey:["/api/dashboard/stats"]});if(j.useEffect(()=>{if(n&&Oo(n)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[n,e]),r)return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(a=>i.jsx(Z,{className:"animate-pulse",children:i.jsx(ee,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),i.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"})]})})},a))});const s=[{title:"Active Projects",value:(t==null?void 0:t.activeProjects)||0,change:"+2 this month",changeType:"positive",icon:Kl,iconBg:"bg-blue-100",iconColor:"text-primary"},{title:"Monthly Revenue",value:`$${((t==null?void 0:t.monthlyRevenue)||0).toLocaleString()}`,change:"+18.2%",changeType:"positive",icon:yi,iconBg:"bg-green-100",iconColor:"text-success"},{title:"Total Books Sold",value:((t==null?void 0:t.totalBooksSold)||0).toLocaleString(),change:"-3.1%",changeType:"negative",icon:Kj,iconBg:"bg-yellow-100",iconColor:"text-warning"},{title:"AI Generations",value:((t==null?void 0:t.aiGenerations)||0).toLocaleString(),change:"+25.4%",changeType:"positive",icon:vs,iconBg:"bg-purple-100",iconColor:"text-secondary"}];return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.map(a=>i.jsx(Z,{className:"shadow-sm border border-gray-200",children:i.jsx(ee,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium",children:a.title}),i.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:a.value}),i.jsxs("p",{className:`text-sm mt-2 flex items-center ${a.changeType==="positive"?"text-success":"text-warning"}`,children:[a.changeType==="positive"?i.jsx(LG,{className:"w-4 h-4 mr-1"}):i.jsx($G,{className:"w-4 h-4 mr-1"}),a.change]})]}),i.jsx("div",{className:`${a.iconBg} p-3 rounded-lg`,children:i.jsx(a.icon,{className:`${a.iconColor} text-xl w-6 h-6`})})]})})},a.title))})}function T_(e,[t,r]){return Math.min(r,Math.max(t,e))}function oy(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var JJ=[" ","Enter","ArrowUp","ArrowDown"],eee=[" ","Enter"],Hm="Select",[ly,cy,tee]=Lx(Hm),[Ad,gOe]=Kr(Hm,[tee,kd]),uy=kd(),[ree,Xo]=Ad(Hm),[nee,iee]=Ad(Hm),b5=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=uy(t),[v,x]=j.useState(null),[y,b]=j.useState(null),[N,w]=j.useState(!1),S=Fm(u),[C=!1,k]=Wi({prop:n,defaultProp:s,onChange:a}),[P,A]=Wi({prop:o,defaultProp:l,onChange:c}),O=j.useRef(null),M=v?g||!!v.closest("form"):!0,[T,E]=j.useState(new Set),I=Array.from(T).map(L=>L.props.value).join(";");return i.jsx(oS,{...m,children:i.jsxs(ree,{required:p,scope:t,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:zi(),value:P,onValueChange:A,open:C,onOpenChange:k,dir:S,triggerPointerDownPosRef:O,disabled:h,children:[i.jsx(ly.Provider,{scope:t,children:i.jsx(nee,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(L=>{E(q=>new Set(q).add(L))},[]),onNativeOptionRemove:j.useCallback(L=>{E(q=>{const _=new Set(q);return _.delete(L),_})},[]),children:r})}),M?i.jsxs(W5,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:L=>A(L.target.value),disabled:h,form:g,children:[P===void 0?i.jsx("option",{value:""}):null,Array.from(T)]},I):null]})})};b5.displayName=Hm;var j5="SelectTrigger",w5=j.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=uy(r),o=Xo(j5,r),l=o.disabled||n,c=ht(t,o.onTriggerChange),u=cy(r),d=j.useRef("touch"),[f,h,p]=H5(m=>{const v=u().filter(b=>!b.disabled),x=v.find(b=>b.value===o.value),y=K5(v,m,x);y!==void 0&&o.onValueChange(y.value)}),g=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(lS,{asChild:!0,...a,children:i.jsx(Re.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":q5(o.value)?"":void 0,...s,ref:c,onClick:je(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:je(s.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:je(s.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&JJ.includes(m.key)&&(g(),m.preventDefault())})})})});w5.displayName=j5;var N5="SelectValue",S5=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=Xo(N5,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=ht(t,c.onValueNodeChange);return _r(()=>{u(d)},[u,d]),i.jsx(Re.span,{...l,ref:f,style:{pointerEvents:"none"},children:q5(c.value)?i.jsx(i.Fragment,{children:o}):a})});S5.displayName=N5;var see="SelectIcon",C5=j.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(Re.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});C5.displayName=see;var aee="SelectPortal",P5=e=>i.jsx(Mm,{asChild:!0,...e});P5.displayName=aee;var Zl="SelectContent",k5=j.forwardRef((e,t)=>{const r=Xo(Zl,e.__scopeSelect),[n,s]=j.useState();if(_r(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?pc.createPortal(i.jsx(_5,{scope:e.__scopeSelect,children:i.jsx(ly.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(A5,{...e,ref:t})});k5.displayName=Zl;var Ji=10,[_5,Zo]=Ad(Zl),oee="SelectContentImpl",lee=Hl("SelectContent.RemoveScroll"),A5=j.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=e,y=Xo(Zl,r),[b,N]=j.useState(null),[w,S]=j.useState(null),C=ht(t,ye=>N(ye)),[k,P]=j.useState(null),[A,O]=j.useState(null),M=cy(r),[T,E]=j.useState(!1),I=j.useRef(!1);j.useEffect(()=>{if(b)return wS(b)},[b]),yS();const L=j.useCallback(ye=>{const[K,...X]=M().map(Y=>Y.ref.current),[ue]=X.slice(-1),fe=document.activeElement;for(const Y of ye)if(Y===fe||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===K&&w&&(w.scrollTop=0),Y===ue&&w&&(w.scrollTop=w.scrollHeight),Y==null||Y.focus(),document.activeElement!==fe))return},[M,w]),q=j.useCallback(()=>L([k,b]),[L,k,b]);j.useEffect(()=>{T&&q()},[T,q]);const{onOpenChange:_,triggerPointerDownPosRef:$}=y;j.useEffect(()=>{if(b){let ye={x:0,y:0};const K=ue=>{var fe,Y;ye={x:Math.abs(Math.round(ue.pageX)-(((fe=$.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((Y=$.current)==null?void 0:Y.y)??0))}},X=ue=>{ye.x<=10&&ye.y<=10?ue.preventDefault():b.contains(ue.target)||_(!1),document.removeEventListener("pointermove",K),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",X,{capture:!0})}}},[b,_,$]),j.useEffect(()=>{const ye=()=>_(!1);return window.addEventListener("blur",ye),window.addEventListener("resize",ye),()=>{window.removeEventListener("blur",ye),window.removeEventListener("resize",ye)}},[_]);const[G,re]=H5(ye=>{const K=M().filter(fe=>!fe.disabled),X=K.find(fe=>fe.ref.current===document.activeElement),ue=K5(K,ye,X);ue&&setTimeout(()=>ue.ref.current.focus())}),B=j.useCallback((ye,K,X)=>{const ue=!I.current&&!X;(y.value!==void 0&&y.value===K||ue)&&(P(ye),ue&&(I.current=!0))},[y.value]),ae=j.useCallback(()=>b==null?void 0:b.focus(),[b]),Se=j.useCallback((ye,K,X)=>{const ue=!I.current&&!X;(y.value!==void 0&&y.value===K||ue)&&O(ye)},[y.value]),Ce=n==="popper"?sw:T5,Fe=Ce===sw?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return i.jsx(_5,{scope:r,content:b,viewport:w,onViewportChange:S,itemRefCallback:B,selectedItem:k,onItemLeave:ae,itemTextRefCallback:Se,focusSelectedItem:q,selectedItemText:A,position:n,isPositioned:T,searchRef:G,children:i.jsx(ny,{as:lee,allowPinchZoom:!0,children:i.jsx(ey,{asChild:!0,trapped:y.open,onMountAutoFocus:ye=>{ye.preventDefault()},onUnmountAutoFocus:je(s,ye=>{var K;(K=y.trigger)==null||K.focus({preventScroll:!0}),ye.preventDefault()}),children:i.jsx(Nd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ye=>ye.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(Ce,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ye=>ye.preventDefault(),...x,...Fe,onPlaced:()=>E(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:je(x.onKeyDown,ye=>{const K=ye.ctrlKey||ye.altKey||ye.metaKey;if(ye.key==="Tab"&&ye.preventDefault(),!K&&ye.key.length===1&&re(ye.key),["ArrowUp","ArrowDown","Home","End"].includes(ye.key)){let ue=M().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(ye.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ye.key)){const fe=ye.target,Y=ue.indexOf(fe);ue=ue.slice(Y+1)}setTimeout(()=>L(ue)),ye.preventDefault()}})})})})})})});A5.displayName=oee;var cee="SelectItemAlignedPosition",T5=j.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Xo(Zl,r),o=Zo(Zl,r),[l,c]=j.useState(null),[u,d]=j.useState(null),f=ht(t,C=>d(C)),h=cy(r),p=j.useRef(!1),g=j.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=o,b=j.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&m&&v&&x){const C=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(a.dir!=="rtl"){const fe=A.left-k.left,Y=P.left-fe,Ye=C.left-Y,Be=C.width+Ye,Tt=Math.max(Be,k.width),At=window.innerWidth-Ji,Qt=T_(Y,[Ji,Math.max(Ji,At-Tt)]);l.style.minWidth=Be+"px",l.style.left=Qt+"px"}else{const fe=k.right-A.right,Y=window.innerWidth-P.right-fe,Ye=window.innerWidth-C.right-Y,Be=C.width+Ye,Tt=Math.max(Be,k.width),At=window.innerWidth-Ji,Qt=T_(Y,[Ji,Math.max(Ji,At-Tt)]);l.style.minWidth=Be+"px",l.style.right=Qt+"px"}const O=h(),M=window.innerHeight-Ji*2,T=m.scrollHeight,E=window.getComputedStyle(u),I=parseInt(E.borderTopWidth,10),L=parseInt(E.paddingTop,10),q=parseInt(E.borderBottomWidth,10),_=parseInt(E.paddingBottom,10),$=I+L+T+_+q,G=Math.min(v.offsetHeight*5,$),re=window.getComputedStyle(m),B=parseInt(re.paddingTop,10),ae=parseInt(re.paddingBottom,10),Se=C.top+C.height/2-Ji,Ce=M-Se,Fe=v.offsetHeight/2,ye=v.offsetTop+Fe,K=I+L+ye,X=$-K;if(K<=Se){const fe=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-m.offsetTop-m.offsetHeight,Ye=Math.max(Ce,Fe+(fe?ae:0)+Y+q),Be=K+Ye;l.style.height=Be+"px"}else{const fe=O.length>0&&v===O[0].ref.current;l.style.top="0px";const Ye=Math.max(Se,I+m.offsetTop+(fe?B:0)+Fe)+X;l.style.height=Ye+"px",m.scrollTop=K-Se+m.offsetTop}l.style.margin=`${Ji}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,m,v,x,a.dir,n]);_r(()=>b(),[b]);const[N,w]=j.useState();_r(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const S=j.useCallback(C=>{C&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return i.jsx(dee,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:i.jsx(Re.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});T5.displayName=cee;var uee="SelectPopperPosition",sw=j.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ji,...a}=e,o=uy(r);return i.jsx(cS,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sw.displayName=uee;var[dee,BS]=Ad(Zl,{}),aw="SelectViewport",E5=j.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Zo(aw,r),o=BS(aw,r),l=ht(t,a.onViewportChange),c=j.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(ly.Slot,{scope:r,children:i.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:je(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-Ji*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<g){const y=x+p,b=Math.min(g,y),N=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});E5.displayName=aw;var O5="SelectGroup",[fee,hee]=Ad(O5),mee=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=zi();return i.jsx(fee,{scope:r,id:s,children:i.jsx(Re.div,{role:"group","aria-labelledby":s,...n,ref:t})})});mee.displayName=O5;var M5="SelectLabel",I5=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=hee(M5,r);return i.jsx(Re.div,{id:s.id,...n,ref:t})});I5.displayName=M5;var tv="SelectItem",[pee,D5]=Ad(tv),$5=j.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=Xo(tv,r),c=Zo(tv,r),u=l.value===n,[d,f]=j.useState(a??""),[h,p]=j.useState(!1),g=ht(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,s)}),m=zi(),v=j.useRef("touch"),x=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(pee,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:j.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(ly.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(Re.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:je(o.onFocus,()=>p(!0)),onBlur:je(o.onBlur,()=>p(!1)),onClick:je(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:je(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:je(o.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:je(o.onPointerMove,y=>{var b;v.current=y.pointerType,s?(b=c.onItemLeave)==null||b.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:je(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(eee.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});$5.displayName=tv;var Af="SelectItemText",R5=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=Xo(Af,r),l=Zo(Af,r),c=D5(Af,r),u=iee(Af,r),[d,f]=j.useState(null),h=ht(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=j.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return _r(()=>(m(g),()=>v(g)),[m,v,g]),i.jsxs(i.Fragment,{children:[i.jsx(Re.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pc.createPortal(a.children,o.valueNode):null]})});R5.displayName=Af;var L5="SelectItemIndicator",F5=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return D5(L5,r).isSelected?i.jsx(Re.span,{"aria-hidden":!0,...n,ref:t}):null});F5.displayName=L5;var ow="SelectScrollUpButton",B5=j.forwardRef((e,t)=>{const r=Zo(ow,e.__scopeSelect),n=BS(ow,e.__scopeSelect),[s,a]=j.useState(!1),o=ht(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(U5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});B5.displayName=ow;var lw="SelectScrollDownButton",z5=j.forwardRef((e,t)=>{const r=Zo(lw,e.__scopeSelect),n=BS(lw,e.__scopeSelect),[s,a]=j.useState(!1),o=ht(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(U5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});z5.displayName=lw;var U5=j.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Zo("SelectScrollButton",r),o=j.useRef(null),l=cy(r),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),_r(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Re.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:je(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:je(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:je(s.onPointerLeave,()=>{c()})})}),gee="SelectSeparator",V5=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Re.div,{"aria-hidden":!0,...n,ref:t})});V5.displayName=gee;var cw="SelectArrow",vee=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=uy(r),a=Xo(cw,r),o=Zo(cw,r);return a.open&&o.position==="popper"?i.jsx(uS,{...s,...n,ref:t}):null});vee.displayName=cw;function q5(e){return e===""||e===void 0}var W5=j.forwardRef((e,t)=>{const{value:r,...n}=e,s=j.useRef(null),a=ht(t,s),o=oy(r);return j.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(Im,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});W5.displayName="BubbleSelect";function H5(e){const t=an(e),r=j.useRef(""),n=j.useRef(0),s=j.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function K5(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=xee(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function xee(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var yee=b5,G5=w5,bee=S5,jee=C5,wee=P5,Q5=k5,Nee=E5,Y5=I5,X5=$5,See=R5,Cee=F5,Z5=B5,J5=z5,e6=V5;const et=yee,tt=bee,Ze=j.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(G5,{ref:n,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(jee,{asChild:!0,children:i.jsx(Ux,{className:"h-4 w-4 opacity-50"})})]}));Ze.displayName=G5.displayName;const t6=j.forwardRef(({className:e,...t},r)=>i.jsx(Z5,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(BG,{className:"h-4 w-4"})}));t6.displayName=Z5.displayName;const r6=j.forwardRef(({className:e,...t},r)=>i.jsx(J5,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Ux,{className:"h-4 w-4"})}));r6.displayName=J5.displayName;const Je=j.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(wee,{children:i.jsxs(Q5,{ref:s,className:xe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(t6,{}),i.jsx(Nee,{className:xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(r6,{})]})}));Je.displayName=Q5.displayName;const Pee=j.forwardRef(({className:e,...t},r)=>i.jsx(Y5,{ref:r,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Pee.displayName=Y5.displayName;const U=j.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(X5,{ref:n,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Cee,{children:i.jsx(ba,{className:"h-4 w-4"})})}),i.jsx(See,{children:t})]}));U.displayName=X5.displayName;const kee=j.forwardRef(({className:e,...t},r)=>i.jsx(e6,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));kee.displayName=e6.displayName;var _ee=Array.isArray,Qn=_ee,Aee=typeof fp=="object"&&fp&&fp.Object===Object&&fp,n6=Aee,Tee=n6,Eee=typeof self=="object"&&self&&self.Object===Object&&self,Oee=Tee||Eee||Function("return this")(),ta=Oee,Mee=ta,Iee=Mee.Symbol,Km=Iee,E_=Km,i6=Object.prototype,Dee=i6.hasOwnProperty,$ee=i6.toString,cf=E_?E_.toStringTag:void 0;function Ree(e){var t=Dee.call(e,cf),r=e[cf];try{e[cf]=void 0;var n=!0}catch{}var s=$ee.call(e);return n&&(t?e[cf]=r:delete e[cf]),s}var Lee=Ree,Fee=Object.prototype,Bee=Fee.toString;function zee(e){return Bee.call(e)}var Uee=zee,O_=Km,Vee=Lee,qee=Uee,Wee="[object Null]",Hee="[object Undefined]",M_=O_?O_.toStringTag:void 0;function Kee(e){return e==null?e===void 0?Hee:Wee:M_&&M_ in Object(e)?Vee(e):qee(e)}var qa=Kee;function Gee(e){return e!=null&&typeof e=="object"}var Wa=Gee,Qee=qa,Yee=Wa,Xee="[object Symbol]";function Zee(e){return typeof e=="symbol"||Yee(e)&&Qee(e)==Xee}var Td=Zee,Jee=Qn,ete=Td,tte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rte=/^\w*$/;function nte(e,t){if(Jee(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ete(e)?!0:rte.test(e)||!tte.test(e)||t!=null&&e in Object(t)}var zS=nte;function ite(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Jo=ite;const Ed=Dt(Jo);var ste=qa,ate=Jo,ote="[object AsyncFunction]",lte="[object Function]",cte="[object GeneratorFunction]",ute="[object Proxy]";function dte(e){if(!ate(e))return!1;var t=ste(e);return t==lte||t==cte||t==ote||t==ute}var US=dte;const Xe=Dt(US);var fte=ta,hte=fte["__core-js_shared__"],mte=hte,r0=mte,I_=function(){var e=/[^.]+$/.exec(r0&&r0.keys&&r0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pte(e){return!!I_&&I_ in e}var gte=pte,vte=Function.prototype,xte=vte.toString;function yte(e){if(e!=null){try{return xte.call(e)}catch{}try{return e+""}catch{}}return""}var s6=yte,bte=US,jte=gte,wte=Jo,Nte=s6,Ste=/[\\^$.*+?()[\]{}|]/g,Cte=/^\[object .+?Constructor\]$/,Pte=Function.prototype,kte=Object.prototype,_te=Pte.toString,Ate=kte.hasOwnProperty,Tte=RegExp("^"+_te.call(Ate).replace(Ste,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ete(e){if(!wte(e)||jte(e))return!1;var t=bte(e)?Tte:Cte;return t.test(Nte(e))}var Ote=Ete;function Mte(e,t){return e==null?void 0:e[t]}var Ite=Mte,Dte=Ote,$te=Ite;function Rte(e,t){var r=$te(e,t);return Dte(r)?r:void 0}var xc=Rte,Lte=xc,Fte=Lte(Object,"create"),dy=Fte,D_=dy;function Bte(){this.__data__=D_?D_(null):{},this.size=0}var zte=Bte;function Ute(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vte=Ute,qte=dy,Wte="__lodash_hash_undefined__",Hte=Object.prototype,Kte=Hte.hasOwnProperty;function Gte(e){var t=this.__data__;if(qte){var r=t[e];return r===Wte?void 0:r}return Kte.call(t,e)?t[e]:void 0}var Qte=Gte,Yte=dy,Xte=Object.prototype,Zte=Xte.hasOwnProperty;function Jte(e){var t=this.__data__;return Yte?t[e]!==void 0:Zte.call(t,e)}var ere=Jte,tre=dy,rre="__lodash_hash_undefined__";function nre(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tre&&t===void 0?rre:t,this}var ire=nre,sre=zte,are=Vte,ore=Qte,lre=ere,cre=ire;function Od(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Od.prototype.clear=sre;Od.prototype.delete=are;Od.prototype.get=ore;Od.prototype.has=lre;Od.prototype.set=cre;var ure=Od;function dre(){this.__data__=[],this.size=0}var fre=dre;function hre(e,t){return e===t||e!==e&&t!==t}var VS=hre,mre=VS;function pre(e,t){for(var r=e.length;r--;)if(mre(e[r][0],t))return r;return-1}var fy=pre,gre=fy,vre=Array.prototype,xre=vre.splice;function yre(e){var t=this.__data__,r=gre(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xre.call(t,r,1),--this.size,!0}var bre=yre,jre=fy;function wre(e){var t=this.__data__,r=jre(t,e);return r<0?void 0:t[r][1]}var Nre=wre,Sre=fy;function Cre(e){return Sre(this.__data__,e)>-1}var Pre=Cre,kre=fy;function _re(e,t){var r=this.__data__,n=kre(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Are=_re,Tre=fre,Ere=bre,Ore=Nre,Mre=Pre,Ire=Are;function Md(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Md.prototype.clear=Tre;Md.prototype.delete=Ere;Md.prototype.get=Ore;Md.prototype.has=Mre;Md.prototype.set=Ire;var hy=Md,Dre=xc,$re=ta,Rre=Dre($re,"Map"),qS=Rre,$_=ure,Lre=hy,Fre=qS;function Bre(){this.size=0,this.__data__={hash:new $_,map:new(Fre||Lre),string:new $_}}var zre=Bre;function Ure(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vre=Ure,qre=Vre;function Wre(e,t){var r=e.__data__;return qre(t)?r[typeof t=="string"?"string":"hash"]:r.map}var my=Wre,Hre=my;function Kre(e){var t=Hre(this,e).delete(e);return this.size-=t?1:0,t}var Gre=Kre,Qre=my;function Yre(e){return Qre(this,e).get(e)}var Xre=Yre,Zre=my;function Jre(e){return Zre(this,e).has(e)}var ene=Jre,tne=my;function rne(e,t){var r=tne(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var nne=rne,ine=zre,sne=Gre,ane=Xre,one=ene,lne=nne;function Id(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Id.prototype.clear=ine;Id.prototype.delete=sne;Id.prototype.get=ane;Id.prototype.has=one;Id.prototype.set=lne;var WS=Id,a6=WS,cne="Expected a function";function HS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cne);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(HS.Cache||a6),r}HS.Cache=a6;var o6=HS;const une=Dt(o6);var dne=o6,fne=500;function hne(e){var t=dne(e,function(n){return r.size===fne&&r.clear(),n}),r=t.cache;return t}var mne=hne,pne=mne,gne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vne=/\\(\\)?/g,xne=pne(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(gne,function(r,n,s,a){t.push(s?a.replace(vne,"$1"):n||r)}),t}),yne=xne;function bne(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var KS=bne,R_=Km,jne=KS,wne=Qn,Nne=Td,Sne=1/0,L_=R_?R_.prototype:void 0,F_=L_?L_.toString:void 0;function l6(e){if(typeof e=="string")return e;if(wne(e))return jne(e,l6)+"";if(Nne(e))return F_?F_.call(e):"";var t=e+"";return t=="0"&&1/e==-Sne?"-0":t}var Cne=l6,Pne=Cne;function kne(e){return e==null?"":Pne(e)}var c6=kne,_ne=Qn,Ane=zS,Tne=yne,Ene=c6;function One(e,t){return _ne(e)?e:Ane(e,t)?[e]:Tne(Ene(e))}var u6=One,Mne=Td,Ine=1/0;function Dne(e){if(typeof e=="string"||Mne(e))return e;var t=e+"";return t=="0"&&1/e==-Ine?"-0":t}var py=Dne,$ne=u6,Rne=py;function Lne(e,t){t=$ne(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Rne(t[r++])];return r&&r==n?e:void 0}var GS=Lne,Fne=GS;function Bne(e,t,r){var n=e==null?void 0:Fne(e,t);return n===void 0?r:n}var d6=Bne;const pi=Dt(d6);function zne(e){return e==null}var Une=zne;const rt=Dt(Une);var Vne=qa,qne=Qn,Wne=Wa,Hne="[object String]";function Kne(e){return typeof e=="string"||!qne(e)&&Wne(e)&&Vne(e)==Hne}var Gne=Kne;const Gm=Dt(Gne);var f6={exports:{}},Lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS=Symbol.for("react.element"),YS=Symbol.for("react.portal"),gy=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),xy=Symbol.for("react.profiler"),yy=Symbol.for("react.provider"),by=Symbol.for("react.context"),Qne=Symbol.for("react.server_context"),jy=Symbol.for("react.forward_ref"),wy=Symbol.for("react.suspense"),Ny=Symbol.for("react.suspense_list"),Sy=Symbol.for("react.memo"),Cy=Symbol.for("react.lazy"),Yne=Symbol.for("react.offscreen"),h6;h6=Symbol.for("react.module.reference");function Gi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case QS:switch(e=e.type,e){case gy:case xy:case vy:case wy:case Ny:return e;default:switch(e=e&&e.$$typeof,e){case Qne:case by:case jy:case Cy:case Sy:case yy:return e;default:return t}}case YS:return t}}}Lt.ContextConsumer=by;Lt.ContextProvider=yy;Lt.Element=QS;Lt.ForwardRef=jy;Lt.Fragment=gy;Lt.Lazy=Cy;Lt.Memo=Sy;Lt.Portal=YS;Lt.Profiler=xy;Lt.StrictMode=vy;Lt.Suspense=wy;Lt.SuspenseList=Ny;Lt.isAsyncMode=function(){return!1};Lt.isConcurrentMode=function(){return!1};Lt.isContextConsumer=function(e){return Gi(e)===by};Lt.isContextProvider=function(e){return Gi(e)===yy};Lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===QS};Lt.isForwardRef=function(e){return Gi(e)===jy};Lt.isFragment=function(e){return Gi(e)===gy};Lt.isLazy=function(e){return Gi(e)===Cy};Lt.isMemo=function(e){return Gi(e)===Sy};Lt.isPortal=function(e){return Gi(e)===YS};Lt.isProfiler=function(e){return Gi(e)===xy};Lt.isStrictMode=function(e){return Gi(e)===vy};Lt.isSuspense=function(e){return Gi(e)===wy};Lt.isSuspenseList=function(e){return Gi(e)===Ny};Lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gy||e===xy||e===vy||e===wy||e===Ny||e===Yne||typeof e=="object"&&e!==null&&(e.$$typeof===Cy||e.$$typeof===Sy||e.$$typeof===yy||e.$$typeof===by||e.$$typeof===jy||e.$$typeof===h6||e.getModuleId!==void 0)};Lt.typeOf=Gi;f6.exports=Lt;var Xne=f6.exports,Zne=qa,Jne=Wa,eie="[object Number]";function tie(e){return typeof e=="number"||Jne(e)&&Zne(e)==eie}var m6=tie;const rie=Dt(m6);var nie=m6;function iie(e){return nie(e)&&e!=+e}var sie=iie;const Qm=Dt(sie);var kn=function(t){return t===0?0:t>0?1:-1},bl=function(t){return Gm(t)&&t.indexOf("%")===t.length-1},be=function(t){return rie(t)&&!Qm(t)},Lr=function(t){return be(t)||Gm(t)},aie=0,Dd=function(t){var r=++aie;return"".concat(t||"").concat(r)},_n=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&!Gm(t))return n;var a;if(bl(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Qm(a)&&(a=n),s&&a>r&&(a=r),a},oo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},oie=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},ri=function(t,r){return be(t)&&be(r)?function(n){return t+n*(r-t)}:function(){return r}};function rv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):pi(n,t))===r})}function du(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}var lie=["viewBox","children"],cie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],B_=["points","pathLength"],n0={svg:lie,polygon:B_,polyline:B_},XS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!Ed(n))return null;var s={};return Object.keys(n).forEach(function(a){XS.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},uie=function(t,r,n){return function(s){return t(r,n,s),null}},Jl=function(t,r,n){if(!Ed(t)||uw(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];XS.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=uie(o,r,n))}),s},die=["children"],fie=["children"];function z_(e,t){if(e==null)return{};var r=hie(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dw(e){"@babel/helpers - typeof";return dw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dw(e)}var U_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Aa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},V_=null,i0=null,ZS=function e(t){if(t===V_&&Array.isArray(i0))return i0;var r=[];return j.Children.forEach(t,function(n){rt(n)||(Xne.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),i0=r,V_=t,r};function gi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Aa(s)}):n=[Aa(t)],ZS(e).forEach(function(s){var a=pi(s,"type.displayName")||pi(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function ei(e,t){var r=gi(e,t);return r&&r[0]}var q_=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!be(n)||n<=0||!be(s)||s<=0)},mie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pie=function(t){return t&&t.type&&Gm(t.type)&&mie.indexOf(t.type)>=0},gie=function(t){return t&&dw(t)==="object"&&"clipDot"in t},vie=function(t,r,n,s){var a,o=(a=n0==null?void 0:n0[s])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Xe(t)&&(s&&o.includes(r)||cie.includes(r))||n&&XS.includes(r)},Ve=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(j.isValidElement(t)&&(s=t.props),!Ed(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;vie((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},fw=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return W_(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!W_(a,o))return!1}return!0},W_=function(t,r){if(rt(t)&&rt(r))return!0;if(!rt(t)&&!rt(r)){var n=t.props||{},s=n.children,a=z_(n,die),o=r.props||{},l=o.children,c=z_(o,fie);return s&&l?du(a,c)&&fw(s,l):!s&&!l?du(a,c):!1}return!1},H_=function(t,r){var n=[],s={};return ZS(t).forEach(function(a,o){if(pie(a))n.push(a);else if(a){var l=Aa(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);n.push(f),s[l]=!0}}}),n},xie=function(t){var r=t&&t.type;return r&&U_[r]?U_[r]:null},yie=function(t,r){return ZS(r).indexOf(t)},bie=["children","width","height","viewBox","className","style","title","desc"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(this,arguments)}function jie(e,t){if(e==null)return{};var r=wie(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mw(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=jie(e,bie),d=s||{width:r,height:n,x:0,y:0},f=st("recharts-surface",a);return R.createElement("svg",hw({},Ve(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var Nie=["children","className"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function Sie(e,t){if(e==null)return{};var r=Cie(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kt=R.forwardRef(function(e,t){var r=e.children,n=e.className,s=Sie(e,Nie),a=st("recharts-layer",n);return R.createElement("g",pw({className:a},Ve(s,!0),{ref:t}),r)}),ms=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function Pie(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var kie=Pie,_ie=kie;function Aie(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:_ie(e,t,r)}var Tie=Aie,Eie="\\ud800-\\udfff",Oie="\\u0300-\\u036f",Mie="\\ufe20-\\ufe2f",Iie="\\u20d0-\\u20ff",Die=Oie+Mie+Iie,$ie="\\ufe0e\\ufe0f",Rie="\\u200d",Lie=RegExp("["+Rie+Eie+Die+$ie+"]");function Fie(e){return Lie.test(e)}var p6=Fie;function Bie(e){return e.split("")}var zie=Bie,g6="\\ud800-\\udfff",Uie="\\u0300-\\u036f",Vie="\\ufe20-\\ufe2f",qie="\\u20d0-\\u20ff",Wie=Uie+Vie+qie,Hie="\\ufe0e\\ufe0f",Kie="["+g6+"]",gw="["+Wie+"]",vw="\\ud83c[\\udffb-\\udfff]",Gie="(?:"+gw+"|"+vw+")",v6="[^"+g6+"]",x6="(?:\\ud83c[\\udde6-\\uddff]){2}",y6="[\\ud800-\\udbff][\\udc00-\\udfff]",Qie="\\u200d",b6=Gie+"?",j6="["+Hie+"]?",Yie="(?:"+Qie+"(?:"+[v6,x6,y6].join("|")+")"+j6+b6+")*",Xie=j6+b6+Yie,Zie="(?:"+[v6+gw+"?",gw,x6,y6,Kie].join("|")+")",Jie=RegExp(vw+"(?="+vw+")|"+Zie+Xie,"g");function ese(e){return e.match(Jie)||[]}var tse=ese,rse=zie,nse=p6,ise=tse;function sse(e){return nse(e)?ise(e):rse(e)}var ase=sse,ose=Tie,lse=p6,cse=ase,use=c6;function dse(e){return function(t){t=use(t);var r=lse(t)?cse(t):void 0,n=r?r[0]:t.charAt(0),s=r?ose(r,1).join(""):t.slice(1);return n[e]()+s}}var fse=dse,hse=fse,mse=hse("toUpperCase"),pse=mse;const Py=Dt(pse);function Wt(e){return function(){return e}}const w6=Math.cos,iv=Math.sin,Ss=Math.sqrt,sv=Math.PI,ky=2*sv,xw=Math.PI,yw=2*xw,ul=1e-6,gse=yw-ul;function N6(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return N6;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class xse{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?N6:vse(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ul)if(!(Math.abs(f*c-u*d)>ul)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=s-l,m=c*c+u*u,v=p*p+g*g,x=Math.sqrt(m),y=Math.sqrt(h),b=a*Math.tan((xw-Math.acos((m+h-v)/(2*x*y)))/2),N=b/y,w=b/x;Math.abs(N-1)>ul&&this._append`L${t+N*d},${r+N*f}`,this._append`A${a},${a},0,0,${+(f*p>d*g)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,s,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ul||Math.abs(this._y1-d)>ul)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%yw+yw),h>gse?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ul&&this._append`A${n},${n},0,${+(h>=xw)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function JS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new xse(t)}function eC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S6(e){this._context=e}S6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _y(e){return new S6(e)}function C6(e){return e[0]}function P6(e){return e[1]}function k6(e,t){var r=Wt(!0),n=null,s=_y,a=null,o=JS(l);e=typeof e=="function"?e:e===void 0?C6:Wt(e),t=typeof t=="function"?t:t===void 0?P6:Wt(t);function l(c){var u,d=(c=eC(c)).length,f,h=!1,p;for(n==null&&(a=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Wt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function Lp(e,t,r){var n=null,s=Wt(!0),a=null,o=_y,l=null,c=JS(u);e=typeof e=="function"?e:e===void 0?C6:Wt(+e),t=typeof t=="function"?t:Wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?P6:Wt(+r);function u(f){var h,p,g,m=(f=eC(f)).length,v,x=!1,y,b=new Array(m),N=new Array(m);for(a==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&s(v=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(b[g],N[g]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+e(v,h,f),N[h]=+t(v,h,f),l.point(n?+n(v,h,f):b[h],r?+r(v,h,f):N[h]))}if(y)return l=null,y+""||null}function d(){return k6().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Wt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Wt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Wt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Wt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Wt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class _6{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function yse(e){return new _6(e,!0)}function bse(e){return new _6(e,!1)}const tC={draw(e,t){const r=Ss(t/sv);e.moveTo(r,0),e.arc(0,0,r,0,ky)}},jse={draw(e,t){const r=Ss(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},A6=Ss(1/3),wse=A6*2,Nse={draw(e,t){const r=Ss(t/wse),n=r*A6;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Sse={draw(e,t){const r=Ss(t),n=-r/2;e.rect(n,n,r,r)}},Cse=.8908130915292852,T6=iv(sv/10)/iv(7*sv/10),Pse=iv(ky/10)*T6,kse=-w6(ky/10)*T6,_se={draw(e,t){const r=Ss(t*Cse),n=Pse*r,s=kse*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const o=ky*a/5,l=w6(o),c=iv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},s0=Ss(3),Ase={draw(e,t){const r=-Ss(t/(s0*3));e.moveTo(0,r*2),e.lineTo(-s0*r,-r),e.lineTo(s0*r,-r),e.closePath()}},Pi=-.5,ki=Ss(3)/2,bw=1/Ss(12),Tse=(bw/2+1)*3,Ese={draw(e,t){const r=Ss(t/Tse),n=r/2,s=r*bw,a=n,o=r*bw+r,l=-a,c=o;e.moveTo(n,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Pi*n-ki*s,ki*n+Pi*s),e.lineTo(Pi*a-ki*o,ki*a+Pi*o),e.lineTo(Pi*l-ki*c,ki*l+Pi*c),e.lineTo(Pi*n+ki*s,Pi*s-ki*n),e.lineTo(Pi*a+ki*o,Pi*o-ki*a),e.lineTo(Pi*l+ki*c,Pi*c-ki*l),e.closePath()}};function Ose(e,t){let r=null,n=JS(s);e=typeof e=="function"?e:Wt(e||tC),t=typeof t=="function"?t:Wt(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:Wt(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function av(){}function ov(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function E6(e){this._context=e}E6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ov(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mse(e){return new E6(e)}function O6(e){this._context=e}O6.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ise(e){return new O6(e)}function M6(e){this._context=e}M6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ov(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dse(e){return new M6(e)}function I6(e){this._context=e}I6.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $se(e){return new I6(e)}function K_(e){return e<0?-1:1}function G_(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(K_(a)+K_(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Q_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function a0(e,t,r){var n=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,o-l*r,a,o)}function lv(e){this._context=e}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a0(this,this._t0,Q_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,a0(this,Q_(this,r=G_(this,e,t)),r);break;default:a0(this,this._t0,r=G_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function D6(e){this._context=new $6(e)}(D6.prototype=Object.create(lv.prototype)).point=function(e,t){lv.prototype.point.call(this,t,e)};function $6(e){this._context=e}$6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function Rse(e){return new lv(e)}function Lse(e){return new D6(e)}function R6(e){this._context=e}R6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Y_(e),s=Y_(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y_(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Fse(e){return new R6(e)}function Ay(e,t){this._context=e,this._t=t}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Bse(e){return new Ay(e,.5)}function zse(e){return new Ay(e,0)}function Use(e){return new Ay(e,1)}function qu(e,t){if((o=e.length)>1)for(var r=1,n,s,a=e[t[0]],o,l=a.length;r<o;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function jw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vse(e,t){return e[t]}function qse(e){const t=[];return t.key=e,t}function Wse(){var e=Wt([]),t=jw,r=qu,n=Vse;function s(a){var o=Array.from(e.apply(this,arguments),qse),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=eC(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Wt(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:Wt(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?jw:typeof a=="function"?a:Wt(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??qu,s):r},s}function Hse(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}qu(e,t)}}function Kse(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}qu(e,t)}}function Gse(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,x=m[n-1][1]||0;p+=v-x}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,qu(e,t)}}function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}var Qse=["type","size","sizeType"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(this,arguments)}function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){Yse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yse(e,t,r){return t=Xse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xse(e){var t=Zse(e,"string");return kh(t)=="symbol"?t:t+""}function Zse(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jse(e,t){if(e==null)return{};var r=eae(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var L6={symbolCircle:tC,symbolCross:jse,symbolDiamond:Nse,symbolSquare:Sse,symbolStar:_se,symbolTriangle:Ase,symbolWye:Ese},tae=Math.PI/180,rae=function(t){var r="symbol".concat(Py(t));return L6[r]||tC},nae=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*tae;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},iae=function(t,r){L6["symbol".concat(Py(t))]=r},rC=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Jse(t,Qse),u=Z_(Z_({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=rae(n),x=Ose().type(v).size(nae(a,l,n));return x()},f=u.className,h=u.cx,p=u.cy,g=Ve(u,!0);return h===+h&&p===+p&&a===+a?R.createElement("path",ww({},g,{className:st("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};rC.registerSymbol=iae;function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){_h(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B6(n.key),n)}}function lae(e,t,r){return t&&oae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cae(e,t,r){return t=cv(t),uae(e,F6()?Reflect.construct(t,r||[],cv(e).constructor):t.apply(e,r))}function uae(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dae(e)}function dae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F6=function(){return!!e})()}function cv(e){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cv(e)}function fae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sw(e,t)}function Sw(e,t){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Sw(e,t)}function _h(e,t,r){return t=B6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B6(e){var t=hae(e,"string");return Wu(t)=="symbol"?t:t+""}function hae(e,t){if(Wu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i=32,nC=function(e){function t(){return aae(this,t),cae(this,t,arguments)}return fae(t,e),lae(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=_i/2,o=_i/6,l=_i/3,c=n.inactive?s:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:_i,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(_i,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(_i/8,"h").concat(_i,"v").concat(_i*3/4,"h").concat(-_i,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=sae({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(rC,{fill:c,cx:a,cy:a,size:_i,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:_i,height:_i},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,g){var m=p.formatter||c,v=st(_h(_h({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=Xe(p.value)?null:p.value;ms(!Xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return R.createElement("li",Nw({className:v,style:f,key:"legend-item-".concat(g)},Jl(n.props,p,g)),R.createElement(mw,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(x,p,g):x))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);_h(nC,"displayName","Legend");_h(nC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mae=hy;function pae(){this.__data__=new mae,this.size=0}var gae=pae;function vae(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xae=vae;function yae(e){return this.__data__.get(e)}var bae=yae;function jae(e){return this.__data__.has(e)}var wae=jae,Nae=hy,Sae=qS,Cae=WS,Pae=200;function kae(e,t){var r=this.__data__;if(r instanceof Nae){var n=r.__data__;if(!Sae||n.length<Pae-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Cae(n)}return r.set(e,t),this.size=r.size,this}var _ae=kae,Aae=hy,Tae=gae,Eae=xae,Oae=bae,Mae=wae,Iae=_ae;function $d(e){var t=this.__data__=new Aae(e);this.size=t.size}$d.prototype.clear=Tae;$d.prototype.delete=Eae;$d.prototype.get=Oae;$d.prototype.has=Mae;$d.prototype.set=Iae;var z6=$d,Dae="__lodash_hash_undefined__";function $ae(e){return this.__data__.set(e,Dae),this}var Rae=$ae;function Lae(e){return this.__data__.has(e)}var Fae=Lae,Bae=WS,zae=Rae,Uae=Fae;function uv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Bae;++t<r;)this.add(e[t])}uv.prototype.add=uv.prototype.push=zae;uv.prototype.has=Uae;var U6=uv;function Vae(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var V6=Vae;function qae(e,t){return e.has(t)}var q6=qae,Wae=U6,Hae=V6,Kae=q6,Gae=1,Qae=2;function Yae(e,t,r,n,s,a){var o=r&Gae,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Qae?new Wae:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=o?n(m,g,f,t,e,a):n(g,m,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Hae(t,function(x,y){if(!Kae(p,y)&&(g===x||s(g,x,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(g===m||s(g,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var W6=Yae,Xae=ta,Zae=Xae.Uint8Array,Jae=Zae;function eoe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var toe=eoe;function roe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var iC=roe,eA=Km,tA=Jae,noe=VS,ioe=W6,soe=toe,aoe=iC,ooe=1,loe=2,coe="[object Boolean]",uoe="[object Date]",doe="[object Error]",foe="[object Map]",hoe="[object Number]",moe="[object RegExp]",poe="[object Set]",goe="[object String]",voe="[object Symbol]",xoe="[object ArrayBuffer]",yoe="[object DataView]",rA=eA?eA.prototype:void 0,o0=rA?rA.valueOf:void 0;function boe(e,t,r,n,s,a,o){switch(r){case yoe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xoe:return!(e.byteLength!=t.byteLength||!a(new tA(e),new tA(t)));case coe:case uoe:case hoe:return noe(+e,+t);case doe:return e.name==t.name&&e.message==t.message;case moe:case goe:return e==t+"";case foe:var l=soe;case poe:var c=n&ooe;if(l||(l=aoe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=loe,o.set(e,t);var d=ioe(l(e),l(t),n,s,a,o);return o.delete(e),d;case voe:if(o0)return o0.call(e)==o0.call(t)}return!1}var joe=boe;function woe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var H6=woe,Noe=H6,Soe=Qn;function Coe(e,t,r){var n=t(e);return Soe(e)?n:Noe(n,r(e))}var Poe=Coe;function koe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}var _oe=koe;function Aoe(){return[]}var Toe=Aoe,Eoe=_oe,Ooe=Toe,Moe=Object.prototype,Ioe=Moe.propertyIsEnumerable,nA=Object.getOwnPropertySymbols,Doe=nA?function(e){return e==null?[]:(e=Object(e),Eoe(nA(e),function(t){return Ioe.call(e,t)}))}:Ooe,$oe=Doe;function Roe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Loe=Roe,Foe=qa,Boe=Wa,zoe="[object Arguments]";function Uoe(e){return Boe(e)&&Foe(e)==zoe}var Voe=Uoe,iA=Voe,qoe=Wa,K6=Object.prototype,Woe=K6.hasOwnProperty,Hoe=K6.propertyIsEnumerable,Koe=iA(function(){return arguments}())?iA:function(e){return qoe(e)&&Woe.call(e,"callee")&&!Hoe.call(e,"callee")},sC=Koe,dv={exports:{}};function Goe(){return!1}var Qoe=Goe;dv.exports;(function(e,t){var r=ta,n=Qoe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(dv,dv.exports);var G6=dv.exports,Yoe=9007199254740991,Xoe=/^(?:0|[1-9]\d*)$/;function Zoe(e,t){var r=typeof e;return t=t??Yoe,!!t&&(r=="number"||r!="symbol"&&Xoe.test(e))&&e>-1&&e%1==0&&e<t}var aC=Zoe,Joe=9007199254740991;function ele(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Joe}var oC=ele,tle=qa,rle=oC,nle=Wa,ile="[object Arguments]",sle="[object Array]",ale="[object Boolean]",ole="[object Date]",lle="[object Error]",cle="[object Function]",ule="[object Map]",dle="[object Number]",fle="[object Object]",hle="[object RegExp]",mle="[object Set]",ple="[object String]",gle="[object WeakMap]",vle="[object ArrayBuffer]",xle="[object DataView]",yle="[object Float32Array]",ble="[object Float64Array]",jle="[object Int8Array]",wle="[object Int16Array]",Nle="[object Int32Array]",Sle="[object Uint8Array]",Cle="[object Uint8ClampedArray]",Ple="[object Uint16Array]",kle="[object Uint32Array]",Zt={};Zt[yle]=Zt[ble]=Zt[jle]=Zt[wle]=Zt[Nle]=Zt[Sle]=Zt[Cle]=Zt[Ple]=Zt[kle]=!0;Zt[ile]=Zt[sle]=Zt[vle]=Zt[ale]=Zt[xle]=Zt[ole]=Zt[lle]=Zt[cle]=Zt[ule]=Zt[dle]=Zt[fle]=Zt[hle]=Zt[mle]=Zt[ple]=Zt[gle]=!1;function _le(e){return nle(e)&&rle(e.length)&&!!Zt[tle(e)]}var Ale=_le;function Tle(e){return function(t){return e(t)}}var Q6=Tle,fv={exports:{}};fv.exports;(function(e,t){var r=n6,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(fv,fv.exports);var Ele=fv.exports,Ole=Ale,Mle=Q6,sA=Ele,aA=sA&&sA.isTypedArray,Ile=aA?Mle(aA):Ole,Y6=Ile,Dle=Loe,$le=sC,Rle=Qn,Lle=G6,Fle=aC,Ble=Y6,zle=Object.prototype,Ule=zle.hasOwnProperty;function Vle(e,t){var r=Rle(e),n=!r&&$le(e),s=!r&&!n&&Lle(e),a=!r&&!n&&!s&&Ble(e),o=r||n||s||a,l=o?Dle(e.length,String):[],c=l.length;for(var u in e)(t||Ule.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Fle(u,c)))&&l.push(u);return l}var qle=Vle,Wle=Object.prototype;function Hle(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Wle;return e===r}var Kle=Hle;function Gle(e,t){return function(r){return e(t(r))}}var X6=Gle,Qle=X6,Yle=Qle(Object.keys,Object),Xle=Yle,Zle=Kle,Jle=Xle,ece=Object.prototype,tce=ece.hasOwnProperty;function rce(e){if(!Zle(e))return Jle(e);var t=[];for(var r in Object(e))tce.call(e,r)&&r!="constructor"&&t.push(r);return t}var nce=rce,ice=US,sce=oC;function ace(e){return e!=null&&sce(e.length)&&!ice(e)}var Ym=ace,oce=qle,lce=nce,cce=Ym;function uce(e){return cce(e)?oce(e):lce(e)}var Ty=uce,dce=Poe,fce=$oe,hce=Ty;function mce(e){return dce(e,hce,fce)}var pce=mce,oA=pce,gce=1,vce=Object.prototype,xce=vce.hasOwnProperty;function yce(e,t,r,n,s,a){var o=r&gce,l=oA(e),c=l.length,u=oA(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:xce.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var v=o;++f<c;){h=l[f];var x=e[h],y=t[h];if(n)var b=o?n(y,x,h,t,e,a):n(x,y,h,e,t,a);if(!(b===void 0?x===y||s(x,y,r,n,a):b)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(m=!1)}return a.delete(e),a.delete(t),m}var bce=yce,jce=xc,wce=ta,Nce=jce(wce,"DataView"),Sce=Nce,Cce=xc,Pce=ta,kce=Cce(Pce,"Promise"),_ce=kce,Ace=xc,Tce=ta,Ece=Ace(Tce,"Set"),Z6=Ece,Oce=xc,Mce=ta,Ice=Oce(Mce,"WeakMap"),Dce=Ice,Cw=Sce,Pw=qS,kw=_ce,_w=Z6,Aw=Dce,J6=qa,Rd=s6,lA="[object Map]",$ce="[object Object]",cA="[object Promise]",uA="[object Set]",dA="[object WeakMap]",fA="[object DataView]",Rce=Rd(Cw),Lce=Rd(Pw),Fce=Rd(kw),Bce=Rd(_w),zce=Rd(Aw),dl=J6;(Cw&&dl(new Cw(new ArrayBuffer(1)))!=fA||Pw&&dl(new Pw)!=lA||kw&&dl(kw.resolve())!=cA||_w&&dl(new _w)!=uA||Aw&&dl(new Aw)!=dA)&&(dl=function(e){var t=J6(e),r=t==$ce?e.constructor:void 0,n=r?Rd(r):"";if(n)switch(n){case Rce:return fA;case Lce:return lA;case Fce:return cA;case Bce:return uA;case zce:return dA}return t});var Uce=dl,l0=z6,Vce=W6,qce=joe,Wce=bce,hA=Uce,mA=Qn,pA=G6,Hce=Y6,Kce=1,gA="[object Arguments]",vA="[object Array]",Fp="[object Object]",Gce=Object.prototype,xA=Gce.hasOwnProperty;function Qce(e,t,r,n,s,a){var o=mA(e),l=mA(t),c=o?vA:hA(e),u=l?vA:hA(t);c=c==gA?Fp:c,u=u==gA?Fp:u;var d=c==Fp,f=u==Fp,h=c==u;if(h&&pA(e)){if(!pA(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new l0),o||Hce(e)?Vce(e,t,r,n,s,a):qce(e,t,c,r,n,s,a);if(!(r&Kce)){var p=d&&xA.call(e,"__wrapped__"),g=f&&xA.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return a||(a=new l0),s(m,v,r,n,a)}}return h?(a||(a=new l0),Wce(e,t,r,n,s,a)):!1}var Yce=Qce,Xce=Yce,yA=Wa;function eB(e,t,r,n,s){return e===t?!0:e==null||t==null||!yA(e)&&!yA(t)?e!==e&&t!==t:Xce(e,t,r,n,eB,s)}var lC=eB,Zce=z6,Jce=lC,eue=1,tue=2;function rue(e,t,r,n){var s=r.length,a=s,o=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Zce;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Jce(d,u,eue|tue,n,f):h))return!1}}return!0}var nue=rue,iue=Jo;function sue(e){return e===e&&!iue(e)}var tB=sue,aue=tB,oue=Ty;function lue(e){for(var t=oue(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,aue(s)]}return t}var cue=lue;function uue(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var rB=uue,due=nue,fue=cue,hue=rB;function mue(e){var t=fue(e);return t.length==1&&t[0][2]?hue(t[0][0],t[0][1]):function(r){return r===e||due(r,e,t)}}var pue=mue;function gue(e,t){return e!=null&&t in Object(e)}var vue=gue,xue=u6,yue=sC,bue=Qn,jue=aC,wue=oC,Nue=py;function Sue(e,t,r){t=xue(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var o=Nue(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&wue(s)&&jue(o,s)&&(bue(e)||yue(e)))}var Cue=Sue,Pue=vue,kue=Cue;function _ue(e,t){return e!=null&&kue(e,t,Pue)}var Aue=_ue,Tue=lC,Eue=d6,Oue=Aue,Mue=zS,Iue=tB,Due=rB,$ue=py,Rue=1,Lue=2;function Fue(e,t){return Mue(e)&&Iue(t)?Due($ue(e),t):function(r){var n=Eue(r,e);return n===void 0&&n===t?Oue(r,e):Tue(t,n,Rue|Lue)}}var Bue=Fue;function zue(e){return e}var Ld=zue;function Uue(e){return function(t){return t==null?void 0:t[e]}}var Vue=Uue,que=GS;function Wue(e){return function(t){return que(t,e)}}var Hue=Wue,Kue=Vue,Gue=Hue,Que=zS,Yue=py;function Xue(e){return Que(e)?Kue(Yue(e)):Gue(e)}var Zue=Xue,Jue=pue,ede=Bue,tde=Ld,rde=Qn,nde=Zue;function ide(e){return typeof e=="function"?e:e==null?tde:typeof e=="object"?rde(e)?ede(e[0],e[1]):Jue(e):nde(e)}var ra=ide;function sde(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var nB=sde;function ade(e){return e!==e}var ode=ade;function lde(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var cde=lde,ude=nB,dde=ode,fde=cde;function hde(e,t,r){return t===t?fde(e,t,r):ude(e,dde,r)}var mde=hde,pde=mde;function gde(e,t){var r=e==null?0:e.length;return!!r&&pde(e,t,0)>-1}var vde=gde;function xde(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var yde=xde;function bde(){}var jde=bde,c0=Z6,wde=jde,Nde=iC,Sde=1/0,Cde=c0&&1/Nde(new c0([,-0]))[1]==Sde?function(e){return new c0(e)}:wde,Pde=Cde,kde=U6,_de=vde,Ade=yde,Tde=q6,Ede=Pde,Ode=iC,Mde=200;function Ide(e,t,r){var n=-1,s=_de,a=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Ade;else if(a>=Mde){var u=t?null:Ede(e);if(u)return Ode(u);o=!1,s=Tde,c=new kde}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Dde=Ide,$de=ra,Rde=Dde;function Lde(e,t){return e&&e.length?Rde(e,$de(t)):[]}var Fde=Lde;const bA=Dt(Fde);function iB(e,t,r){return t===!0?bA(e,r):Xe(t)?bA(e,t):e}function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}var Bde=["ref"];function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){Ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aB(n.key),n)}}function Ude(e,t,r){return t&&wA(e.prototype,t),r&&wA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vde(e,t,r){return t=hv(t),qde(e,sB()?Reflect.construct(t,r||[],hv(e).constructor):t.apply(e,r))}function qde(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wde(e)}function Wde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sB=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hv(e)}function Hde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tw(e,t)}function Tw(e,t){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Tw(e,t)}function Ey(e,t,r){return t=aB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aB(e){var t=Kde(e,"string");return Hu(t)=="symbol"?t:t+""}function Kde(e,t){if(Hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gde(e,t){if(e==null)return{};var r=Qde(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yde(e){return e.value}function Xde(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=Gde(t,Bde);return R.createElement(nC,r)}var NA=1,Mo=function(e){function t(){var r;zde(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Vde(this,t,[].concat(s)),Ey(r,"lastBoundingBox",{width:-1,height:-1}),r}return Hde(t,e),Ude(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>NA||Math.abs(s.height-this.lastBoundingBox.height)>NA)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ca({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ca(ca({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=ca(ca({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Xde(a,ca(ca({},this.props),{},{payload:iB(d,u,Yde)})))}}],[{key:"getWithHeight",value:function(n,s){var a=ca(ca({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&be(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(j.PureComponent);Ey(Mo,"displayName","Legend");Ey(Mo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SA=Km,Zde=sC,Jde=Qn,CA=SA?SA.isConcatSpreadable:void 0;function efe(e){return Jde(e)||Zde(e)||!!(CA&&e&&e[CA])}var tfe=efe,rfe=H6,nfe=tfe;function oB(e,t,r,n,s){var a=-1,o=e.length;for(r||(r=nfe),s||(s=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?oB(l,t-1,r,n,s):rfe(s,l):n||(s[s.length]=l)}return s}var lB=oB;function ife(e){return function(t,r,n){for(var s=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var sfe=ife,afe=sfe,ofe=afe(),lfe=ofe,cfe=lfe,ufe=Ty;function dfe(e,t){return e&&cfe(e,t,ufe)}var cB=dfe,ffe=Ym;function hfe(e,t){return function(r,n){if(r==null)return r;if(!ffe(r))return e(r,n);for(var s=r.length,a=t?s:-1,o=Object(r);(t?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var mfe=hfe,pfe=cB,gfe=mfe,vfe=gfe(pfe),cC=vfe,xfe=cC,yfe=Ym;function bfe(e,t){var r=-1,n=yfe(e)?Array(e.length):[];return xfe(e,function(s,a,o){n[++r]=t(s,a,o)}),n}var uB=bfe;function jfe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var wfe=jfe,PA=Td;function Nfe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=PA(e),o=t!==void 0,l=t===null,c=t===t,u=PA(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var Sfe=Nfe,Cfe=Sfe;function Pfe(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,o=s.length,l=r.length;++n<o;){var c=Cfe(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var kfe=Pfe,u0=KS,_fe=GS,Afe=ra,Tfe=uB,Efe=wfe,Ofe=Q6,Mfe=kfe,Ife=Ld,Dfe=Qn;function $fe(e,t,r){t.length?t=u0(t,function(a){return Dfe(a)?function(o){return _fe(o,a.length===1?a[0]:a)}:a}):t=[Ife];var n=-1;t=u0(t,Ofe(Afe));var s=Tfe(e,function(a,o,l){var c=u0(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Efe(s,function(a,o){return Mfe(a,o,r)})}var Rfe=$fe;function Lfe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Ffe=Lfe,Bfe=Ffe,kA=Math.max;function zfe(e,t,r){return t=kA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=kA(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Bfe(e,this,l)}}var Ufe=zfe;function Vfe(e){return function(){return e}}var qfe=Vfe,Wfe=xc,Hfe=function(){try{var e=Wfe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dB=Hfe,Kfe=qfe,_A=dB,Gfe=Ld,Qfe=_A?function(e,t){return _A(e,"toString",{configurable:!0,enumerable:!1,value:Kfe(t),writable:!0})}:Gfe,Yfe=Qfe,Xfe=800,Zfe=16,Jfe=Date.now;function ehe(e){var t=0,r=0;return function(){var n=Jfe(),s=Zfe-(n-r);if(r=n,s>0){if(++t>=Xfe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var the=ehe,rhe=Yfe,nhe=the,ihe=nhe(rhe),she=ihe,ahe=Ld,ohe=Ufe,lhe=she;function che(e,t){return lhe(ohe(e,t,ahe),e+"")}var uhe=che,dhe=VS,fhe=Ym,hhe=aC,mhe=Jo;function phe(e,t,r){if(!mhe(r))return!1;var n=typeof t;return(n=="number"?fhe(r)&&hhe(t,r.length):n=="string"&&t in r)?dhe(r[t],e):!1}var Oy=phe,ghe=lB,vhe=Rfe,xhe=uhe,AA=Oy,yhe=xhe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&AA(e,t[0],t[1])?t=[]:r>2&&AA(t[0],t[1],t[2])&&(t=[t[0]]),vhe(e,ghe(t,1),[])}),bhe=yhe;const uC=Dt(bhe);function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(this,arguments)}function jhe(e,t){return Che(e)||She(e,t)||Nhe(e,t)||whe()}function whe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nhe(e,t){if(e){if(typeof e=="string")return TA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TA(e,t)}}function TA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function She(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Che(e){if(Array.isArray(e))return e}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function d0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){Phe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Phe(e,t,r){return t=khe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function khe(e){var t=_he(e,"string");return Ah(t)=="symbol"?t:t+""}function _he(e,t){if(Ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ahe(e){return Array.isArray(e)&&Lr(e[0])&&Lr(e[1])?e.join(" ~ "):e}var The=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var M={padding:0,margin:0},T=(h?uC(d,h):d).map(function(E,I){if(E.type==="none")return null;var L=d0({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},l),q=E.formatter||f||Ahe,_=E.value,$=E.name,G=_,re=$;if(q&&G!=null&&re!=null){var B=q(_,$,E,I,d);if(Array.isArray(B)){var ae=jhe(B,2);G=ae[0],re=ae[1]}else G=B}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:L},Lr(re)?R.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Lr(re)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},G),R.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:M},T)}return null},N=d0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=d0({margin:0},u),S=!rt(m),C=S?m:"",k=st("recharts-default-tooltip",p),P=st("recharts-tooltip-label",g);S&&v&&d!==void 0&&d!==null&&(C=v(m,d));var A=y?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Ew({className:k,style:N},A),R.createElement("p",{className:P,style:w},R.isValidElement(C)?C:"".concat(C)),b())};function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function Bp(e,t,r){return t=Ehe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ehe(e){var t=Ohe(e,"string");return Th(t)=="symbol"?t:t+""}function Ohe(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uf="recharts-tooltip-wrapper",Mhe={visibility:"hidden"};function Ihe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return st(uf,Bp(Bp(Bp(Bp({},"".concat(uf,"-right"),be(r)&&t&&be(t.x)&&r>=t.x),"".concat(uf,"-left"),be(r)&&t&&be(t.x)&&r<t.x),"".concat(uf,"-bottom"),be(n)&&t&&be(t.y)&&n>=t.y),"".concat(uf,"-top"),be(n)&&t&&be(t.y)&&n<t.y))}function OA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&be(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Dhe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $he(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=OA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=OA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Dhe({translateX:d,translateY:f,useTranslate3d:l})):u=Mhe,{cssProperties:u,cssClasses:Ihe({translateX:d,translateY:f,coordinate:r})}}function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){Mw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hB(n.key),n)}}function Fhe(e,t,r){return t&&Lhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bhe(e,t,r){return t=mv(t),zhe(e,fB()?Reflect.construct(t,r||[],mv(e).constructor):t.apply(e,r))}function zhe(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uhe(e)}function Uhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fB=function(){return!!e})()}function mv(e){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mv(e)}function Vhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ow(e,t)}function Ow(e,t){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ow(e,t)}function Mw(e,t,r){return t=hB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=qhe(e,"string");return Ku(t)=="symbol"?t:t+""}function qhe(e,t){if(Ku(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DA=1,Whe=function(e){function t(){var r;Rhe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Bhe(this,t,[].concat(s)),Mw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Vhe(t,e),Fhe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>DA||Math.abs(n.height-this.state.lastBoundingBox.height)>DA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,g=s.position,m=s.reverseDirection,v=s.useTranslate3d,x=s.viewBox,y=s.wrapperStyle,b=$he({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),N=b.cssClasses,w=b.cssProperties,S=IA(IA({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return R.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(j.PureComponent),Hhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zs={isSsr:Hhe(),get:function(t){return zs[t]},set:function(t,r){if(typeof t=="string")zs[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){zs[s]=t[s]})}}};function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){dC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Khe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ghe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pB(n.key),n)}}function Qhe(e,t,r){return t&&Ghe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yhe(e,t,r){return t=pv(t),Xhe(e,mB()?Reflect.construct(t,r||[],pv(e).constructor):t.apply(e,r))}function Xhe(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zhe(e)}function Zhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mB=function(){return!!e})()}function pv(e){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pv(e)}function Jhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iw(e,t)}function Iw(e,t){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Iw(e,t)}function dC(e,t,r){return t=pB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pB(e){var t=eme(e,"string");return Gu(t)=="symbol"?t:t+""}function eme(e,t){if(Gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tme(e){return e.dataKey}function rme(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(The,t)}var zn=function(e){function t(){return Khe(this,t),Yhe(this,t,arguments)}return Jhe(t,e),Qhe(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,g=s.payload,m=s.payloadUniqBy,v=s.position,x=s.reverseDirection,y=s.useTranslate3d,b=s.viewBox,N=s.wrapperStyle,w=g??[];f&&w.length&&(w=iB(g.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),m,tme));var S=w.length>0;return R.createElement(Whe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:S,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:N},rme(u,RA(RA({},this.props),{},{payload:w})))}}])}(j.PureComponent);dC(zn,"displayName","Tooltip");dC(zn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zs.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nme=ta,ime=function(){return nme.Date.now()},sme=ime,ame=/\s/;function ome(e){for(var t=e.length;t--&&ame.test(e.charAt(t)););return t}var lme=ome,cme=lme,ume=/^\s+/;function dme(e){return e&&e.slice(0,cme(e)+1).replace(ume,"")}var fme=dme,hme=fme,LA=Jo,mme=Td,FA=NaN,pme=/^[-+]0x[0-9a-f]+$/i,gme=/^0b[01]+$/i,vme=/^0o[0-7]+$/i,xme=parseInt;function yme(e){if(typeof e=="number")return e;if(mme(e))return FA;if(LA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=LA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hme(e);var r=gme.test(e);return r||vme.test(e)?xme(e.slice(2),r?2:8):pme.test(e)?FA:+e}var gB=yme,bme=Jo,f0=sme,BA=gB,jme="Expected a function",wme=Math.max,Nme=Math.min;function Sme(e,t,r){var n,s,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(jme);t=BA(t)||0,bme(r)&&(d=!!r.leading,f="maxWait"in r,a=f?wme(BA(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(S){var C=n,k=s;return n=s=void 0,u=S,o=e.apply(k,C),o}function g(S){return u=S,l=setTimeout(x,t),d?p(S):o}function m(S){var C=S-c,k=S-u,P=t-C;return f?Nme(P,a-k):P}function v(S){var C=S-c,k=S-u;return c===void 0||C>=t||C<0||f&&k>=a}function x(){var S=f0();if(v(S))return y(S);l=setTimeout(x,m(S))}function y(S){return l=void 0,h&&n?p(S):(n=s=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function N(){return l===void 0?o:y(f0())}function w(){var S=f0(),C=v(S);if(n=arguments,s=this,c=S,C){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),p(c)}return l===void 0&&(l=setTimeout(x,t)),o}return w.cancel=b,w.flush=N,w}var Cme=Sme,Pme=Cme,kme=Jo,_me="Expected a function";function Ame(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(_me);return kme(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Pme(e,t,{leading:n,maxWait:t,trailing:s})}var Tme=Ame;const vB=Dt(Tme);function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){Eme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eme(e,t,r){return t=Ome(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ome(e){var t=Mme(e,"string");return Eh(t)=="symbol"?t:t+""}function Mme(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ime(e,t){return Lme(e)||Rme(e,t)||$me(e,t)||Dme()}function Dme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $me(e,t){if(e){if(typeof e=="string")return UA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(e,t)}}function UA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Lme(e){if(Array.isArray(e))return e}var Wf=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,x=e.className,y=e.onResize,b=e.style,N=b===void 0?{}:b,w=j.useRef(null),S=j.useRef();S.current=y,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var C=j.useState({containerWidth:s.width,containerHeight:s.height}),k=Ime(C,2),P=k[0],A=k[1],O=j.useCallback(function(T,E){A(function(I){var L=Math.round(T),q=Math.round(E);return I.containerWidth===L&&I.containerHeight===q?I:{containerWidth:L,containerHeight:q}})},[]);j.useEffect(function(){var T=function($){var G,re=$[0].contentRect,B=re.width,ae=re.height;O(B,ae),(G=S.current)===null||G===void 0||G.call(S,B,ae)};m>0&&(T=vB(T,m,{trailing:!0,leading:!1}));var E=new ResizeObserver(T),I=w.current.getBoundingClientRect(),L=I.width,q=I.height;return O(L,q),E.observe(w.current),function(){E.disconnect()}},[O,m]);var M=j.useMemo(function(){var T=P.containerWidth,E=P.containerHeight;if(T<0||E<0)return null;ms(bl(o)||bl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ms(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=bl(o)?T:o,L=bl(c)?E:c;r&&r>0&&(I?L=I/r:L&&(I=L*r),h&&L>h&&(L=h)),ms(I>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,L,o,c,d,f,r);var q=!Array.isArray(p)&&Aa(p.type).endsWith("Chart");return R.Children.map(p,function(_){return R.isValidElement(_)?j.cloneElement(_,zp({width:I,height:L},q?{style:zp({height:"100%",width:"100%",maxHeight:L,maxWidth:I},_.props.style)}:{})):_})},[r,p,c,h,f,d,P,o]);return R.createElement("div",{id:v?"".concat(v):void 0,className:st("recharts-responsive-container",x),style:zp(zp({},N),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},M)}),Xm=function(t){return null};Xm.displayName="Cell";function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){Fme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fme(e,t,r){return t=Bme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bme(e){var t=zme(e,"string");return Oh(t)=="symbol"?t:t+""}function zme(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ac={widthCache:{},cacheCount:0},Ume=2e3,Vme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qA="recharts_measurement_span";function qme(e){var t=Dw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Hf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zs.isSsr)return{width:0,height:0};var n=qme(r),s=JSON.stringify({text:t,copyStyle:n});if(Ac.widthCache[s])return Ac.widthCache[s];try{var a=document.getElementById(qA);a||(a=document.createElement("span"),a.setAttribute("id",qA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Dw(Dw({},Vme),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Ac.widthCache[s]=c,++Ac.cacheCount>Ume&&(Ac.cacheCount=0,Ac.widthCache={}),c}catch{return{width:0,height:0}}},Wme=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function gv(e,t){return Qme(e)||Gme(e,t)||Kme(e,t)||Hme()}function Hme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kme(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Qme(e){if(Array.isArray(e))return e}function Yme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zme(n.key),n)}}function Xme(e,t,r){return t&&HA(e.prototype,t),r&&HA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zme(e){var t=Jme(e,"string");return Mh(t)=="symbol"?t:t+""}function Jme(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,epe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rpe=Object.keys(xB),Gc="NaN";function npe(e,t){return e*xB[t]}var Up=function(){function e(t,r){Yme(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!epe.test(r)&&(this.num=NaN,this.unit=""),rpe.includes(r)&&(this.num=npe(t,r),this.unit="px")}return Xme(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=tpe.exec(r))!==null&&n!==void 0?n:[],a=gv(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function yB(e){if(e.includes(Gc))return Gc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=KA.exec(t))!==null&&r!==void 0?r:[],s=gv(n,4),a=s[1],o=s[2],l=s[3],c=Up.parse(a??""),u=Up.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Gc;t=t.replace(KA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=GA.exec(t))!==null&&f!==void 0?f:[],p=gv(h,4),g=p[1],m=p[2],v=p[3],x=Up.parse(g??""),y=Up.parse(v??""),b=m==="+"?x.add(y):x.subtract(y);if(b.isNaN())return Gc;t=t.replace(GA,b.toString())}return t}var QA=/\(([^()]*)\)/;function ipe(e){for(var t=e;t.includes("(");){var r=QA.exec(t),n=gv(r,2),s=n[1];t=t.replace(QA,yB(s))}return t}function spe(e){var t=e.replace(/\s+/g,"");return t=ipe(t),t=yB(t),t}function ape(e){try{return spe(e)}catch{return Gc}}function h0(e){var t=ape(e.slice(5,-1));return t===Gc?"":t}var ope=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lpe=["dx","dy","angle","className","breakAll"];function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function YA(e,t){if(e==null)return{};var r=cpe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XA(e,t){return hpe(e)||fpe(e,t)||dpe(e,t)||upe()}function upe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(e,t){if(e){if(typeof e=="string")return ZA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(e,t)}}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function hpe(e){if(Array.isArray(e))return e}var bB=/[ \f\n\r\t\v\u2028\u2029]+/,jB=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];rt(r)||(n?a=r.toString().split(""):a=r.toString().split(bB));var o=a.map(function(c){return{word:c,width:Hf(c,s).width}}),l=n?0:Hf(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},mpe=function(t,r,n,s,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=be(o),f=l,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(L,q){var _=q.word,$=q.width,G=L[L.length-1];if(G&&(s==null||a||G.width+$+n<Number(s)))G.words.push(_),G.width+=$+n;else{var re={words:[_],width:$};L.push(re)}return L},[])},p=h(r),g=function(I){return I.reduce(function(L,q){return L.width>q.width?L:q})};if(!d)return p;for(var m="…",v=function(I){var L=f.slice(0,I),q=jB({breakAll:u,style:c,children:L+m}).wordsWithComputedWidth,_=h(q),$=_.length>o||g(_).width>Number(s);return[$,_]},x=0,y=f.length-1,b=0,N;x<=y&&b<=f.length-1;){var w=Math.floor((x+y)/2),S=w-1,C=v(S),k=XA(C,2),P=k[0],A=k[1],O=v(w),M=XA(O,1),T=M[0];if(!P&&!T&&(x=w+1),P&&T&&(y=w-1),!P&&T){N=A;break}b++}return N||p},JA=function(t){var r=rt(t)?[]:t.toString().split(bB);return[{words:r}]},ppe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!zs.isSsr){var c,u,d=jB({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return JA(s);return mpe({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return JA(s)},e2="#808080",ec=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,x=v===void 0?e2:v,y=YA(t,ope),b=j.useMemo(function(){return ppe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,w=y.dy,S=y.angle,C=y.className,k=y.breakAll,P=YA(y,lpe);if(!Lr(n)||!Lr(a))return null;var A=n+(be(N)?N:0),O=a+(be(w)?w:0),M;switch(m){case"start":M=h0("calc(".concat(u,")"));break;case"middle":M=h0("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=h0("calc(".concat(b.length-1," * -").concat(l,")"));break}var T=[];if(f){var E=b[0].width,I=y.width;T.push("scale(".concat((be(I)?I/E:1)/E,")"))}return S&&T.push("rotate(".concat(S,", ").concat(A,", ").concat(O,")")),T.length&&(P.transform=T.join(" ")),R.createElement("text",$w({},Ve(P,!0),{x:A,y:O,className:st("recharts-text",C),textAnchor:p,fill:x.includes("url")?e2:x}),b.map(function(L,q){var _=L.words.join(k?"":" ");return R.createElement("tspan",{x:A,dy:q===0?M:l,key:"".concat(_,"-").concat(q)},_)}))};function Io(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fC(e){let t,r,n;e.length!==2?(t=Io,r=(l,c)=>Io(e(l),c),n=(l,c)=>e(l)-c):(t=e===Io||e===gpe?e:vpe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function vpe(){return 0}function wB(e){return e===null?NaN:+e}function*xpe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ype=fC(Io),Zm=ype.right;fC(wB).center;class t2 extends Map{constructor(t,r=wpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(r2(this,t))}has(t){return super.has(r2(this,t))}set(t,r){return super.set(bpe(this,t),r)}delete(t){return super.delete(jpe(this,t))}}function r2({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function bpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jpe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Npe(e=Io){if(e===Io)return NB;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function NB(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Spe=Math.sqrt(50),Cpe=Math.sqrt(10),Ppe=Math.sqrt(2);function vv(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=Spe?10:a>=Cpe?5:a>=Ppe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?vv(e,t,r*2):[l,c,u]}function Rw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,o]=n?vv(t,e,r):vv(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function Lw(e,t,r){return t=+t,e=+e,r=+r,vv(e,t,r)[2]}function Fw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Lw(t,e,r):Lw(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function n2(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function i2(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SB(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?NB:Npe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));SB(e,t,p,g,s)}const a=e[t];let o=r,l=n;for(df(e,r,t),s(e[n],a)>0&&df(e,r,n);o<l;){for(df(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?df(e,r,l):(++l,df(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function df(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function kpe(e,t,r){if(e=Float64Array.from(xpe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return i2(e);if(t>=1)return n2(e);var n,s=(n-1)*t,a=Math.floor(s),o=n2(SB(e,a).subarray(0,a+1)),l=i2(e.subarray(a+1));return o+(l-o)*(s-a)}}function _pe(e,t,r=wB){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function Ape(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function Qi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ha(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bw=Symbol("implicit");function hC(){var e=new t2,t=[],r=[],n=Bw;function s(a){let o=e.get(a);if(o===void 0){if(n!==Bw)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new t2;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return hC(t,r).unknown(n)},Qi.apply(s,arguments),s}function Ih(){var e=hC().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,g=p?s:n,m=p?n:s;a=(m-g)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),g+=(m-g-a*(h-c))*d,o=a*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=Ape(h).map(function(x){return g+a*x});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Ih(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Qi.apply(f(),arguments)}function CB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CB(t())},e}function Kf(){return CB(Ih.apply(null,arguments).paddingInner(1))}function mC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PB(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jm(){}var Dh=.7,xv=1/Dh,fu="\\s*([+-]?\\d+)\\s*",$h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Us="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tpe=/^#([0-9a-f]{3,8})$/,Epe=new RegExp(`^rgb\\(${fu},${fu},${fu}\\)$`),Ope=new RegExp(`^rgb\\(${Us},${Us},${Us}\\)$`),Mpe=new RegExp(`^rgba\\(${fu},${fu},${fu},${$h}\\)$`),Ipe=new RegExp(`^rgba\\(${Us},${Us},${Us},${$h}\\)$`),Dpe=new RegExp(`^hsl\\(${$h},${Us},${Us}\\)$`),$pe=new RegExp(`^hsla\\(${$h},${Us},${Us},${$h}\\)$`),s2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mC(Jm,Rh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:a2,formatHex:a2,formatHex8:Rpe,formatHsl:Lpe,formatRgb:o2,toString:o2});function a2(){return this.rgb().formatHex()}function Rpe(){return this.rgb().formatHex8()}function Lpe(){return kB(this).formatHsl()}function o2(){return this.rgb().formatRgb()}function Rh(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Tpe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?l2(t):r===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Vp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Vp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Epe.exec(e))?new qn(t[1],t[2],t[3],1):(t=Ope.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mpe.exec(e))?Vp(t[1],t[2],t[3],t[4]):(t=Ipe.exec(e))?Vp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dpe.exec(e))?d2(t[1],t[2]/100,t[3]/100,1):(t=$pe.exec(e))?d2(t[1],t[2]/100,t[3]/100,t[4]):s2.hasOwnProperty(e)?l2(s2[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function l2(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function Vp(e,t,r,n){return n<=0&&(e=t=r=NaN),new qn(e,t,r,n)}function Fpe(e){return e instanceof Jm||(e=Rh(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function zw(e,t,r,n){return arguments.length===1?Fpe(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}mC(qn,zw,PB(Jm,{brighter(e){return e=e==null?xv:Math.pow(xv,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dh:Math.pow(Dh,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(Dl(this.r),Dl(this.g),Dl(this.b),yv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c2,formatHex:c2,formatHex8:Bpe,formatRgb:u2,toString:u2}));function c2(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}`}function Bpe(){return`#${jl(this.r)}${jl(this.g)}${jl(this.b)}${jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function u2(){const e=yv(this.opacity);return`${e===1?"rgb(":"rgba("}${Dl(this.r)}, ${Dl(this.g)}, ${Dl(this.b)}${e===1?")":`, ${e})`}`}function yv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jl(e){return e=Dl(e),(e<16?"0":"")+e.toString(16)}function d2(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ls(e,t,r,n)}function kB(e){if(e instanceof ls)return new ls(e.h,e.s,e.l,e.opacity);if(e instanceof Jm||(e=Rh(e)),!e)return new ls;if(e instanceof ls)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new ls(o,l,c,e.opacity)}function zpe(e,t,r,n){return arguments.length===1?kB(e):new ls(e,t,r,n??1)}function ls(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}mC(ls,zpe,PB(Jm,{brighter(e){return e=e==null?xv:Math.pow(xv,e),new ls(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dh:Math.pow(Dh,e),new ls(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new qn(m0(e>=240?e-240:e+120,s,n),m0(e,s,n),m0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ls(f2(this.h),qp(this.s),qp(this.l),yv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yv(this.opacity);return`${e===1?"hsl(":"hsla("}${f2(this.h)}, ${qp(this.s)*100}%, ${qp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function f2(e){return e=(e||0)%360,e<0?e+360:e}function qp(e){return Math.max(0,Math.min(1,e||0))}function m0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const pC=e=>()=>e;function Upe(e,t){return function(r){return e+r*t}}function Vpe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qpe(e){return(e=+e)==1?_B:function(t,r){return r-t?Vpe(t,r,e):pC(isNaN(t)?r:t)}}function _B(e,t){var r=t-e;return r?Upe(e,r):pC(isNaN(e)?t:e)}const h2=function e(t){var r=qpe(t);function n(s,a){var o=r((s=zw(s)).r,(a=zw(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=_B(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Wpe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function Hpe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kpe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=Fd(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function Gpe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function bv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Qpe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Fd(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var Uw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p0=new RegExp(Uw.source,"g");function Ype(e){return function(){return e}}function Xpe(e){return function(t){return e(t)+""}}function Zpe(e,t){var r=Uw.lastIndex=p0.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Uw.exec(e))&&(s=p0.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:bv(n,s)})),r=p0.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Xpe(c[0].x):Ype(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Fd(e,t){var r=typeof t,n;return t==null||r==="boolean"?pC(t):(r==="number"?bv:r==="string"?(n=Rh(t))?(t=n,h2):Zpe:t instanceof Rh?h2:t instanceof Date?Gpe:Hpe(t)?Wpe:Array.isArray(t)?Kpe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qpe:bv)(e,t)}function gC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Jpe(e,t){t===void 0&&(t=e,e=Fd);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function ege(e){return function(){return e}}function jv(e){return+e}var m2=[0,1];function An(e){return e}function Vw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ege(isNaN(t)?NaN:.5)}function tge(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function rge(e,t,r){var n=e[0],s=e[1],a=t[0],o=t[1];return s<n?(n=Vw(s,n),a=r(o,a)):(n=Vw(n,s),a=r(a,o)),function(l){return a(n(l))}}function nge(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=Vw(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=Zm(e,l,1,n)-1;return a[c](s[c](l))}}function ep(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function My(){var e=m2,t=m2,r=Fd,n,s,a,o=An,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==An&&(o=tge(e[0],e[h-1])),l=h>2?nge:rge,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),bv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,jv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=gC,d()},f.clamp=function(h){return arguments.length?(o=h?!0:An,d()):o!==An},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,s=p,d()}}function vC(){return My()(An,An)}function ige(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Qu(e){return e=wv(Math.abs(e)),e?e[1]:NaN}function sge(e,t){return function(r,n){for(var s=r.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function age(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lh(e){if(!(t=oge.exec(e)))throw new Error("invalid format: "+e);var t;return new xC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lh.prototype=xC.prototype;function xC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lge(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var AB;function cge(e,t){var r=wv(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(AB=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+wv(e,Math.max(0,t+a-1))[0]}function p2(e,t){var r=wv(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const g2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ige,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>p2(e*100,t),r:p2,s:cge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function v2(e){return e}var x2=Array.prototype.map,y2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uge(e){var t=e.grouping===void 0||e.thousands===void 0?v2:sge(x2.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?v2:age(x2.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Lh(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,v=f.zero,x=f.width,y=f.comma,b=f.precision,N=f.trim,w=f.type;w==="n"?(y=!0,w="g"):g2[w]||(b===void 0&&(b=12),N=!0,w="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",C=m==="$"?n:/[%p]/.test(w)?o:"",k=g2[w],P=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(O){var M=S,T=C,E,I,L;if(w==="c")T=k(O)+T,O="";else{O=+O;var q=O<0||1/O<0;if(O=isNaN(O)?c:k(Math.abs(O),b),N&&(O=lge(O)),q&&+O==0&&g!=="+"&&(q=!1),M=(q?g==="("?g:l:g==="-"||g==="("?"":g)+M,T=(w==="s"?y2[8+AB/3]:"")+T+(q&&g==="("?")":""),P){for(E=-1,I=O.length;++E<I;)if(L=O.charCodeAt(E),48>L||L>57){T=(L===46?s+O.slice(E+1):O.slice(E))+T,O=O.slice(0,E);break}}}y&&!v&&(O=t(O,1/0));var _=M.length+O.length+T.length,$=_<x?new Array(x-_+1).join(h):"";switch(y&&v&&(O=t($+O,$.length?x-T.length:1/0),$=""),p){case"<":O=M+O+T+$;break;case"=":O=M+$+O+T;break;case"^":O=$.slice(0,_=$.length>>1)+M+O+T+$.slice(_);break;default:O=$+M+O+T;break}return a(O)}return A.toString=function(){return f+""},A}function d(f,h){var p=u((f=Lh(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Qu(h)/3)))*3,m=Math.pow(10,-g),v=y2[8+g/3];return function(x){return p(m*x)+v}}return{format:u,formatPrefix:d}}var Wp,yC,TB;dge({thousands:",",grouping:[3],currency:["$",""]});function dge(e){return Wp=uge(e),yC=Wp.format,TB=Wp.formatPrefix,Wp}function fge(e){return Math.max(0,-Qu(Math.abs(e)))}function hge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qu(t)/3)))*3-Qu(Math.abs(e)))}function mge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qu(t)-Qu(e))+1}function EB(e,t,r,n){var s=Fw(e,t,r),a;switch(n=Lh(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=hge(s,o))&&(n.precision=a),TB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=mge(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=fge(s))&&(n.precision=a-(n.type==="%")*2);break}}return yC(n)}function el(e){var t=e.domain;return e.ticks=function(r){var n=t();return Rw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return EB(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=Lw(o,l,r),u===c)return n[s]=o,n[a]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Nv(){var e=vC();return e.copy=function(){return ep(e,Nv())},Qi.apply(e,arguments),el(e)}function OB(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return OB(e).unknown(t)},e=arguments.length?Array.from(e,jv):[0,1],el(r)}function MB(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),e[r]=t.floor(s),e[n]=t.ceil(a),e}function b2(e){return Math.log(e)}function j2(e){return Math.exp(e)}function pge(e){return-Math.log(-e)}function gge(e){return-Math.exp(-e)}function vge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xge(e){return e===10?vge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function w2(e){return(t,r)=>-e(-t,r)}function bC(e){const t=e(b2,j2),r=t.domain;let n=10,s,a;function o(){return s=yge(n),a=xge(n),r()[0]<0?(s=w2(s),a=w2(a),e(pge,gge)):e(b2,j2),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),g,m;const v=l==null?10:+l;let x=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/a(-h):g*a(h),!(m<u)){if(m>d)break;x.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/a(-h):g*a(h),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=Rw(u,d,v))}else x=Rw(h,p,Math.min(p-h,v)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Lh(c)).precision==null&&(c.trim=!0),c=yC(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(MB(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function IB(){const e=bC(My()).domain([1,10]);return e.copy=()=>ep(e,IB()).base(e.base()),Qi.apply(e,arguments),e}function N2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jC(e){var t=1,r=e(N2(t),S2(t));return r.constant=function(n){return arguments.length?e(N2(t=+n),S2(t)):t},el(r)}function DB(){var e=jC(My());return e.copy=function(){return ep(e,DB()).constant(e.constant())},Qi.apply(e,arguments)}function C2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jge(e){return e<0?-e*e:e*e}function wC(e){var t=e(An,An),r=1;function n(){return r===1?e(An,An):r===.5?e(bge,jge):e(C2(r),C2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},el(t)}function NC(){var e=wC(My());return e.copy=function(){return ep(e,NC()).exponent(e.exponent())},Qi.apply(e,arguments),e}function wge(){return NC.apply(null,arguments).exponent(.5)}function P2(e){return Math.sign(e)*e*e}function Nge(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $B(){var e=vC(),t=[0,1],r=!1,n;function s(a){var o=Nge(e(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return e.invert(P2(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,jv)).map(P2)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return $B(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Qi.apply(s,arguments),el(s)}function RB(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=_pe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Zm(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Io),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return RB().domain(e).range(t).unknown(n)},Qi.apply(a,arguments)}function LB(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[Zm(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return LB().domain([e,t]).range(s).unknown(a)},Qi.apply(el(o),arguments)}function FB(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[Zm(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return FB().domain(e).range(t).unknown(r)},Qi.apply(s,arguments)}const g0=new Date,v0=new Date;function Fr(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},s.filter=a=>Fr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(s.count=(a,o)=>(g0.setTime(+a),v0.setTime(+o),e(g0),e(v0),Math.floor(r(g0,v0))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const Sv=Fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sv);Sv.range;const ja=1e3,Li=ja*60,wa=Li*60,Fa=wa*24,SC=Fa*7,k2=Fa*30,x0=Fa*365,wl=Fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ja)},(e,t)=>(t-e)/ja,e=>e.getUTCSeconds());wl.range;const CC=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ja)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getMinutes());CC.range;const PC=Fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCMinutes());PC.range;const kC=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ja-e.getMinutes()*Li)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getHours());kC.range;const _C=Fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCHours());_C.range;const tp=Fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Li)/Fa,e=>e.getDate()-1);tp.range;const Iy=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fa,e=>e.getUTCDate()-1);Iy.range;const BB=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fa,e=>Math.floor(e/Fa));BB.range;function yc(e){return Fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Li)/SC)}const Dy=yc(0),Cv=yc(1),Sge=yc(2),Cge=yc(3),Yu=yc(4),Pge=yc(5),kge=yc(6);Dy.range;Cv.range;Sge.range;Cge.range;Yu.range;Pge.range;kge.range;function bc(e){return Fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/SC)}const $y=bc(0),Pv=bc(1),_ge=bc(2),Age=bc(3),Xu=bc(4),Tge=bc(5),Ege=bc(6);$y.range;Pv.range;_ge.range;Age.range;Xu.range;Tge.range;Ege.range;const AC=Fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());AC.range;const TC=Fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());TC.range;const Ba=Fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ba.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ba.range;const za=Fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());za.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});za.range;function zB(e,t,r,n,s,a){const o=[[wl,1,ja],[wl,5,5*ja],[wl,15,15*ja],[wl,30,30*ja],[a,1,Li],[a,5,5*Li],[a,15,15*Li],[a,30,30*Li],[s,1,wa],[s,3,3*wa],[s,6,6*wa],[s,12,12*wa],[n,1,Fa],[n,2,2*Fa],[r,1,SC],[t,1,k2],[t,3,3*k2],[e,1,x0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=fC(([,,v])=>v).right(o,h);if(p===o.length)return e.every(Fw(u/x0,d/x0,f));if(p===0)return Sv.every(Math.max(Fw(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[Oge,Mge]=zB(za,TC,$y,BB,_C,PC),[Ige,Dge]=zB(Ba,AC,Dy,tp,kC,CC);function y0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function b0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ff(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function $ge(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=hf(s),d=mf(s),f=hf(a),h=mf(a),p=hf(o),g=mf(o),m=hf(l),v=mf(l),x=hf(c),y=mf(c),b={a:q,A:_,b:$,B:G,c:null,d:M2,e:M2,f:sve,g:pve,G:vve,H:rve,I:nve,j:ive,L:UB,m:ave,M:ove,p:re,q:B,Q:$2,s:R2,S:lve,u:cve,U:uve,V:dve,w:fve,W:hve,x:null,X:null,y:mve,Y:gve,Z:xve,"%":D2},N={a:ae,A:Se,b:Ce,B:Fe,c:null,d:I2,e:I2,f:wve,g:Ove,G:Ive,H:yve,I:bve,j:jve,L:qB,m:Nve,M:Sve,p:ye,q:K,Q:$2,s:R2,S:Cve,u:Pve,U:kve,V:_ve,w:Ave,W:Tve,x:null,X:null,y:Eve,Y:Mve,Z:Dve,"%":D2},w={a:A,A:O,b:M,B:T,c:E,d:E2,e:E2,f:Zge,g:T2,G:A2,H:O2,I:O2,j:Gge,L:Xge,m:Kge,M:Qge,p:P,q:Hge,Q:eve,s:tve,S:Yge,u:zge,U:Uge,V:Vge,w:Bge,W:qge,x:I,X:L,y:T2,Y:A2,Z:Wge,"%":Jge};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(X,ue){return function(fe){var Y=[],Ye=-1,Be=0,Tt=X.length,At,Qt,Yr;for(fe instanceof Date||(fe=new Date(+fe));++Ye<Tt;)X.charCodeAt(Ye)===37&&(Y.push(X.slice(Be,Ye)),(Qt=_2[At=X.charAt(++Ye)])!=null?At=X.charAt(++Ye):Qt=At==="e"?" ":"0",(Yr=ue[At])&&(At=Yr(fe,Qt)),Y.push(At),Be=Ye+1);return Y.push(X.slice(Be,Ye)),Y.join("")}}function C(X,ue){return function(fe){var Y=ff(1900,void 0,1),Ye=k(Y,X,fe+="",0),Be,Tt;if(Ye!=fe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ue&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Be=b0(ff(Y.y,0,1)),Tt=Be.getUTCDay(),Be=Tt>4||Tt===0?Pv.ceil(Be):Pv(Be),Be=Iy.offset(Be,(Y.V-1)*7),Y.y=Be.getUTCFullYear(),Y.m=Be.getUTCMonth(),Y.d=Be.getUTCDate()+(Y.w+6)%7):(Be=y0(ff(Y.y,0,1)),Tt=Be.getDay(),Be=Tt>4||Tt===0?Cv.ceil(Be):Cv(Be),Be=tp.offset(Be,(Y.V-1)*7),Y.y=Be.getFullYear(),Y.m=Be.getMonth(),Y.d=Be.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Tt="Z"in Y?b0(ff(Y.y,0,1)).getUTCDay():y0(ff(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Tt+5)%7:Y.w+Y.U*7-(Tt+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,b0(Y)):y0(Y)}}function k(X,ue,fe,Y){for(var Ye=0,Be=ue.length,Tt=fe.length,At,Qt;Ye<Be;){if(Y>=Tt)return-1;if(At=ue.charCodeAt(Ye++),At===37){if(At=ue.charAt(Ye++),Qt=w[At in _2?ue.charAt(Ye++):At],!Qt||(Y=Qt(X,fe,Y))<0)return-1}else if(At!=fe.charCodeAt(Y++))return-1}return Y}function P(X,ue,fe){var Y=u.exec(ue.slice(fe));return Y?(X.p=d.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function A(X,ue,fe){var Y=p.exec(ue.slice(fe));return Y?(X.w=g.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function O(X,ue,fe){var Y=f.exec(ue.slice(fe));return Y?(X.w=h.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function M(X,ue,fe){var Y=x.exec(ue.slice(fe));return Y?(X.m=y.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function T(X,ue,fe){var Y=m.exec(ue.slice(fe));return Y?(X.m=v.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function E(X,ue,fe){return k(X,t,ue,fe)}function I(X,ue,fe){return k(X,r,ue,fe)}function L(X,ue,fe){return k(X,n,ue,fe)}function q(X){return o[X.getDay()]}function _(X){return a[X.getDay()]}function $(X){return c[X.getMonth()]}function G(X){return l[X.getMonth()]}function re(X){return s[+(X.getHours()>=12)]}function B(X){return 1+~~(X.getMonth()/3)}function ae(X){return o[X.getUTCDay()]}function Se(X){return a[X.getUTCDay()]}function Ce(X){return c[X.getUTCMonth()]}function Fe(X){return l[X.getUTCMonth()]}function ye(X){return s[+(X.getUTCHours()>=12)]}function K(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ue=S(X+="",b);return ue.toString=function(){return X},ue},parse:function(X){var ue=C(X+="",!1);return ue.toString=function(){return X},ue},utcFormat:function(X){var ue=S(X+="",N);return ue.toString=function(){return X},ue},utcParse:function(X){var ue=C(X+="",!0);return ue.toString=function(){return X},ue}}}var _2={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,Rge=/^%/,Lge=/[\\^$*+?|[\]().{}]/g;function _t(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function Fge(e){return e.replace(Lge,"\\$&")}function hf(e){return new RegExp("^(?:"+e.map(Fge).join("|")+")","i")}function mf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Bge(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zge(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Uge(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Vge(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function qge(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function A2(e,t,r){var n=Gr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T2(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Wge(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hge(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Kge(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function E2(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Gge(e,t,r){var n=Gr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function O2(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Qge(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Yge(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Xge(e,t,r){var n=Gr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Zge(e,t,r){var n=Gr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Jge(e,t,r){var n=Rge.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function eve(e,t,r){var n=Gr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tve(e,t,r){var n=Gr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function M2(e,t){return _t(e.getDate(),t,2)}function rve(e,t){return _t(e.getHours(),t,2)}function nve(e,t){return _t(e.getHours()%12||12,t,2)}function ive(e,t){return _t(1+tp.count(Ba(e),e),t,3)}function UB(e,t){return _t(e.getMilliseconds(),t,3)}function sve(e,t){return UB(e,t)+"000"}function ave(e,t){return _t(e.getMonth()+1,t,2)}function ove(e,t){return _t(e.getMinutes(),t,2)}function lve(e,t){return _t(e.getSeconds(),t,2)}function cve(e){var t=e.getDay();return t===0?7:t}function uve(e,t){return _t(Dy.count(Ba(e)-1,e),t,2)}function VB(e){var t=e.getDay();return t>=4||t===0?Yu(e):Yu.ceil(e)}function dve(e,t){return e=VB(e),_t(Yu.count(Ba(e),e)+(Ba(e).getDay()===4),t,2)}function fve(e){return e.getDay()}function hve(e,t){return _t(Cv.count(Ba(e)-1,e),t,2)}function mve(e,t){return _t(e.getFullYear()%100,t,2)}function pve(e,t){return e=VB(e),_t(e.getFullYear()%100,t,2)}function gve(e,t){return _t(e.getFullYear()%1e4,t,4)}function vve(e,t){var r=e.getDay();return e=r>=4||r===0?Yu(e):Yu.ceil(e),_t(e.getFullYear()%1e4,t,4)}function xve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function I2(e,t){return _t(e.getUTCDate(),t,2)}function yve(e,t){return _t(e.getUTCHours(),t,2)}function bve(e,t){return _t(e.getUTCHours()%12||12,t,2)}function jve(e,t){return _t(1+Iy.count(za(e),e),t,3)}function qB(e,t){return _t(e.getUTCMilliseconds(),t,3)}function wve(e,t){return qB(e,t)+"000"}function Nve(e,t){return _t(e.getUTCMonth()+1,t,2)}function Sve(e,t){return _t(e.getUTCMinutes(),t,2)}function Cve(e,t){return _t(e.getUTCSeconds(),t,2)}function Pve(e){var t=e.getUTCDay();return t===0?7:t}function kve(e,t){return _t($y.count(za(e)-1,e),t,2)}function WB(e){var t=e.getUTCDay();return t>=4||t===0?Xu(e):Xu.ceil(e)}function _ve(e,t){return e=WB(e),_t(Xu.count(za(e),e)+(za(e).getUTCDay()===4),t,2)}function Ave(e){return e.getUTCDay()}function Tve(e,t){return _t(Pv.count(za(e)-1,e),t,2)}function Eve(e,t){return _t(e.getUTCFullYear()%100,t,2)}function Ove(e,t){return e=WB(e),_t(e.getUTCFullYear()%100,t,2)}function Mve(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function Ive(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xu(e):Xu.ceil(e),_t(e.getUTCFullYear()%1e4,t,4)}function Dve(){return"+0000"}function D2(){return"%"}function $2(e){return+e}function R2(e){return Math.floor(+e/1e3)}var Tc,HB,KB;$ve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $ve(e){return Tc=$ge(e),HB=Tc.format,Tc.parse,KB=Tc.utcFormat,Tc.utcParse,Tc}function Rve(e){return new Date(e)}function Lve(e){return e instanceof Date?+e:+new Date(+e)}function EC(e,t,r,n,s,a,o,l,c,u){var d=vC(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),N=u("%Y");function w(S){return(c(S)<S?p:l(S)<S?g:o(S)<S?m:a(S)<S?v:n(S)<S?s(S)<S?x:y:r(S)<S?b:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Lve)):h().map(Rve)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?w:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(MB(C,S)):d},d.copy=function(){return ep(d,EC(e,t,r,n,s,a,o,l,c,u))},d}function Fve(){return Qi.apply(EC(Ige,Dge,Ba,AC,Dy,tp,kC,CC,wl,HB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bve(){return Qi.apply(EC(Oge,Mge,za,TC,$y,Iy,_C,PC,wl,KB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ry(){var e=0,t=1,r,n,s,a,o=An,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(Fd),u.rangeRound=d(gC),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function tl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function GB(){var e=el(Ry()(An));return e.copy=function(){return tl(e,GB())},Ha.apply(e,arguments)}function QB(){var e=bC(Ry()).domain([1,10]);return e.copy=function(){return tl(e,QB()).base(e.base())},Ha.apply(e,arguments)}function YB(){var e=jC(Ry());return e.copy=function(){return tl(e,YB()).constant(e.constant())},Ha.apply(e,arguments)}function OC(){var e=wC(Ry());return e.copy=function(){return tl(e,OC()).exponent(e.exponent())},Ha.apply(e,arguments)}function zve(){return OC.apply(null,arguments).exponent(.5)}function XB(){var e=[],t=An;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Io),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>kpe(e,a/n))},r.copy=function(){return XB(t).domain(e)},Ha.apply(r,arguments)}function Ly(){var e=0,t=.5,r=1,n=1,s,a,o,l,c,u=An,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-a)*(n*m<n*a?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),a=d(t=+t),o=d(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var x,y,b;return arguments.length?([x,y,b]=v,u=Jpe(m,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(Fd),p.rangeRound=g(gC),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),a=m(t),o=m(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,p}}function ZB(){var e=el(Ly()(An));return e.copy=function(){return tl(e,ZB())},Ha.apply(e,arguments)}function JB(){var e=bC(Ly()).domain([.1,1,10]);return e.copy=function(){return tl(e,JB()).base(e.base())},Ha.apply(e,arguments)}function e8(){var e=jC(Ly());return e.copy=function(){return tl(e,e8()).constant(e.constant())},Ha.apply(e,arguments)}function MC(){var e=wC(Ly());return e.copy=function(){return tl(e,MC()).exponent(e.exponent())},Ha.apply(e,arguments)}function Uve(){return MC.apply(null,arguments).exponent(.5)}const L2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ih,scaleDiverging:ZB,scaleDivergingLog:JB,scaleDivergingPow:MC,scaleDivergingSqrt:Uve,scaleDivergingSymlog:e8,scaleIdentity:OB,scaleImplicit:Bw,scaleLinear:Nv,scaleLog:IB,scaleOrdinal:hC,scalePoint:Kf,scalePow:NC,scaleQuantile:RB,scaleQuantize:LB,scaleRadial:$B,scaleSequential:GB,scaleSequentialLog:QB,scaleSequentialPow:OC,scaleSequentialQuantile:XB,scaleSequentialSqrt:zve,scaleSequentialSymlog:YB,scaleSqrt:wge,scaleSymlog:DB,scaleThreshold:FB,scaleTime:Fve,scaleUtc:Bve,tickFormat:EB},Symbol.toStringTag,{value:"Module"}));var Vve=Td;function qve(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!Vve(o):r(o,l)))var l=o,c=a}return c}var Fy=qve;function Wve(e,t){return e>t}var t8=Wve,Hve=Fy,Kve=t8,Gve=Ld;function Qve(e){return e&&e.length?Hve(e,Gve,Kve):void 0}var Yve=Qve;const By=Dt(Yve);function Xve(e,t){return e<t}var r8=Xve,Zve=Fy,Jve=r8,exe=Ld;function txe(e){return e&&e.length?Zve(e,exe,Jve):void 0}var rxe=txe;const zy=Dt(rxe);var nxe=KS,ixe=ra,sxe=uB,axe=Qn;function oxe(e,t){var r=axe(e)?nxe:sxe;return r(e,ixe(t))}var lxe=oxe,cxe=lB,uxe=lxe;function dxe(e,t){return cxe(uxe(e,t),1)}var fxe=dxe;const hxe=Dt(fxe);var mxe=lC;function pxe(e,t){return mxe(e,t)}var gxe=pxe;const rp=Dt(gxe);var Bd=1e9,vxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DC,ir=!0,Hi="[DecimalError] ",$l=Hi+"Invalid argument: ",IC=Hi+"Exponent out of range: ",zd=Math.floor,fl=Math.pow,xxe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ii,zr=1e7,Jt=7,n8=9007199254740991,kv=zd(n8/Jt),Ie={};Ie.absoluteValue=Ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ie.comparedTo=Ie.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(e){return Ta(this,new this.constructor(e))};Ie.dividedToIntegerBy=Ie.idiv=function(e){var t=this,r=t.constructor;return Vt(Ta(t,new r(e),0,1),r.precision)};Ie.equals=Ie.eq=function(e){return!this.cmp(e)};Ie.exponent=function(){return kr(this)};Ie.greaterThan=Ie.gt=function(e){return this.cmp(e)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(e){return this.cmp(e)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(e){return this.cmp(e)<0};Ie.lessThanOrEqualTo=Ie.lte=function(e){return this.cmp(e)<1};Ie.logarithm=Ie.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ii))throw Error(Hi+"NaN");if(r.s<1)throw Error(Hi+(r.s?"NaN":"-Infinity"));return r.eq(ii)?new n(0):(ir=!1,t=Ta(Fh(r,a),Fh(e,a),a),ir=!0,Vt(t,s))};Ie.minus=Ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?a8(t,e):i8(t,(e.s=-e.s,e))};Ie.modulo=Ie.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Hi+"NaN");return r.s?(ir=!1,t=Ta(r,e,0,1).times(e),ir=!0,r.minus(t)):Vt(new n(r),s)};Ie.naturalExponential=Ie.exp=function(){return s8(this)};Ie.naturalLogarithm=Ie.ln=function(){return Fh(this)};Ie.negated=Ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ie.plus=Ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?i8(t,e):a8(t,(e.s=-e.s,e))};Ie.precision=Ie.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($l+e);if(t=kr(s)+1,n=s.d.length-1,r=n*Jt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ie.squareRoot=Ie.sqrt=function(){var e,t,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Hi+"NaN")}for(e=kr(l),ir=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=$s(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=zd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(Ta(l,a,o+2)).times(.5),$s(a.d).slice(0,o)===(t=$s(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Vt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return ir=!0,Vt(n,r)};Ie.times=Ie.mul=function(e){var t,r,n,s,a,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+p[n]*h[s-n-1]+t,a[s--]=l%zr|0,t=l/zr|0;a[s]=(a[s]+t)%zr|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ir?Vt(e,f.precision):e};Ie.toDecimalPlaces=Ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Qs(e,0,Bd),t===void 0?t=n.rounding:Qs(t,0,8),Vt(r,e+kr(r)+1,t))};Ie.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=tc(n,!0):(Qs(e,0,Bd),t===void 0?t=s.rounding:Qs(t,0,8),n=Vt(new s(n),e+1,t),r=tc(n,!0,e+1)),r};Ie.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?tc(s):(Qs(e,0,Bd),t===void 0?t=a.rounding:Qs(t,0,8),n=Vt(new a(s),e+kr(s)+1,t),r=tc(n.abs(),!1,e+kr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),kr(e)+1,t.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(e){var t,r,n,s,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ii);if(l=new c(l),!l.s){if(e.s<1)throw Error(Hi+"Infinity");return l}if(l.eq(ii))return l;if(n=c.precision,e.eq(ii))return Vt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=d<0?-d:d)<=n8){for(s=new c(ii),t=Math.ceil(n/Jt+4),ir=!1;r%2&&(s=s.times(l),B2(s.d,t)),r=zd(r/2),r!==0;)l=l.times(l),B2(l.d,t);return ir=!0,e.s<0?new c(ii).div(s):Vt(s,n)}}else if(a<0)throw Error(Hi+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ir=!1,s=e.times(Fh(l,n+u)),ir=!0,s=s8(s),s.s=a,s};Ie.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=kr(s),n=tc(s,r<=a.toExpNeg||r>=a.toExpPos)):(Qs(e,1,Bd),t===void 0?t=a.rounding:Qs(t,0,8),s=Vt(new a(s),e,t),r=kr(s),n=tc(s,e<=r||r<=a.toExpNeg,e)),n};Ie.toSignificantDigits=Ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Qs(e,1,Bd),t===void 0?t=n.rounding:Qs(t,0,8)),Vt(new n(r),e,t)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kr(e),r=e.constructor;return tc(e,t<=r.toExpNeg||t>=r.toExpPos)};function i8(e,t){var r,n,s,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?Vt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Jt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/zr|0,c[a]%=zr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ir?Vt(t,f):t}function Qs(e,t,r){if(e!==~~e||e<t||e>r)throw Error($l+e)}function $s(e){var t,r,n,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)n=e[t]+"",r=Jt-n.length,r&&(a+=no(r)),a+=n;o=e[t],n=o+"",r=Jt-n.length,r&&(a+=no(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ta=function(){function e(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%zr|0,o=a/zr|0;return o&&n.unshift(o),n}function t(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*zr+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,d,f,h,p,g,m,v,x,y,b,N,w,S,C,k,P=n.constructor,A=n.s==s.s?1:-1,O=n.d,M=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(Hi+"Division by zero");for(c=n.e-s.e,C=M.length,w=O.length,p=new P(A),g=p.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--c,a==null?y=a=P.precision:o?y=a+(kr(n)-kr(s))+1:y=a,y<0)return new P(0);if(y=y/Jt+2|0,u=0,C==1)for(d=0,M=M[0],y++;(u<w||d)&&y--;u++)b=d*zr+(O[u]||0),g[u]=b/M|0,d=b%M|0;else{for(d=zr/(M[0]+1)|0,d>1&&(M=e(M,d),O=e(O,d),C=M.length,w=O.length),N=C,m=O.slice(0,C),v=m.length;v<C;)m[v++]=0;k=M.slice(),k.unshift(0),S=M[0],M[1]>=zr/2&&++S;do d=0,l=t(M,m,C,v),l<0?(x=m[0],C!=v&&(x=x*zr+(m[1]||0)),d=x/S|0,d>1?(d>=zr&&(d=zr-1),f=e(M,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,C<h?k:M,h))):(d==0&&(l=d=1),f=M.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(M,m,C,v),l<1&&(d++,r(m,C<v?k:M,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=O[N]||0:(m=[O[N]],v=1);while((N++<w||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Vt(p,o?a+kr(p)+1:a)}}();function s8(e,t){var r,n,s,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(kr(e)>16)throw Error(IC+kr(e));if(!e.s)return new d(ii);for(t==null?(ir=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(fl(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(ii),d.precision=l;;){if(s=Vt(s.times(e),l),r=r.times(++c),o=a.plus(Ta(s,r,l)),$s(o.d).slice(0,l)===$s(a.d).slice(0,l)){for(;u--;)a=Vt(a.times(a),l);return d.precision=f,t==null?(ir=!0,Vt(a,f)):a}a=o}}function kr(e){for(var t=e.e*Jt,r=e.d[0];r>=10;r/=10)t++;return t}function j0(e,t,r){if(t>e.LN10.sd())throw ir=!0,r&&(e.precision=r),Error(Hi+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function no(e){for(var t="";e--;)t+="0";return t}function Fh(e,t){var r,n,s,a,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(Hi+(p.s?"NaN":"-Infinity"));if(p.eq(ii))return new m(0);if(t==null?(ir=!1,u=v):u=t,p.eq(10))return t==null&&(ir=!0),j0(m,u);if(u+=h,m.precision=u,r=$s(g),n=r.charAt(0),a=kr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=$s(p.d),n=r.charAt(0),f++;a=kr(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return c=j0(m,u+2,v).times(a+""),p=Fh(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(ir=!0,Vt(p,v)):p;for(l=o=p=Ta(p.minus(ii),p.plus(ii),u),d=Vt(p.times(p),u),s=3;;){if(o=Vt(o.times(d),u),c=l.plus(Ta(o,new m(s),u)),$s(c.d).slice(0,u)===$s(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(j0(m,u+2,v).times(a+""))),l=Ta(l,new m(f),u),m.precision=v,t==null?(ir=!0,Vt(l,v)):l;l=c,s+=2}}function F2(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=zd(r/Jt),e.d=[],n=(r+1)%Jt,r<0&&(n+=Jt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Jt;n<s;)e.d.push(+t.slice(n,n+=Jt));t=t.slice(n),n=Jt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ir&&(e.e>kv||e.e<-kv))throw Error(IC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var n,s,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Jt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Jt),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=Jt,s=n-Jt+o}if(r!==void 0&&(a=fl(10,o-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/fl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=kr(e),f.length=1,t=t-a-1,f[0]=fl(10,(Jt-t%Jt)%Jt),e.e=zd(-t/Jt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=fl(10,Jt-n),f[d]=s>0?(u/fl(10,o-s)%fl(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==zr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=zr)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ir&&(e.e>kv||e.e<-kv))throw Error(IC+kr(e));return e}function a8(e,t){var r,n,s,a,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ir?Vt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/Jt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=zr-1;--c[a],c[s]+=zr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ir?Vt(t,p):t):new h(0)}function tc(e,t,r){var n,s=kr(e),a=$s(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+no(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+no(-s-1)+a,r&&(n=r-o)>0&&(a+=no(n))):s>=o?(a+=no(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+no(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=no(n))),e.s<0?"-"+a:a}function B2(e,t){if(e.length>t)return e.length=t,!0}function o8(e){var t,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($l+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return F2(o,a.toString())}else if(typeof a!="string")throw Error($l+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,xxe.test(a))F2(o,a);else throw Error($l+a)}if(s.prototype=Ie,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=o8,s.config=s.set=yxe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function yxe(e){if(!e||typeof e!="object")throw Error(Hi+"Object expected");var t,r,n,s=["precision",1,Bd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(zd(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error($l+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($l+r+": "+n);return this}var DC=o8(vxe);ii=new DC(1);const Bt=DC;function bxe(e){return Sxe(e)||Nxe(e)||wxe(e)||jxe()}function jxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wxe(e,t){if(e){if(typeof e=="string")return qw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qw(e,t)}}function Nxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Sxe(e){if(Array.isArray(e))return qw(e)}function qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cxe=function(t){return t},l8={"@@functional/placeholder":!0},c8=function(t){return t===l8},z2=function(t){return function r(){return arguments.length===0||arguments.length===1&&c8(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Pxe=function e(t,r){return t===1?r:z2(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==l8}).length;return o>=t?r.apply(void 0,s):e(t-o,z2(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return c8(f)?c.shift():f});return r.apply(void 0,bxe(d).concat(c))}))})},Uy=function(t){return Pxe(t.length,t)},Ww=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},kxe=Uy(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),_xe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Cxe;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Hw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},u8=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function Axe(e){var t;return e===0?t=1:t=Math.floor(new Bt(e).abs().log(10).toNumber())+1,t}function Txe(e,t,r){for(var n=new Bt(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var Exe=Uy(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Oxe=Uy(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Mxe=Uy(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Vy={rangeStep:Txe,getDigitCount:Axe,interpolateNumber:Exe,uninterpolateNumber:Oxe,uninterpolateTruncation:Mxe};function Kw(e){return $xe(e)||Dxe(e)||d8(e)||Ixe()}function Ixe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dxe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function $xe(e){if(Array.isArray(e))return Gw(e)}function Bh(e,t){return Fxe(e)||Lxe(e,t)||d8(e,t)||Rxe()}function Rxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8(e,t){if(e){if(typeof e=="string")return Gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(e,t)}}function Gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lxe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function Fxe(e){if(Array.isArray(e))return e}function f8(e){var t=Bh(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function h8(e,t,r){if(e.lte(0))return new Bt(0);var n=Vy.getDigitCount(e.toNumber()),s=new Bt(10).pow(n),a=e.div(s),o=n!==1?.05:.1,l=new Bt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Bt(Math.ceil(c))}function Bxe(e,t,r){var n=1,s=new Bt(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new Bt(10).pow(Vy.getDigitCount(e)-1),s=new Bt(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new Bt(Math.floor(e)))}else e===0?s=new Bt(Math.floor((t-1)/2)):r||(s=new Bt(Math.floor(e)));var o=Math.floor((t-1)/2),l=_xe(kxe(function(c){return s.add(new Bt(c-o).mul(n)).toNumber()}),Ww);return l(0,t)}function m8(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var a=h8(new Bt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Bt(0):(o=new Bt(e).add(t).div(2),o=o.sub(new Bt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Bt(t).sub(o).div(a).toNumber()),u=l+c+1;return u>r?m8(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Bt(l).mul(a)),tickMax:o.add(new Bt(c).mul(a))})}function zxe(e){var t=Bh(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=f8([r,n]),c=Bh(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Kw(Ww(0,s-1).map(function(){return 1/0}))):[].concat(Kw(Ww(0,s-1).map(function(){return-1/0})),[d]);return r>n?Hw(f):f}if(u===d)return Bxe(u,s,a);var h=m8(u,d,o,a),p=h.step,g=h.tickMin,m=h.tickMax,v=Vy.rangeStep(g,m.add(new Bt(.1).mul(p)),p);return r>n?Hw(v):v}function Uxe(e,t){var r=Bh(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=f8([n,s]),l=Bh(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=h8(new Bt(u).sub(c).div(d-1),a,0),h=[].concat(Kw(Vy.rangeStep(new Bt(c),new Bt(u).sub(new Bt(.99).mul(f)),f)),[u]);return n>s?Hw(h):h}var Vxe=u8(zxe),qxe=u8(Uxe),Wxe="Invariant failed";function rc(e,t){throw new Error(Wxe)}var Hxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(this,arguments)}function Kxe(e,t){return Xxe(e)||Yxe(e,t)||Qxe(e,t)||Gxe()}function Gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qxe(e,t){if(e){if(typeof e=="string")return U2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U2(e,t)}}function U2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Xxe(e){if(Array.isArray(e))return e}function Zxe(e,t){if(e==null)return{};var r=Jxe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v8(n.key),n)}}function rye(e,t,r){return t&&tye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nye(e,t,r){return t=Av(t),iye(e,p8()?Reflect.construct(t,r||[],Av(e).constructor):t.apply(e,r))}function iye(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sye(e)}function sye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!e})()}function Av(e){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Av(e)}function aye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qw(e,t)}function g8(e,t,r){return t=v8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8(e){var t=oye(e,"string");return Zu(t)=="symbol"?t:t+""}function oye(e,t){if(Zu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var np=function(e){function t(){return eye(this,t),nye(this,t,arguments)}return aye(t,e),rye(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Zxe(n,Hxe),p=Ve(h,!1);this.props.direction==="x"&&d.type!=="number"&&rc();var g=c.map(function(m){var v=u(m,l),x=v.x,y=v.y,b=v.value,N=v.errorVal;if(!N)return null;var w=[],S,C;if(Array.isArray(N)){var k=Kxe(N,2);S=k[0],C=k[1]}else S=C=N;if(a==="vertical"){var P=d.scale,A=y+s,O=A+o,M=A-o,T=P(b-S),E=P(b+C);w.push({x1:E,y1:O,x2:E,y2:M}),w.push({x1:T,y1:A,x2:E,y2:A}),w.push({x1:T,y1:O,x2:T,y2:M})}else if(a==="horizontal"){var I=f.scale,L=x+s,q=L-o,_=L+o,$=I(b-S),G=I(b+C);w.push({x1:q,y1:G,x2:_,y2:G}),w.push({x1:L,y1:$,x2:L,y2:G}),w.push({x1:q,y1:$,x2:_,y2:$})}return R.createElement(kt,_v({className:"recharts-errorBar",key:"bar-".concat(w.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},p),w.map(function(re){return R.createElement("line",_v({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return R.createElement(kt,{className:"recharts-errorBars"},g)}}])}(R.Component);g8(np,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});g8(np,"displayName","ErrorBar");function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function V2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(r),!0).forEach(function(n){lye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lye(e,t,r){return t=cye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cye(e){var t=uye(e,"string");return zh(t)=="symbol"?t:t+""}function uye(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x8=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=ei(r,Mo);if(!o)return null;var l=Mo.defaultProps,c=l!==void 0?sl(sl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?sl(sl({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:$C(f),value:m||g,payload:p}}),sl(sl(sl({},c),Mo.getWithHeight(o,s)),{},{payload:u,item:o})};function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function q2(e){return mye(e)||hye(e)||fye(e)||dye()}function dye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fye(e,t){if(e){if(typeof e=="string")return Yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(e,t)}}function hye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mye(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){hu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hu(e,t,r){return t=pye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pye(e){var t=gye(e,"string");return Uh(t)=="symbol"?t:t+""}function gye(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $r(e,t,r){return rt(e)||rt(t)?r:Lr(t)?pi(e,t,r):Xe(t)?t(e):r}function Gf(e,t,r,n){var s=hxe(e,function(l){return $r(l,t)});if(r==="number"){var a=s.filter(function(l){return be(l)||parseFloat(l)});return a.length?[zy(a),By(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!rt(l)}):s;return o.map(function(l){return Lr(l)||l instanceof Date?l:""})}var vye=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(kn(f-d)!==kn(h-f)){var g=[];if(kn(h-f)===kn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){o=s[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},$C=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},xye=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,x=m.filter(function(C){return Aa(C.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?pr(pr({},y),x[0].props):x[0].props,N=b.barSize,w=b[v];o[w]||(o[w]=[]);var S=rt(N)?r:N;o[w].push({item:x[0],stackList:x.slice(1),barSize:rt(S)?void 0:_n(S,n,0)})}}return o},yye=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=_n(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,g=o.reduce(function(N,w){return N+w.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&p>0&&(h=!0,p*=.9,g=c*p);var m=(s-g)/2>>0,v={offset:m-u,size:0};d=o.reduce(function(N,w){var S={item:w.item,position:{offset:v.offset+v.size+u,size:h?p:w.barSize}},C=[].concat(q2(N),[S]);return v=C[C.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){C.push({item:k,position:v})}),C},f)}else{var x=_n(n,s,0,!0);s-2*x-(c-1)*u<=0&&(u=0);var y=(s-2*x-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(N,w,S){var C=[].concat(q2(N),[{item:w.item,position:{offset:x+(y+u)*S+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(k){C.push({item:k,position:C[C.length-1].position})}),C},f)}return d},bye=function(t,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=x8({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&be(t[p]))return pr(pr({},t),{},hu({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&be(t[g]))return pr(pr({},t),{},hu({},g,t[g]+(h||0)))}return t},jye=function(t,r,n){return rt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},y8=function(t,r,n,s,a){var o=r.props.children,l=gi(o,np).filter(function(u){return jye(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=$r(d,n);if(rt(f))return u;var h=Array.isArray(f)?[zy(f),By(f)]:[f,f],p=c.reduce(function(g,m){var v=$r(d,m,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},wye=function(t,r,n,s,a){var o=r.map(function(l){return y8(t,l,n,a,s)}).filter(function(l){return!rt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},b8=function(t,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&y8(t,c,u,s)||Gf(t,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},j8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},w8=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Na=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?kn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Qm(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},w0=new WeakMap,Hp=function(t,r){if(typeof r!="function")return t;w0.has(t)||w0.set(t,new WeakMap);var n=w0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},N8=function(t,r,n){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ih(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Nv(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Kf(),realScaleType:"point"}:a==="category"?{scale:Ih(),realScaleType:"band"}:{scale:Nv(),realScaleType:"linear"};if(Gm(s)){var c="scale".concat(Py(s));return{scale:(L2[c]||Kf)(),realScaleType:L2[c]?c:"point"}}return Xe(s)?{scale:s}:{scale:Kf(),realScaleType:"point"}},H2=1e-4,S8=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-H2,o=Math.max(s[0],s[1])+H2,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},Nye=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Sye=function(t,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!be(t[0])||t[0]<n)&&(a[0]=n),(!be(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},Cye=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Qm(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Pye=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=Qm(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},kye={sign:Cye,expand:Hse,none:qu,silhouette:Kse,wiggle:Gse,positive:Pye},_ye=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=kye[n],o=Wse().keys(s).value(function(l,c){return+$r(l,c,0)}).order(jw).offset(a);return o(t)},Aye=function(t,r,n,s,a,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?pr(pr({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var x=g[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(Lr(m)){var b=y.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[m]=b}else y.stackGroups[Dd("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return pr(pr({},f),{},hu({},x,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var x=p.stackGroups[v];return pr(pr({},m),{},hu({},v,{numericAxisId:n,cateAxisId:s,items:x.items,stackedData:_ye(t,x.items,a)}))},g)}return pr(pr({},f),{},hu({},h,p))},d)},C8=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Vxe(u,a,l);return t.domain([zy(d),By(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=qxe(f,a,l);return{niceTicks:h}}return null};function K2(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!rt(s[t.dataKey])){var l=rv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=$r(s,rt(o)?t.dataKey:o);return rt(c)?null:t.scale(c)}var G2=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=$r(o,r.dataKey,r.domain[l]);return rt(c)?null:r.scale(c)-a/2+s},Tye=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},Eye=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Lr(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Oye=function(t){return t.reduce(function(r,n){return[zy(n.concat([r[0]]).filter(be)),By(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},P8=function(t,r,n){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=Oye(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Q2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xw=function(t,r,n){if(Xe(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(be(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(Q2.test(t[0])){var a=+Q2.exec(t[0])[1];s[0]=r[0]-a}else Xe(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(be(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(Y2.test(t[1])){var o=+Y2.exec(t[1])[1];s[1]=r[1]+o}else Xe(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Tv=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=uC(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},X2=function(t,r,n){return!t||!t.length||rp(t,pi(n,"type.defaultProps.domain"))?r:t},k8=function(t,r){var n=t.type.defaultProps?pr(pr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return pr(pr({},Ve(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:$C(t),value:$r(r,s),type:c,payload:r,chartType:u,hide:d})};function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){_8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _8(e,t,r){return t=Mye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mye(e){var t=Iye(e,"string");return Vh(t)=="symbol"?t:t+""}function Iye(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dye(e,t){return Fye(e)||Lye(e,t)||Rye(e,t)||$ye()}function $ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rye(e,t){if(e){if(typeof e=="string")return J2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J2(e,t)}}function J2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Fye(e){if(Array.isArray(e))return e}var Ev=Math.PI/180,Bye=function(t){return t*180/Math.PI},Gt=function(t,r,n,s){return{x:t+Math.cos(-Ev*s)*n,y:r+Math.sin(-Ev*s)*n}},A8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},zye=function(t,r,n,s,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=_n(t.cx,o,o/2),f=_n(t.cy,l,l/2),h=A8(o,l,n),p=_n(t.innerRadius,h,0),g=_n(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,x){var y=r[x],b=y.domain,N=y.reversed,w;if(rt(y.range))s==="angleAxis"?w=[c,u]:s==="radiusAxis"&&(w=[p,g]),N&&(w=[w[1],w[0]]);else{w=y.range;var S=w,C=Dye(S,2);c=C[0],u=C[1]}var k=N8(y,a),P=k.realScaleType,A=k.scale;A.domain(b).range(w),S8(A);var O=C8(A,ma(ma({},y),{},{realScaleType:P})),M=ma(ma(ma({},y),O),{},{range:w,radius:g,realScaleType:P,scale:A,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return ma(ma({},v),{},_8({},x,M))},{})},Uye=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},Vye=function(t,r){var n=t.x,s=t.y,a=r.cx,o=r.cy,l=Uye({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Bye(u),angleInRadian:u}},qye=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},Wye=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},eT=function(t,r){var n=t.x,s=t.y,a=Vye({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=qye(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?ma(ma({},r),{},{radius:o,angle:Wye(p,r)}):null},T8=function(t){return!j.isValidElement(t)&&!Xe(t)&&typeof t!="boolean"?t.className:""};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}var Hye=["offset"];function Kye(e){return Xye(e)||Yye(e)||Qye(e)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(e,t){if(e){if(typeof e=="string")return Zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zw(e,t)}}function Yye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xye(e){if(Array.isArray(e))return Zw(e)}function Zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zye(e,t){if(e==null)return{};var r=Jye(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){ebe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ebe(e,t,r){return t=tbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tbe(e){var t=rbe(e,"string");return qh(t)=="symbol"?t:t+""}function rbe(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wh.apply(this,arguments)}var nbe=function(t){var r=t.value,n=t.formatter,s=rt(t.children)?r:t.children;return Xe(n)?n(s):s},ibe=function(t,r){var n=kn(r-t),s=Math.min(Math.abs(r-t),360);return n*s},sbe=function(t,r,n){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,x=ibe(p,g),y=x>=0?1:-1,b,N;s==="insideStart"?(b=p+y*o,N=m):s==="insideEnd"?(b=g-y*o,N=!m):s==="end"&&(b=g+y*o,N=m),N=x<=0?N:!N;var w=Gt(u,d,v,b),S=Gt(u,d,v,b+(N?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),k=rt(t.id)?Dd("recharts-radial-line-"):t.id;return R.createElement("text",Wh({},n,{dominantBaseline:"central",className:st("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:k,d:C})),R.createElement("textPath",{xlinkHref:"#".concat(k)},r))},abe=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var p=Gt(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=Gt(o,l,v,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},obe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*s,x=m>0?"end":"start",y=m>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Er(Er({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var N={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Er(Er({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var w={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Er(Er({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var S={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Er(Er({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return a==="insideLeft"?Er({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},C):a==="insideRight"?Er({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):a==="insideTop"?Er({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},C):a==="insideBottom"?Er({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},C):a==="insideTopLeft"?Er({x:l+v,y:c+h,textAnchor:y,verticalAnchor:g},C):a==="insideTopRight"?Er({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:g},C):a==="insideBottomLeft"?Er({x:l+v,y:c+d-h,textAnchor:y,verticalAnchor:p},C):a==="insideBottomRight"?Er({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:p},C):Ed(a)&&(be(a.x)||bl(a.x))&&(be(a.y)||bl(a.y))?Er({x:l+_n(a.x,u),y:c+_n(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):Er({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},lbe=function(t){return"cx"in t&&be(t.cx)};function Vr(e){var t=e.offset,r=t===void 0?5:t,n=Zye(e,Hye),s=Er({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||rt(l)&&rt(c)&&!j.isValidElement(u)&&!Xe(u))return null;if(j.isValidElement(u))return j.cloneElement(u,s);var p;if(Xe(u)){if(p=j.createElement(u,s),j.isValidElement(p))return p}else p=nbe(s);var g=lbe(a),m=Ve(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return sbe(s,p,m);var v=g?abe(s):obe(s);return R.createElement(ec,Wh({className:st("recharts-label",f)},m,v,{breakAll:h}),p)}Vr.displayName="Label";var E8=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(be(m)&&be(v)){if(be(f)&&be(h))return{x:f,y:h,width:m,height:v};if(be(p)&&be(g))return{x:p,y:g,width:m,height:v}}return be(f)&&be(h)?{x:f,y:h,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},cbe=function(t,r){return t?t===!0?R.createElement(Vr,{key:"label-implicit",viewBox:r}):Lr(t)?R.createElement(Vr,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===Vr?j.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(Vr,{key:"label-implicit",content:t,viewBox:r}):Xe(t)?R.createElement(Vr,{key:"label-implicit",content:t,viewBox:r}):Ed(t)?R.createElement(Vr,Wh({viewBox:r},t,{key:"label-implicit"})):null:null},ube=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=E8(t),o=gi(s,Vr).map(function(c,u){return j.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=cbe(t.label,r||a);return[l].concat(Kye(o))};Vr.parseViewBox=E8;Vr.renderCallByParent=ube;function dbe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var fbe=dbe;const hbe=Dt(fbe);function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}var mbe=["valueAccessor"],pbe=["data","dataKey","clockWise","id","textBreakAll"];function gbe(e){return bbe(e)||ybe(e)||xbe(e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(e,t){if(e){if(typeof e=="string")return Jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jw(e,t)}}function ybe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bbe(e){if(Array.isArray(e))return Jw(e)}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ov.apply(this,arguments)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){jbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jbe(e,t,r){return t=wbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wbe(e){var t=Nbe(e,"string");return Hh(t)=="symbol"?t:t+""}function Nbe(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iT(e,t){if(e==null)return{};var r=Sbe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cbe=function(t){return Array.isArray(t.value)?hbe(t.value):t.value};function Ea(e){var t=e.valueAccessor,r=t===void 0?Cbe:t,n=iT(e,mbe),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=iT(n,pbe);return!s||!s.length?null:R.createElement(kt,{className:"recharts-label-list"},s.map(function(d,f){var h=rt(a)?r(d,f):$r(d&&d.payload,a),p=rt(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(Vr,Ov({},Ve(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Vr.parseViewBox(rt(o)?d:nT(nT({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ea.displayName="LabelList";function Pbe(e,t){return e?e===!0?R.createElement(Ea,{key:"labelList-implicit",data:t}):R.isValidElement(e)||Xe(e)?R.createElement(Ea,{key:"labelList-implicit",data:t,content:e}):Ed(e)?R.createElement(Ea,Ov({data:t},e,{key:"labelList-implicit"})):null:null}function kbe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=gi(n,Ea).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=Pbe(e.label,t);return[a].concat(gbe(s))}Ea.renderCallByParent=kbe;function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eN.apply(this,arguments)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(n){_be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _be(e,t,r){return t=Abe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Abe(e){var t=Tbe(e,"string");return Kh(t)=="symbol"?t:t+""}function Tbe(e,t){if(Kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ebe=function(t,r){var n=kn(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Kp=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Ev,h=u?a:a+o*f,p=Gt(r,n,d,h),g=Gt(r,n,s,h),m=u?a-o*f:a,v=Gt(r,n,d*Math.cos(f*Ev),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},O8=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Ebe(o,l),u=o+c,d=Gt(r,n,a,o),f=Gt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Gt(r,n,s,o),g=Gt(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Obe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=kn(d-u),h=Kp({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Kp({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,y=v.lineTangency,b=v.theta,N=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):O8({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var S=Kp({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,k=S.lineTangency,P=S.theta,A=Kp({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=A.circleTangency,M=A.lineTangency,T=A.theta,E=c?Math.abs(u-d):Math.abs(u-d)-P-T;if(E<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Mbe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},M8=function(t){var r=aT(aT({},Mbe),t),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=st("recharts-sector",h),g=o-a,m=_n(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=Obe({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=O8({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),R.createElement("path",eN({},Ve(r,!0),{className:p,d:v,role:"img"}))};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tN.apply(this,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){Ibe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ibe(e,t,r){return t=Dbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dbe(e){var t=$be(e,"string");return Gh(t)=="symbol"?t:t+""}function $be(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cT={curveBasisClosed:Ise,curveBasisOpen:Dse,curveBasis:Mse,curveBumpX:yse,curveBumpY:bse,curveLinearClosed:$se,curveLinear:_y,curveMonotoneX:Rse,curveMonotoneY:Lse,curveNatural:Fse,curveStep:Bse,curveStepAfter:Use,curveStepBefore:zse},Gp=function(t){return t.x===+t.x&&t.y===+t.y},pf=function(t){return t.x},gf=function(t){return t.y},Rbe=function(t,r){if(Xe(t))return t;var n="curve".concat(Py(t));return(n==="curveMonotone"||n==="curveBump")&&r?cT["".concat(n).concat(r==="vertical"?"Y":"X")]:cT[n]||_y},Lbe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Rbe(n,l),f=u?a.filter(function(m){return Gp(m)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Gp(m)}):o,g=f.map(function(m,v){return lT(lT({},m),{},{base:p[v]})});return l==="vertical"?h=Lp().y(gf).x1(pf).x0(function(m){return m.base.x}):h=Lp().x(pf).y1(gf).y0(function(m){return m.base.y}),h.defined(Gp).curve(d),h(g)}return l==="vertical"&&be(o)?h=Lp().y(gf).x1(pf).x0(o):be(o)?h=Lp().x(pf).y1(gf).y0(o):h=k6().x(pf).y(gf),h.defined(Gp).curve(d),h(f)},Mv=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?Lbe(t):s;return R.createElement("path",tN({},Ve(t,!1),nv(t),{className:st("recharts-curve",r),d:o,ref:a}))},I8={exports:{}},Fbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bbe=Fbe,zbe=Bbe;function D8(){}function $8(){}$8.resetWarningCache=D8;var Ube=function(){function e(n,s,a,o,l,c){if(c!==zbe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$8,resetWarningCache:D8};return r.PropTypes=r,r};I8.exports=Ube();var Vbe=I8.exports;const Et=Dt(Vbe);var qbe=Object.getOwnPropertyNames,Wbe=Object.getOwnPropertySymbols,Hbe=Object.prototype.hasOwnProperty;function uT(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function Qp(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var a=s.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,s);return a.delete(r),a.delete(n),c}}function dT(e){return qbe(e).concat(Wbe(e))}var Kbe=Object.hasOwn||function(e,t){return Hbe.call(e,t)};function jc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Gbe="__v",Qbe="__o",Ybe="_owner",fT=Object.getOwnPropertyDescriptor,hT=Object.keys;function Xbe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Zbe(e,t){return jc(e.getTime(),t.getTime())}function Jbe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function e0e(e,t){return e===t}function mT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var t0e=jc;function r0e(e,t,r){var n=hT(e),s=n.length;if(hT(t).length!==s)return!1;for(;s-- >0;)if(!R8(e,t,r,n[s]))return!1;return!0}function vf(e,t,r){var n=dT(e),s=n.length;if(dT(t).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=n[s],!R8(e,t,r,a)||(o=fT(e,a),l=fT(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function n0e(e,t){return jc(e.valueOf(),t.valueOf())}function i0e(e,t){return e.source===t.source&&e.flags===t.flags}function pT(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function s0e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function a0e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function R8(e,t,r,n){return(n===Ybe||n===Qbe||n===Gbe)&&(e.$$typeof||t.$$typeof)?!0:Kbe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var o0e="[object Arguments]",l0e="[object Boolean]",c0e="[object Date]",u0e="[object Error]",d0e="[object Map]",f0e="[object Number]",h0e="[object Object]",m0e="[object RegExp]",p0e="[object Set]",g0e="[object String]",v0e="[object URL]",x0e=Array.isArray,gT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,vT=Object.assign,y0e=Object.prototype.toString.call.bind(Object.prototype.toString);function b0e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var x=typeof g;if(x!==typeof m)return!1;if(x!=="object")return x==="number"?o(g,m,v):x==="function"?s(g,m,v):!1;var y=g.constructor;if(y!==m.constructor)return!1;if(y===Object)return l(g,m,v);if(x0e(g))return t(g,m,v);if(gT!=null&&gT(g))return f(g,m,v);if(y===Date)return r(g,m,v);if(y===RegExp)return u(g,m,v);if(y===Map)return a(g,m,v);if(y===Set)return d(g,m,v);var b=y0e(g);return b===c0e?r(g,m,v):b===m0e?u(g,m,v):b===d0e?a(g,m,v):b===p0e?d(g,m,v):b===h0e?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,v):b===v0e?h(g,m,v):b===u0e?n(g,m,v):b===o0e?l(g,m,v):b===l0e||b===f0e||b===g0e?c(g,m,v):!1}}function j0e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?vf:Xbe,areDatesEqual:Zbe,areErrorsEqual:Jbe,areFunctionsEqual:e0e,areMapsEqual:n?uT(mT,vf):mT,areNumbersEqual:t0e,areObjectsEqual:n?vf:r0e,arePrimitiveWrappersEqual:n0e,areRegExpsEqual:i0e,areSetsEqual:n?uT(pT,vf):pT,areTypedArraysEqual:n?vf:s0e,areUrlsEqual:a0e};if(r&&(s=vT({},s,r(s))),t){var a=Qp(s.areArraysEqual),o=Qp(s.areMapsEqual),l=Qp(s.areObjectsEqual),c=Qp(s.areSetsEqual);s=vT({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function w0e(e){return function(t,r,n,s,a,o,l){return e(t,r,l)}}function N0e(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:s,meta:p,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var S0e=rl();rl({strict:!0});rl({circular:!0});rl({circular:!0,strict:!0});rl({createInternalComparator:function(){return jc}});rl({strict:!0,createInternalComparator:function(){return jc}});rl({circular:!0,createInternalComparator:function(){return jc}});rl({circular:!0,createInternalComparator:function(){return jc},strict:!0});function rl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,a=e.strict,o=a===void 0?!1:a,l=j0e(e),c=b0e(l),u=n?n(c):w0e(c);return N0e({circular:r,comparator:c,createState:s,equals:u,strict:o})}function C0e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function xT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):C0e(s)};requestAnimationFrame(n)}function rN(e){"@babel/helpers - typeof";return rN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rN(e)}function P0e(e){return T0e(e)||A0e(e)||_0e(e)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _0e(e,t){if(e){if(typeof e=="string")return yT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yT(e,t)}}function yT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T0e(e){if(Array.isArray(e))return e}function E0e(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=P0e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){xT(s.bind(null,u),c);return}s(c),xT(s.bind(null,u));return}rN(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){L8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L8(e,t,r){return t=O0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O0e(e){var t=M0e(e,"string");return Qh(t)==="symbol"?t:String(t)}function M0e(e,t){if(Qh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I0e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},D0e=function(t){return t},$0e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Qf=function(t,r){return Object.keys(r).reduce(function(n,s){return jT(jT({},n),{},L8({},s,t(s,r[s])))},{})},wT=function(t,r,n){return t.map(function(s){return"".concat($0e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function R0e(e,t){return B0e(e)||F0e(e,t)||F8(e,t)||L0e()}function L0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function B0e(e){if(Array.isArray(e))return e}function z0e(e){return q0e(e)||V0e(e)||F8(e)||U0e()}function U0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8(e,t){if(e){if(typeof e=="string")return nN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(e,t)}}function V0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q0e(e){if(Array.isArray(e))return nN(e)}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Iv=1e-4,B8=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},z8=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},NT=function(t,r){return function(n){var s=B8(t,r);return z8(s,n)}},W0e=function(t,r){return function(n){var s=B8(t,r),a=[].concat(z0e(s.map(function(o,l){return o*l}).slice(1)),[0]);return z8(a,n)}},ST=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=R0e(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=NT(s,o),h=NT(a,l),p=W0e(s,o),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var y=x>1?1:x,b=y,N=0;N<8;++N){var w=f(b)-y,S=p(b);if(Math.abs(w-y)<Iv||S<Iv)return h(b);b=g(b-w/S)}return h(b)};return m.isStepper=!1,m},H0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*a,m=h+(p-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Iv&&Math.abs(m)<Iv?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},K0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ST(s);case"spring":return H0e();default:if(s.split("(")[0]==="cubic-bezier")return ST(s)}return typeof s=="function"?s:null};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function CT(e){return Y0e(e)||Q0e(e)||U8(e)||G0e()}function G0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y0e(e){if(Array.isArray(e))return sN(e)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){iN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iN(e,t,r){return t=X0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X0e(e){var t=Z0e(e,"string");return Yh(t)==="symbol"?t:String(t)}function Z0e(e,t){if(Yh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J0e(e,t){return rje(e)||tje(e,t)||U8(e,t)||eje()}function eje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8(e,t){if(e){if(typeof e=="string")return sN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(e,t)}}function sN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rje(e){if(Array.isArray(e))return e}var Dv=function(t,r,n){return t+(r-t)*n},aN=function(t){var r=t.from,n=t.to;return r!==n},nje=function e(t,r,n){var s=Qf(function(a,o){if(aN(o)){var l=t(o.from,o.to,o.velocity),c=J0e(l,2),u=c[0],d=c[1];return Zr(Zr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Qf(function(a,o){return aN(o)?Zr(Zr({},o),{},{velocity:Dv(o.velocity,s[a].velocity,n),from:Dv(o.from,s[a].from,n)}):o},r):e(t,s,n-1)};const ije=function(e,t,r,n,s){var a=I0e(e,t),o=a.reduce(function(v,x){return Zr(Zr({},v),{},iN({},x,[e[x],t[x]]))},{}),l=a.reduce(function(v,x){return Zr(Zr({},v),{},iN({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Qf(function(x,y){return y.from},l)},p=function(){return!Object.values(l).filter(aN).length},g=function(x){u||(u=x);var y=x-u,b=y/r.dt;l=nje(r,l,b),s(Zr(Zr(Zr({},e),t),h())),u=x,p()||(c=requestAnimationFrame(f))},m=function(x){d||(d=x);var y=(x-d)/n,b=Qf(function(w,S){return Dv.apply(void 0,CT(S).concat([r(y)]))},o);if(s(Zr(Zr(Zr({},e),t),b)),y<1)c=requestAnimationFrame(f);else{var N=Qf(function(w,S){return Dv.apply(void 0,CT(S).concat([r(1)]))},o);s(Zr(Zr(Zr({},e),t),N))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}var sje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aje(e,t){if(e==null)return{};var r=oje(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oje(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function N0(e){return dje(e)||uje(e)||cje(e)||lje()}function lje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cje(e,t){if(e){if(typeof e=="string")return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oN(e,t)}}function uje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dje(e){if(Array.isArray(e))return oN(e)}function oN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){Tf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tf(e,t,r){return t=V8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V8(n.key),n)}}function mje(e,t,r){return t&&hje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V8(e){var t=pje(e,"string");return Ju(t)==="symbol"?t:String(t)}function pje(e,t){if(Ju(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ju(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lN(e,t)}function lN(e,t){return lN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lN(e,t)}function vje(e){var t=xje();return function(){var n=$v(e),s;if(t){var a=$v(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return cN(this,s)}}function cN(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uN(e)}function uN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xje(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $v(e){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(e)}var Ys=function(e){gje(r,e);var t=vje(r);function r(n,s){var a;fje(this,r),a=t.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(uN(a)),a.changeStyle=a.changeStyle.bind(uN(a)),!l||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),cN(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},cN(a);a.state={style:c?Tf({},c,u):u}}else a.state={style:{}};return a}return mje(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var p={style:c?Tf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(S0e(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:s.to;if(this.state&&h){var v={style:c?Tf({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(Zi(Zi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=ije(o,l,K0e(u),c,this.changeStyle),g=function(){a.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,x){if(x===0)return m;var y=v.duration,b=v.easing,N=b===void 0?"ease":b,w=v.style,S=v.properties,C=v.onAnimationEnd,k=x>0?o[x-1]:v,P=S||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(N0(m),[a.runJSAnimation.bind(a,{from:k.style,to:w,duration:y,easing:N}),y]);var A=wT(P,y,N),O=Zi(Zi(Zi({},k.style),w),{},{transition:A});return[].concat(N0(m),[O,y,C]).filter(D0e)};return this.manager.start([c].concat(N0(o.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=E0e());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=l?Tf({},l,c):c,v=wT(Object.keys(m),o,u);g.start([d,a,Zi(Zi({},m),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=aje(s,sje),u=j.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,x=g.className,y=j.cloneElement(p,Zi(Zi({},c),{},{style:Zi(Zi({},v),d),className:x}));return y};return u===1?f(j.Children.only(a)):R.createElement("div",null,j.Children.map(a,function(h){return f(h)}))}}]),r}(j.PureComponent);Ys.displayName="Animate";Ys.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ys.propTypes={from:Et.oneOfType([Et.object,Et.string]),to:Et.oneOfType([Et.object,Et.string]),attributeName:Et.string,duration:Et.number,begin:Et.number,easing:Et.oneOfType([Et.string,Et.func]),steps:Et.arrayOf(Et.shape({duration:Et.number.isRequired,style:Et.object.isRequired,easing:Et.oneOfType([Et.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Et.func]),properties:Et.arrayOf("string"),onAnimationEnd:Et.func})),children:Et.oneOfType([Et.node,Et.func]),isActive:Et.bool,canBegin:Et.bool,onAnimationEnd:Et.func,shouldReAnimate:Et.bool,onAnimationStart:Et.func,onAnimationReStart:Et.func};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(this,arguments)}function yje(e,t){return Nje(e)||wje(e,t)||jje(e,t)||bje()}function bje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jje(e,t){if(e){if(typeof e=="string")return _T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _T(e,t)}}function _T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Nje(e){if(Array.isArray(e))return e}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){Sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sje(e,t,r){return t=Cje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cje(e){var t=Pje(e,"string");return Xh(t)=="symbol"?t:t+""}function Pje(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ET=function(t,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},kje=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},_je={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RC=function(t){var r=TT(TT({},_je),t),n=j.useRef(),s=j.useState(-1),a=yje(s,2),o=a[0],l=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=st("recharts-rectangle",p);return y?R.createElement(Ys,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(N){var w=N.width,S=N.height,C=N.x,k=N.y;return R.createElement(Ys,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},R.createElement("path",Rv({},Ve(r,!0),{className:b,d:ET(C,k,w,S,h),ref:n})))}):R.createElement("path",Rv({},Ve(r,!0),{className:b,d:ET(c,u,d,f,h)}))},Aje=["points","className","baseLinePoints","connectNulls"];function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(this,arguments)}function Tje(e,t){if(e==null)return{};var r=Eje(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OT(e){return Dje(e)||Ije(e)||Mje(e)||Oje()}function Oje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mje(e,t){if(e){if(typeof e=="string")return dN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dN(e,t)}}function Ije(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dje(e){if(Array.isArray(e))return dN(e)}function dN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MT=function(t){return t&&t.x===+t.x&&t.y===+t.y},$je=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){MT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),MT(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Yf=function(t,r){var n=$je(t);r&&(n=[n.reduce(function(a,o){return[].concat(OT(a),OT(o))},[])]);var s=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Rje=function(t,r,n){var s=Yf(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Yf(r.reverse(),n).slice(1))},Lje=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,a=t.connectNulls,o=Tje(t,Aje);if(!r||!r.length)return null;var l=st("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=Rje(r,s,a);return R.createElement("g",{className:l},R.createElement("path",Qc({},Ve(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?R.createElement("path",Qc({},Ve(o,!0),{fill:"none",d:Yf(r,a)})):null,c?R.createElement("path",Qc({},Ve(o,!0),{fill:"none",d:Yf(s,a)})):null)}var d=Yf(r,a);return R.createElement("path",Qc({},Ve(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(this,arguments)}var qy=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,o=st("recharts-dot",a);return r===+r&&n===+n&&s===+s?R.createElement("circle",fN({},Ve(t,!1),nv(t),{className:o,cx:r,cy:n,r:s})):null};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}var Fje=["x","y","top","left","width","height","className"];function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(this,arguments)}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){zje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zje(e,t,r){return t=Uje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uje(e){var t=Vje(e,"string");return Zh(t)=="symbol"?t:t+""}function Vje(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qje(e,t){if(e==null)return{};var r=Wje(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Hje=function(t,r,n,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},Kje=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=qje(t,Fje),v=Bje({x:n,y:a,top:l,left:u,width:f,height:p},m);return!be(n)||!be(a)||!be(f)||!be(p)||!be(l)||!be(u)?null:R.createElement("path",hN({},Ve(v,!0),{className:st("recharts-cross",g),d:Hje(n,a,f,p,l,u)}))},Gje=Fy,Qje=t8,Yje=ra;function Xje(e,t){return e&&e.length?Gje(e,Yje(t),Qje):void 0}var Zje=Xje;const Jje=Dt(Zje);var ewe=Fy,twe=ra,rwe=r8;function nwe(e,t){return e&&e.length?ewe(e,twe(t),rwe):void 0}var iwe=nwe;const swe=Dt(iwe);var awe=["cx","cy","angle","ticks","axisLine"],owe=["ticks","tick","angle","tickFormatter","stroke"];function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(this,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){Wy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $T(e,t){if(e==null)return{};var r=lwe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W8(n.key),n)}}function uwe(e,t,r){return t&&RT(e.prototype,t),r&&RT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dwe(e,t,r){return t=Lv(t),fwe(e,q8()?Reflect.construct(t,r||[],Lv(e).constructor):t.apply(e,r))}function fwe(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hwe(e)}function hwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q8=function(){return!!e})()}function Lv(e){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(e)}function mwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mN(e,t)}function mN(e,t){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mN(e,t)}function Wy(e,t,r){return t=W8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W8(e){var t=pwe(e,"string");return ed(t)=="symbol"?t:t+""}function pwe(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hy=function(e){function t(){return cwe(this,t),dwe(this,t,arguments)}return mwe(t,e),uwe(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Gt(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=Jje(l,function(d){return d.coordinate||0}),u=swe(l,function(d){return d.coordinate||0});return{cx:s,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=$T(n,awe),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Gt(s,a,d[0],o),h=Gt(s,a,d[1],o),p=al(al(al({},Ve(u,!1)),{},{fill:"none"},Ve(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",Xf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=$T(s,owe),f=this.getTickTextAnchor(),h=Ve(d,!1),p=Ve(o,!1),g=a.map(function(m,v){var x=n.getTickValueCoord(m),y=al(al(al(al({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},x),{},{payload:m});return R.createElement(kt,Xf({className:st("recharts-polar-radius-axis-tick",T8(o)),key:"tick-".concat(m.coordinate)},Jl(n.props,m,v)),t.renderTickItem(o,y,c?c(m.value,v):m.value))});return R.createElement(kt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.axisLine,o=n.tick;return!s||!s.length?null:R.createElement(kt,{className:st("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Vr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return R.isValidElement(n)?o=R.cloneElement(n,s):Xe(n)?o=n(s):o=R.createElement(ec,Xf({},s,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(j.PureComponent);Wy(Hy,"displayName","PolarRadiusAxis");Wy(Hy,"axisType","radiusAxis");Wy(Hy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){Ky(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K8(n.key),n)}}function vwe(e,t,r){return t&&FT(e.prototype,t),r&&FT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xwe(e,t,r){return t=Fv(t),ywe(e,H8()?Reflect.construct(t,r||[],Fv(e).constructor):t.apply(e,r))}function ywe(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bwe(e)}function bwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H8=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(e)}function jwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pN(e,t)}function pN(e,t){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},pN(e,t)}function Ky(e,t,r){return t=K8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=wwe(e,"string");return td(t)=="symbol"?t:t+""}function wwe(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nwe=Math.PI/180,BT=1e-5,Gy=function(e){function t(){return gwe(this,t),xwe(this,t,arguments)}return jwe(t,e),vwe(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Gt(a,o,l,n.coordinate),h=Gt(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,a=Math.cos(-n.coordinate*Nwe),o;return a>BT?o=s==="outer"?"start":"end":a<-BT?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ol(ol({},Ve(this.props,!1)),{},{fill:"none"},Ve(l,!1));if(c==="circle")return R.createElement(qy,pl({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return Gt(s,a,o,h.coordinate)});return R.createElement(Lje,pl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,a=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=Ve(this.props,!1),f=Ve(o,!1),h=ol(ol({},d),{},{fill:"none"},Ve(l,!1)),p=a.map(function(g,m){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),y=ol(ol(ol({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return R.createElement(kt,pl({className:st("recharts-polar-angle-axis-tick",T8(o)),key:"tick-".concat(g.coordinate)},Jl(n.props,g,m)),l&&R.createElement("line",pl({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,y,c?c(g.value,m):g.value))});return R.createElement(kt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!s||!s.length?null:R.createElement(kt,{className:st("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,a){var o;return R.isValidElement(n)?o=R.cloneElement(n,s):Xe(n)?o=n(s):o=R.createElement(ec,pl({},s,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(j.PureComponent);Ky(Gy,"displayName","PolarAngleAxis");Ky(Gy,"axisType","angleAxis");Ky(Gy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Swe=X6,Cwe=Swe(Object.getPrototypeOf,Object),Pwe=Cwe,kwe=qa,_we=Pwe,Awe=Wa,Twe="[object Object]",Ewe=Function.prototype,Owe=Object.prototype,G8=Ewe.toString,Mwe=Owe.hasOwnProperty,Iwe=G8.call(Object);function Dwe(e){if(!Awe(e)||kwe(e)!=Twe)return!1;var t=_we(e);if(t===null)return!0;var r=Mwe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&G8.call(r)==Iwe}var $we=Dwe;const Rwe=Dt($we);var Lwe=qa,Fwe=Wa,Bwe="[object Boolean]";function zwe(e){return e===!0||e===!1||Fwe(e)&&Lwe(e)==Bwe}var Uwe=zwe;const Vwe=Dt(Uwe);function Jh(e){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(e)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(this,arguments)}function qwe(e,t){return Gwe(e)||Kwe(e,t)||Hwe(e,t)||Wwe()}function Wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hwe(e,t){if(e){if(typeof e=="string")return zT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zT(e,t)}}function zT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Gwe(e){if(Array.isArray(e))return e}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function VT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){Qwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qwe(e,t,r){return t=Ywe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ywe(e){var t=Xwe(e,"string");return Jh(t)=="symbol"?t:t+""}function Xwe(e,t){if(Jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qT=function(t,r,n,s,a){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},Zwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jwe=function(t){var r=VT(VT({},Zwe),t),n=j.useRef(),s=j.useState(-1),a=qwe(s,2),o=a[0],l=a[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=st("recharts-trapezoid",p);return x?R.createElement(Ys,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(b){var N=b.upperWidth,w=b.lowerWidth,S=b.height,C=b.x,k=b.y;return R.createElement(Ys,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},R.createElement("path",Bv({},Ve(r,!0),{className:y,d:qT(C,k,N,w,S),ref:n})))}):R.createElement("g",null,R.createElement("path",Bv({},Ve(r,!0),{className:y,d:qT(c,u,d,f,h)})))},eNe=["option","shapeType","propTransformer","activeClassName","isActive"];function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function tNe(e,t){if(e==null)return{};var r=rNe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){nNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nNe(e,t,r){return t=iNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iNe(e){var t=sNe(e,"string");return em(t)=="symbol"?t:t+""}function sNe(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aNe(e,t){return zv(zv({},t),e)}function oNe(e,t){return e==="symbols"}function HT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(RC,r);case"trapezoid":return R.createElement(Jwe,r);case"sector":return R.createElement(M8,r);case"symbols":if(oNe(t))return R.createElement(rC,r);break;default:return null}}function lNe(e){return j.isValidElement(e)?e.props:e}function Q8(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?aNe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=tNe(e,eNe),u;if(j.isValidElement(t))u=j.cloneElement(t,zv(zv({},c),lNe(t)));else if(Xe(t))u=t(c);else if(Rwe(t)&&!Vwe(t)){var d=s(t,c);u=R.createElement(HT,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(HT,{shapeType:r,elementProps:f})}return l?R.createElement(kt,{className:o},u):u}function Qy(e,t){return t!=null&&"trapezoids"in e.props}function Yy(e,t){return t!=null&&"sectors"in e.props}function tm(e,t){return t!=null&&"points"in e.props}function cNe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function uNe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function dNe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function fNe(e,t){var r;return Qy(e,t)?r=cNe:Yy(e,t)?r=uNe:tm(e,t)&&(r=dNe),r}function hNe(e,t){var r;return Qy(e,t)?r="trapezoids":Yy(e,t)?r="sectors":tm(e,t)&&(r="points"),r}function mNe(e,t){if(Qy(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Yy(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return tm(e,t)?t.payload:{}}function pNe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=hNe(r,t),a=mNe(r,t),o=n.filter(function(c,u){var d=rp(a,c),f=r.props[s].filter(function(g){var m=fNe(r,t);return m(g,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var vg;function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yc.apply(this,arguments)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){Di(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X8(n.key),n)}}function vNe(e,t,r){return t&&GT(e.prototype,t),r&&GT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xNe(e,t,r){return t=Uv(t),yNe(e,Y8()?Reflect.construct(t,r||[],Uv(e).constructor):t.apply(e,r))}function yNe(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bNe(e)}function bNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y8=function(){return!!e})()}function Uv(e){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uv(e)}function jNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gN(e,t)}function Di(e,t,r){return t=X8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8(e){var t=wNe(e,"string");return rd(t)=="symbol"?t:t+""}function wNe(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var na=function(e){function t(r){var n;return gNe(this,t),n=xNe(this,t,[r]),Di(n,"pieRef",null),Di(n,"sectorRefs",[]),Di(n,"id",Dd("recharts-pie-")),Di(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Xe(s)&&s()}),Di(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Xe(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return jNe(t,e),vNe(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ve(this.props,!1),f=Ve(o,!1),h=Ve(l,!1),p=o&&o.offsetRadius||20,g=n.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,y=Gt(m.cx,m.cy,m.outerRadius+p,x),b=qt(qt(qt(qt({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(y.x,m.cx)},y),N=qt(qt(qt(qt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[Gt(m.cx,m.cy,m.outerRadius,x),y]}),w=c;return rt(c)&&rt(u)?w="value":rt(c)&&(w=u),R.createElement(kt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,b,$r(m,w)))});return R.createElement(kt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var s=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?o:h,g=qt(qt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return R.createElement(kt,Yc({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Jl(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),R.createElement(Q8,Yc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,a=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return R.createElement(Ys,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],x=a&&a[0],y=x.startAngle;return a.forEach(function(b,N){var w=h&&h[N],S=N>0?pi(b,"paddingAngle",0):0;if(w){var C=ri(w.endAngle-w.startAngle,b.endAngle-b.startAngle),k=qt(qt({},b),{},{startAngle:y+S,endAngle:y+C(m)+S});v.push(k),y=k.endAngle}else{var P=b.endAngle,A=b.startAngle,O=ri(0,P-A),M=O(m),T=qt(qt({},b),{},{startAngle:y+S,endAngle:y+M+S});v.push(T),y=T.endAngle}}),R.createElement(kt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&s&&s.length&&(!o||!rp(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,a=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!be(u)||!be(d)||!be(f)||!be(h))return null;var m=st("recharts-pie",l);return R.createElement(kt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Vr.renderCallByParent(this.props,null,!1),(!p||g)&&Ea.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,a){if(R.isValidElement(n))return R.cloneElement(n,s);if(Xe(n))return n(s);var o=st("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return R.createElement(Mv,Yc({},s,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,a){if(R.isValidElement(n))return R.cloneElement(n,s);var o=a;if(Xe(n)&&(o=n(s),R.isValidElement(o)))return o;var l=st("recharts-pie-label-text",typeof n!="boolean"&&!Xe(n)?n.className:"");return R.createElement(ec,Yc({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(j.PureComponent);vg=na;Di(na,"displayName","Pie");Di(na,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!zs.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Di(na,"parseDeltaAngle",function(e,t){var r=kn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Di(na,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ve(e,!1),s=gi(r,Xm);return t&&t.length?t.map(function(a,o){return qt(qt(qt({payload:a},n),a),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(a){return qt(qt({},n),a.props)}):[]});Di(na,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,a=t.height,o=A8(s,a),l=n+_n(e.cx,s,s/2),c=r+_n(e.cy,a,a/2),u=_n(e.innerRadius,o,0),d=_n(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Di(na,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?qt(qt({},t.type.defaultProps),t.props):t.props,s=vg.getRealPieData(n);if(!s||!s.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=vg.parseCoordinateOfPie(n,r),m=vg.parseDeltaAngle(o,l),v=Math.abs(m),x=u;rt(u)&&rt(f)?(ms(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):rt(u)&&(ms(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=s.filter(function(k){return $r(k,x,0)!==0}).length,b=(v>=360?y:y-1)*c,N=v-y*p-b,w=s.reduce(function(k,P){var A=$r(P,x,0);return k+(be(A)?A:0)},0),S;if(w>0){var C;S=s.map(function(k,P){var A=$r(k,x,0),O=$r(k,d,P),M=(be(A)?A:0)/w,T;P?T=C.endAngle+kn(m)*c*(A!==0?1:0):T=o;var E=T+kn(m)*((A!==0?p:0)+M*N),I=(T+E)/2,L=(g.innerRadius+g.outerRadius)/2,q=[{name:O,value:A,payload:k,dataKey:x,type:h}],_=Gt(g.cx,g.cy,L,I);return C=qt(qt(qt({percent:M,cornerRadius:a,name:O,tooltipPayload:q,midAngle:I,middleRadius:L,tooltipPosition:_},k),g),{},{value:$r(k,x),startAngle:T,endAngle:E,payload:k,paddingAngle:kn(m)*c}),C})}return qt(qt({},g),{},{sectors:S,data:s})});var NNe=Math.ceil,SNe=Math.max;function CNe(e,t,r,n){for(var s=-1,a=SNe(NNe((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=e,e+=r;return o}var PNe=CNe,kNe=gB,QT=1/0,_Ne=17976931348623157e292;function ANe(e){if(!e)return e===0?e:0;if(e=kNe(e),e===QT||e===-QT){var t=e<0?-1:1;return t*_Ne}return e===e?e:0}var Z8=ANe,TNe=PNe,ENe=Oy,S0=Z8;function ONe(e){return function(t,r,n){return n&&typeof n!="number"&&ENe(t,r,n)&&(r=n=void 0),t=S0(t),r===void 0?(r=t,t=0):r=S0(r),n=n===void 0?t<r?1:-1:S0(n),TNe(t,r,n,e)}}var MNe=ONe,INe=MNe,DNe=INe(),$Ne=DNe;const Vv=Dt($Ne);function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function XT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){J8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J8(e,t,r){return t=RNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RNe(e){var t=LNe(e,"string");return rm(t)=="symbol"?t:t+""}function LNe(e,t){if(rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FNe=["Webkit","Moz","O","ms"],BNe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=FNe.reduce(function(a,o){return XT(XT({},a),{},J8({},o+n,r))},{});return s[t]=r,s};function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(this,arguments)}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){Xn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tz(n.key),n)}}function UNe(e,t,r){return t&&JT(e.prototype,t),r&&JT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VNe(e,t,r){return t=Wv(t),qNe(e,ez()?Reflect.construct(t,r||[],Wv(e).constructor):t.apply(e,r))}function qNe(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WNe(e)}function WNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ez(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ez=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(e)}function HNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vN(e,t)}function vN(e,t){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vN(e,t)}function Xn(e,t,r){return t=tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=KNe(e,"string");return nd(t)=="symbol"?t:t+""}function KNe(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GNe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Kf().domain(Vv(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},eE=function(t){return t.changedTouches&&!!t.changedTouches.length},id=function(e){function t(r){var n;return zNe(this,t),n=VNe(this,t,[r]),Xn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Xn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Xn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Xn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Xn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Xn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Xn(n,"handleSlideDragStart",function(s){var a=eE(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return HNe(t,e),UNe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=$r(a[n],l,n);return Xe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var v=this.getIndex({startX:o+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=eE(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),x[o]=u+y;var b=this.getIndex(x),N=b.startIndex,w=b.endIndex,S=function(){var k=v.length-1;return o==="startX"&&(l>c?N%m===0:w%m===0)||l<c&&w===k||o==="endX"&&(l>c?w%m===0:N%m===0)||l>c&&w===k};this.setState(Xn(Xn({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&S()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(Xn({},s,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?R.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),y=C0(C0({},Ve(this.props,!1)),{},{x,y:u,width:d,height:f}),b=p||"Min value: ".concat((a=g[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return R.createElement(kt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return R.createElement(kt,{className:"recharts-brush-texts"},R.createElement(ec,qv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(s)),R.createElement(ec,qv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!be(l)||!be(c)||!be(u)||!be(d)||u<=0||d<=0)return null;var b=st("recharts-brush",a),N=R.Children.count(o)===1,w=BNe("userSelect","none");return R.createElement(kt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return R.isValidElement(n)?a=R.cloneElement(n,s):Xe(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return C0({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?GNe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(j.PureComponent);Xn(id,"displayName","Brush");Xn(id,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QNe=cC;function YNe(e,t){var r;return QNe(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var XNe=YNe,ZNe=V6,JNe=ra,e1e=XNe,t1e=Qn,r1e=Oy;function n1e(e,t,r){var n=t1e(e)?ZNe:e1e;return r&&r1e(e,t,r)&&(t=void 0),n(e,JNe(t))}var i1e=n1e;const s1e=Dt(i1e);var Vs=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},tE=dB;function a1e(e,t,r){t=="__proto__"&&tE?tE(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var o1e=a1e,l1e=o1e,c1e=cB,u1e=ra;function d1e(e,t){var r={};return t=u1e(t),c1e(e,function(n,s,a){l1e(r,s,t(n,s,a))}),r}var f1e=d1e;const h1e=Dt(f1e);function m1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var p1e=m1e,g1e=cC;function v1e(e,t){var r=!0;return g1e(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var x1e=v1e,y1e=p1e,b1e=x1e,j1e=ra,w1e=Qn,N1e=Oy;function S1e(e,t,r){var n=w1e(e)?y1e:b1e;return r&&N1e(e,t,r)&&(t=void 0),n(e,j1e(t))}var C1e=S1e;const rz=Dt(C1e);var P1e=["x","y"];function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(this,arguments)}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){k1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k1e(e,t,r){return t=_1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _1e(e){var t=A1e(e,"string");return nm(t)=="symbol"?t:t+""}function A1e(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T1e(e,t){if(e==null)return{};var r=E1e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O1e(e,t){var r=e.x,n=e.y,s=T1e(e,P1e),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return xf(xf(xf(xf(xf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function nE(e){return R.createElement(Q8,xN({shapeType:"rectangle",propTransformer:O1e,activeClassName:"recharts-active-bar"},e))}var M1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,s):(a||rc(),r)}},I1e=["value","background"],nz;function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function D1e(e,t){if(e==null)return{};var r=$1e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(this,arguments)}function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sz(n.key),n)}}function L1e(e,t,r){return t&&sE(e.prototype,t),r&&sE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F1e(e,t,r){return t=Kv(t),B1e(e,iz()?Reflect.construct(t,r||[],Kv(e).constructor):t.apply(e,r))}function B1e(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(e)}function z1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!e})()}function Kv(e){return Kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kv(e)}function U1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yN(e,t)}function yN(e,t){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},yN(e,t)}function wo(e,t,r){return t=sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e){var t=V1e(e,"string");return sd(t)=="symbol"?t:t+""}function V1e(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wc=function(e){function t(){var r;R1e(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=F1e(this,t,[].concat(s)),wo(r,"state",{isAnimationFinished:!1}),wo(r,"id",Dd("recharts-bar-")),wo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),wo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return U1e(t,e),L1e(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ve(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=wr(wr(wr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return R.createElement(kt,Hv({className:"recharts-bar-rectangle"},Jl(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(nE,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return R.createElement(Ys,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=a.map(function(v,x){var y=h&&h[x];if(y){var b=ri(y.x,v.x),N=ri(y.y,v.y),w=ri(y.width,v.width),S=ri(y.height,v.height);return wr(wr({},v),{},{x:b(g),y:N(g),width:w(g),height:S(g)})}if(o==="horizontal"){var C=ri(0,v.height),k=C(g);return wr(wr({},v),{},{y:v.y+v.height-k,height:k})}var P=ri(0,v.width),A=P(g);return wr(wr({},v),{},{width:A})});return R.createElement(kt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!rp(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=Ve(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=D1e(u,I1e);if(!f)return null;var p=wr(wr(wr(wr(wr({},h),{},{fill:"#eee"},f),c),Jl(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(nE,Hv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=gi(d,np);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:$r(v,x)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(kt,g,f.map(function(m){return R.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=st("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,N=y||b,w=rt(m)?this.id:m;return R.createElement(kt,{className:x},y||b?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(w)},R.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,R.createElement(kt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!p||v)&&Ea.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(j.PureComponent);nz=wc;wo(wc,"displayName","Bar");wo(wc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zs.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wo(wc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Nye(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?wr(wr({},m),r.props):r.props,x=v.dataKey,y=v.children,b=v.minPointSize,N=g==="horizontal"?o:a,w=u?N.scale.domain():null,S=Tye({numericAxis:N}),C=gi(y,Xm),k=f.map(function(P,A){var O,M,T,E,I,L;u?O=Sye(u[d+A],w):(O=$r(P,x),Array.isArray(O)||(O=[S,O]));var q=M1e(b,nz.defaultProps.minPointSize)(O[1],A);if(g==="horizontal"){var _,$=[o.scale(O[0]),o.scale(O[1])],G=$[0],re=$[1];M=G2({axis:a,ticks:l,bandSize:s,offset:p.offset,entry:P,index:A}),T=(_=re??G)!==null&&_!==void 0?_:void 0,E=p.size;var B=G-re;if(I=Number.isNaN(B)?0:B,L={x:M,y:o.y,width:E,height:o.height},Math.abs(q)>0&&Math.abs(I)<Math.abs(q)){var ae=kn(I||q)*(Math.abs(q)-Math.abs(I));T-=ae,I+=ae}}else{var Se=[a.scale(O[0]),a.scale(O[1])],Ce=Se[0],Fe=Se[1];if(M=Ce,T=G2({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:P,index:A}),E=Fe-Ce,I=p.size,L={x:a.x,y:T,width:a.width,height:I},Math.abs(q)>0&&Math.abs(E)<Math.abs(q)){var ye=kn(E||q)*(Math.abs(q)-Math.abs(E));E+=ye}}return wr(wr(wr({},P),{},{x:M,y:T,width:E,height:I,value:u?O:O[1],payload:P,background:L},C&&C[A]&&C[A].props),{},{tooltipPayload:[k8(r,P)],tooltipPosition:{x:M+E/2,y:T+I/2}})});return wr({data:k,layout:g},h)});function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function q1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,az(n.key),n)}}function W1e(e,t,r){return t&&aE(e.prototype,t),r&&aE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(n){Xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xy(e,t,r){return t=az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=H1e(e,"string");return im(t)=="symbol"?t:t+""}function H1e(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oz=function(t,r,n,s,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ei(u,wc);return d.reduce(function(p,g){var m=r[g],v=m.orientation,x=m.domain,y=m.padding,b=y===void 0?{}:y,N=m.mirror,w=m.reversed,S="".concat(v).concat(N?"Mirror":""),C,k,P,A,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var M=x[1]-x[0],T=1/0,E=m.categoricalDomain.sort();if(E.forEach(function(Se,Ce){Ce>0&&(T=Math.min((Se||0)-(E[Ce-1]||0),T))}),Number.isFinite(T)){var I=T/M,L=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(C=I*L/2),m.padding==="no-gap"){var q=_n(t.barCategoryGap,I*L),_=I*L/2;C=_-q-(_-q)/L*q}}}s==="xAxis"?k=[n.left+(b.left||0)+(C||0),n.left+n.width-(b.right||0)-(C||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(C||0),n.top+n.height-(b.bottom||0)-(C||0)]:k=m.range,w&&(k=[k[1],k[0]]);var $=N8(m,a,h),G=$.scale,re=$.realScaleType;G.domain(x).range(k),S8(G);var B=C8(G,ns(ns({},m),{},{realScaleType:re}));s==="xAxis"?(O=v==="top"&&!N||v==="bottom"&&N,P=n.left,A=f[S]-O*m.height):s==="yAxis"&&(O=v==="left"&&!N||v==="right"&&N,P=f[S]-O*m.width,A=n.top);var ae=ns(ns(ns({},m),B),{},{realScaleType:re,x:P,y:A,scale:G,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return ae.bandSize=Tv(ae,B),!m.hide&&s==="xAxis"?f[S]+=(O?-1:1)*ae.height:m.hide||(f[S]+=(O?-1:1)*ae.width),ns(ns({},p),{},Xy({},g,ae))},{})},lz=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},K1e=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return lz({x:r,y:n},{x:s,y:a})},cz=function(){function e(t){q1e(this,e),this.scale=t}return W1e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Xy(cz,"EPS",1e-4);var LC=function(t){var r=Object.keys(t).reduce(function(n,s){return ns(ns({},n),{},Xy({},s,cz.create(t[s])))},{});return ns(ns({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return h1e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return rz(s,function(a,o){return r[o].isInRange(a)})}})};function G1e(e){return(e%180+180)%180}var Q1e=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=G1e(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Y1e=ra,X1e=Ym,Z1e=Ty;function J1e(e){return function(t,r,n){var s=Object(t);if(!X1e(t)){var a=Y1e(r);t=Z1e(t),r=function(l){return a(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[a?t[o]:o]:void 0}}var eSe=J1e,tSe=Z8;function rSe(e){var t=tSe(e),r=t%1;return t===t?r?t-r:t:0}var nSe=rSe,iSe=nB,sSe=ra,aSe=nSe,oSe=Math.max;function lSe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:aSe(r);return s<0&&(s=oSe(n+s,0)),iSe(e,sSe(t),s)}var cSe=lSe,uSe=eSe,dSe=cSe,fSe=uSe(dSe),hSe=fSe;const mSe=Dt(hSe);var pSe=une(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),FC=j.createContext(void 0),BC=j.createContext(void 0),uz=j.createContext(void 0),dz=j.createContext({}),fz=j.createContext(void 0),hz=j.createContext(0),mz=j.createContext(0),lE=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=pSe(a);return R.createElement(FC.Provider,{value:n},R.createElement(BC.Provider,{value:s},R.createElement(dz.Provider,{value:a},R.createElement(uz.Provider,{value:d},R.createElement(fz.Provider,{value:o},R.createElement(hz.Provider,{value:u},R.createElement(mz.Provider,{value:c},l)))))))},gSe=function(){return j.useContext(fz)},pz=function(t){var r=j.useContext(FC);r==null&&rc();var n=r[t];return n==null&&rc(),n},vSe=function(){var t=j.useContext(FC);return oo(t)},xSe=function(){var t=j.useContext(BC),r=mSe(t,function(n){return rz(n.domain,Number.isFinite)});return r||oo(t)},gz=function(t){var r=j.useContext(BC);r==null&&rc();var n=r[t];return n==null&&rc(),n},ySe=function(){var t=j.useContext(uz);return t},bSe=function(){return j.useContext(dz)},zC=function(){return j.useContext(mz)},UC=function(){return j.useContext(hz)};function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function jSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xz(n.key),n)}}function NSe(e,t,r){return t&&wSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SSe(e,t,r){return t=Gv(t),CSe(e,vz()?Reflect.construct(t,r||[],Gv(e).constructor):t.apply(e,r))}function CSe(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PSe(e)}function PSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vz=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gv(e)}function kSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bN(e,t)}function bN(e,t){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bN(e,t)}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){VC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VC(e,t,r){return t=xz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xz(e){var t=_Se(e,"string");return ad(t)=="symbol"?t:t+""}function _Se(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ASe(e,t){return MSe(e)||OSe(e,t)||ESe(e,t)||TSe()}function TSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ESe(e,t){if(e){if(typeof e=="string")return dE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dE(e,t)}}function dE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function MSe(e){if(Array.isArray(e))return e}function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jN.apply(this,arguments)}var ISe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):Xe(t)?n=t(r):n=R.createElement("line",jN({},r,{className:"recharts-reference-line-line"})),n},DSe=function(t,r,n,s,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(Vs(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var x=u.x,y=t.x.apply(x,{position:o});if(Vs(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?b.reverse():b}if(s){var N=u.segment,w=N.map(function(S){return t.apply(S,{position:o})});return Vs(u,"discard")&&s1e(w,function(S){return!t.isInRange(S)})?null:w}return null};function $Se(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=gSe(),d=pz(s),f=gz(a),h=ySe();if(!u||!h)return null;ms(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=LC({x:d.scale,y:f.scale}),g=Lr(t),m=Lr(r),v=n&&n.length===2,x=DSe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var y=ASe(x,2),b=y[0],N=b.x,w=b.y,S=y[1],C=S.x,k=S.y,P=Vs(e,"hidden")?"url(#".concat(u,")"):void 0,A=uE(uE({clipPath:P},Ve(e,!0)),{},{x1:N,y1:w,x2:C,y2:k});return R.createElement(kt,{className:st("recharts-reference-line",l)},ISe(o,A),Vr.renderCallByParent(e,K1e({x1:N,y1:w,x2:C,y2:k})))}var qC=function(e){function t(){return jSe(this,t),SSe(this,t,arguments)}return kSe(t,e),NSe(t,[{key:"render",value:function(){return R.createElement($Se,this.props)}}])}(R.Component);VC(qC,"displayName","ReferenceLine");VC(qC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wN.apply(this,arguments)}function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){Zy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bz(n.key),n)}}function FSe(e,t,r){return t&&LSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BSe(e,t,r){return t=Qv(t),zSe(e,yz()?Reflect.construct(t,r||[],Qv(e).constructor):t.apply(e,r))}function zSe(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return USe(e)}function USe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yz=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(e)}function VSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NN(e,t)}function NN(e,t){return NN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NN(e,t)}function Zy(e,t,r){return t=bz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(e){var t=qSe(e,"string");return od(t)=="symbol"?t:t+""}function qSe(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WSe=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,o=LC({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Vs(t,"discard")&&!o.isInRange(l)?null:l},Jy=function(e){function t(){return RSe(this,t),BSe(this,t,arguments)}return VSe(t,e),FSe(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Lr(s),d=Lr(a);if(ms(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=WSe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,x=Vs(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=hE(hE({clipPath:x},Ve(this.props,!0)),{},{cx:h,cy:p});return R.createElement(kt,{className:st("recharts-reference-dot",v)},t.renderDot(m,y),Vr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(R.Component);Zy(Jy,"displayName","ReferenceDot");Zy(Jy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Zy(Jy,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Xe(e)?r=e(t):r=R.createElement(qy,wN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SN.apply(this,arguments)}function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wz(n.key),n)}}function GSe(e,t,r){return t&&KSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QSe(e,t,r){return t=Yv(t),YSe(e,jz()?Reflect.construct(t,r||[],Yv(e).constructor):t.apply(e,r))}function YSe(e,t){if(t&&(ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XSe(e)}function XSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jz=function(){return!!e})()}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(e)}function ZSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CN(e,t)}function CN(e,t){return CN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CN(e,t)}function eb(e,t,r){return t=wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=JSe(e,"string");return ld(t)=="symbol"?t:t+""}function JSe(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eCe=function(t,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=LC({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Vs(a,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:lz(p,g)},tb=function(e){function t(){return HSe(this,t),QSe(this,t,arguments)}return ZSe(t,e),GSe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ms(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Lr(s),h=Lr(a),p=Lr(o),g=Lr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=eCe(f,h,p,g,this.props);if(!v&&!m)return null;var x=Vs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(kt,{className:st("recharts-reference-area",c)},t.renderRect(m,pE(pE({clipPath:x},Ve(this.props,!0)),v)),Vr.renderCallByParent(this.props,v))}}])}(R.Component);eb(tb,"displayName","ReferenceArea");eb(tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});eb(tb,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):Xe(e)?r=e(t):r=R.createElement(RC,SN({},t,{className:"recharts-reference-area-rect"})),r});function Nz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function tCe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Q1e(n,r)}function rCe(e,t,r){var n=r==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function Xv(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function nCe(e,t){return Nz(e,t+1)}function iCe(e,t,r,n,s){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:Nz(n,u)};var m=c,v,x=function(){return v===void 0&&(v=r(g,m)),v},y=g.coordinate,b=c===0||Xv(e,y,x,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(x()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){sCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sCe(e,t,r){return t=aCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aCe(e){var t=oCe(e,"string");return sm(t)=="symbol"?t:t+""}function oCe(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lCe(e,t,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var p=a[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var v=e*(p.coordinate+e*m()/2-c);a[h]=p=dn(dn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[h]=p=dn(dn({},p),{},{tickCoord:p.coordinate});var x=Xv(e,p.tickCoord,m,l,c);x&&(c=p.tickCoord-e*(m()/2+s),a[h]=dn(dn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function cCe(e,t,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=dn(dn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Xv(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+s),o[l-1]=dn(dn({},d),{},{isShow:!0}))}for(var g=a?l-1:l,m=function(y){var b=o[y],N,w=function(){return N===void 0&&(N=r(b,y)),N};if(y===0){var S=e*(b.coordinate-e*w()/2-c);o[y]=b=dn(dn({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[y]=b=dn(dn({},b),{},{tickCoord:b.coordinate});var C=Xv(e,b.tickCoord,w,c,u);C&&(c=b.tickCoord+e*(w()/2+s),o[y]=dn(dn({},b),{},{isShow:!0}))},v=0;v<g;v++)m(v);return o}function WC(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(be(c)||zs.isSsr)return nCe(s,typeof c=="number"&&be(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Hf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,N){var w=Xe(u)?u(b.value,N):b.value;return p==="width"?tCe(Hf(w,{fontSize:t,letterSpacing:r}),g,f):Hf(w,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?kn(s[1].coordinate-s[0].coordinate):1,x=rCe(a,v,p);return c==="equidistantPreserveStart"?iCe(v,x,m,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=cCe(v,x,m,s,o,c==="preserveStartEnd"):h=lCe(v,x,m,s,o),h.filter(function(y){return y.isShow}))}var uCe=["viewBox"],dCe=["viewBox"],fCe=["ticks"];function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xc.apply(this,arguments)}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(n){HC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0(e,t){if(e==null)return{};var r=hCe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cz(n.key),n)}}function pCe(e,t,r){return t&&xE(e.prototype,t),r&&xE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gCe(e,t,r){return t=Zv(t),vCe(e,Sz()?Reflect.construct(t,r||[],Zv(e).constructor):t.apply(e,r))}function vCe(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xCe(e)}function xCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sz=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(e)}function yCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},PN(e,t)}function HC(e,t,r){return t=Cz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cz(e){var t=bCe(e,"string");return cd(t)=="symbol"?t:t+""}function bCe(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud=function(e){function t(r){var n;return mCe(this,t),n=gCe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return yCe(t,e),pCe(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=P0(n,uCe),l=this.props,c=l.viewBox,u=P0(l,dCe);return!du(a,c)||!du(o,u)||!du(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,g,m,v,x,y,b=f?-1:1,N=n.tickSize||d,w=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=o+ +!f*c,m=v-b*N,y=m-b*h,x=w;break;case"left":m=v=n.coordinate,g=a+ +!f*l,p=g-b*N,x=p-b*h,y=w;break;case"right":m=v=n.coordinate,g=a+ +f*l,p=g+b*N,x=p+b*h,y=w;break;default:p=g=n.coordinate,v=o+ +f*c,m=v+b*N,y=m+b*h,x=w;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=yn(yn(yn({},Ve(this.props,!1)),Ve(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=yn(yn({},f),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=yn(yn({},f),{},{x1:s+p*o,y1:a,x2:s+p*o,y2:a+l})}return R.createElement("line",Xc({},f,{className:st("recharts-cartesian-axis-line",pi(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=WC(yn(yn({},this.props),{},{ticks:n}),s,a),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Ve(this.props,!1),x=Ve(d,!1),y=yn(yn({},v),{},{fill:"none"},Ve(c,!1)),b=p.map(function(N,w){var S=o.getTickLineCoord(N),C=S.line,k=S.tick,P=yn(yn(yn(yn({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),k),{},{index:w,payload:N,visibleTicksCount:p.length,tickFormatter:f});return R.createElement(kt,Xc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Jl(o.props,N,w)),c&&R.createElement("line",Xc({},y,C,{className:st("recharts-cartesian-axis-tick-line",pi(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Xe(f)?f(N.value,w):N.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=P0(f,fCe),g=h;return Xe(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:R.createElement(kt,{className:st("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return R.isValidElement(n)?o=R.cloneElement(n,s):Xe(n)?o=n(s):o=R.createElement(ec,Xc({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(j.Component);HC(Ud,"displayName","CartesianAxis");HC(Ud,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jCe=["x1","y1","x2","y2","key"],wCe=["offset"];function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){NCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NCe(e,t,r){return t=SCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SCe(e){var t=CCe(e,"string");return nc(t)=="symbol"?t:t+""}function CCe(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}function bE(e,t){if(e==null)return{};var r=PCe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kCe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Pz(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(Xe(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=bE(t,jCe),u=Ve(c,!1);u.offset;var d=bE(u,wCe);r=R.createElement("line",Nl({},d,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function _Ce(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=hn(hn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Pz(s,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ACe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=hn(hn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Pz(s,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function TCe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?s+o-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return R.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ECe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return R.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var OCe=function(t,r){var n=t.xAxis,s=t.width,a=t.height,o=t.offset;return w8(WC(hn(hn(hn({},Ud.defaultProps),n),{},{ticks:Na(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},MCe=function(t,r){var n=t.yAxis,s=t.width,a=t.height,o=t.offset;return w8(WC(hn(hn(hn({},Ud.defaultProps),n),{},{ticks:Na(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},Ec={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Jv(e){var t,r,n,s,a,o,l=zC(),c=UC(),u=bSe(),d=hn(hn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ec.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ec.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ec.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Ec.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Ec.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ec.verticalFill,x:be(e.x)?e.x:u.left,y:be(e.y)?e.y:u.top,width:be(e.width)?e.width:u.width,height:be(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=vSe(),b=xSe();if(!be(p)||p<=0||!be(g)||g<=0||!be(f)||f!==+f||!be(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||OCe,w=d.horizontalCoordinatesGenerator||MCe,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&Xe(w)){var k=v&&v.length,P=w({yAxis:b?hn(hn({},b),{},{ticks:k?v:b.ticks}):void 0,width:l,height:c,offset:u},k?!0:m);ms(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nc(P),"]")),Array.isArray(P)&&(S=P)}if((!C||!C.length)&&Xe(N)){var A=x&&x.length,O=N({xAxis:y?hn(hn({},y),{},{ticks:A?x:y.ticks}):void 0,width:l,height:c,offset:u},A?!0:m);ms(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nc(O),"]")),Array.isArray(O)&&(C=O)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(kCe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(_Ce,Nl({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:b})),R.createElement(ACe,Nl({},d,{offset:u,verticalPoints:C,xAxis:y,yAxis:b})),R.createElement(TCe,Nl({},d,{horizontalPoints:S})),R.createElement(ECe,Nl({},d,{verticalPoints:C})))}Jv.displayName="CartesianGrid";var ICe=["type","layout","connectNulls","ref"],DCe=["key"];function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function jE(e,t){if(e==null)return{};var r=$Ce(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Ce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(this,arguments)}function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){is(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oc(e){return BCe(e)||FCe(e)||LCe(e)||RCe()}function RCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(e,t){if(e){if(typeof e=="string")return kN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kN(e,t)}}function FCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BCe(e){if(Array.isArray(e))return kN(e)}function kN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_z(n.key),n)}}function UCe(e,t,r){return t&&NE(e.prototype,t),r&&NE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VCe(e,t,r){return t=ex(t),qCe(e,kz()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function qCe(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WCe(e)}function WCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function HCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},_N(e,t)}function is(e,t,r){return t=_z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=KCe(e,"string");return ud(t)=="symbol"?t:t+""}function KCe(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ic=function(e){function t(){var r;zCe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=VCe(this,t,[].concat(s)),is(r,"state",{isAnimationFinished:!0,totalLength:0}),is(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),is(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(Oc(c.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Oc(t.repeat(c,d)),Oc(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),is(r,"id",Dd("recharts-line-")),is(r,"pathRef",function(o){r.mainCurve=o}),is(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),is(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return HCe(t,e),UCe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=gi(d,np);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:$r(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(kt,p,f.map(function(g){return R.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ve(this.props,!1),h=Ve(c,!0),p=u.map(function(m,v){var x=Yn(Yn(Yn({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return R.createElement(kt,Zf({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=jE(l,ICe),h=Yn(Yn(Yn({},Ve(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return R.createElement(Mv,Zf({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,v=o.height,x=this.state,y=x.prevPoints,b=x.totalLength;return R.createElement(Ys,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var w=N.t;if(y){var S=y.length/l.length,C=l.map(function(M,T){var E=Math.floor(T*S);if(y[E]){var I=y[E],L=ri(I.x,M.x),q=ri(I.y,M.y);return Yn(Yn({},M),{},{x:L(w),y:q(w)})}if(g){var _=ri(m*2,M.x),$=ri(v/2,M.y);return Yn(Yn({},M),{},{x:_(w),y:$(w)})}return Yn(Yn({},M),{},{x:M.x,y:M.y})});return a.renderCurveStatically(C,n,s)}var k=ri(0,b),P=k(w),A;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});A=a.getStrokeDasharray(P,b,O)}else A=a.generateSimpleStrokeDasharray(b,P);return a.renderCurveStatically(l,n,s,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!rp(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,g=s.height,m=s.isAnimationActive,v=s.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,b=st("recharts-line",c),N=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,S=N||w,C=rt(v)?this.id:v,k=(n=Ve(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=k.r,A=P===void 0?3:P,O=k.strokeWidth,M=O===void 0?2:O,T=gie(o)?o:{},E=T.clipDot,I=E===void 0?!0:E,L=A*2+M;return R.createElement(kt,{className:b},N||w?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(C)},R.createElement("rect",{x:N?h:h-p/2,y:w?f:f-g/2,width:N?p:p*2,height:w?g:g*2})),!I&&R.createElement("clipPath",{id:"clipPath-dots-".concat(C)},R.createElement("rect",{x:h-L/2,y:f-L/2,width:p+L,height:g+L}))):null,!y&&this.renderCurve(S,C),this.renderErrorBar(S,C),(y||o)&&this.renderDots(S,I,C),(!m||x)&&Ea.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var a=n.length%2!==0?[].concat(Oc(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(Oc(o),Oc(a));return o}},{key:"renderDotItem",value:function(n,s){var a;if(R.isValidElement(n))a=R.cloneElement(n,s);else if(Xe(n))a=n(s);else{var o=s.key,l=jE(s,DCe),c=st("recharts-line-dot",typeof n!="boolean"?n.className:"");a=R.createElement(qy,Zf({key:o},l,{className:c}))}return a}}])}(j.PureComponent);is(ic,"displayName","Line");is(ic,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!zs.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});is(ic,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=$r(h,o);return d==="horizontal"?{x:K2({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:rt(g)?null:n.scale(g),value:g,payload:h}:{x:rt(g)?null:r.scale(g),y:K2({axis:n,ticks:a,bandSize:l,entry:h,index:p}),value:g,payload:h}});return Yn({points:f,layout:d},u)});function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function GCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ez(n.key),n)}}function YCe(e,t,r){return t&&QCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XCe(e,t,r){return t=tx(t),ZCe(e,Az()?Reflect.construct(t,r||[],tx(e).constructor):t.apply(e,r))}function ZCe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JCe(e)}function JCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function tx(e){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(e)}function ePe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}function AN(e,t){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},AN(e,t)}function Tz(e,t,r){return t=Ez(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ez(e){var t=tPe(e,"string");return dd(t)=="symbol"?t:t+""}function tPe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TN.apply(this,arguments)}function rPe(e){var t=e.xAxisId,r=zC(),n=UC(),s=pz(t);return s==null?null:R.createElement(Ud,TN({},s,{className:st("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Na(o,!0)}}))}var sc=function(e){function t(){return GCe(this,t),XCe(this,t,arguments)}return ePe(t,e),YCe(t,[{key:"render",value:function(){return R.createElement(rPe,this.props)}}])}(R.Component);Tz(sc,"displayName","XAxis");Tz(sc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function nPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iz(n.key),n)}}function sPe(e,t,r){return t&&iPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aPe(e,t,r){return t=rx(t),oPe(e,Oz()?Reflect.construct(t,r||[],rx(e).constructor):t.apply(e,r))}function oPe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lPe(e)}function lPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!e})()}function rx(e){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(e)}function cPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EN(e,t)}function Mz(e,t,r){return t=Iz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iz(e){var t=uPe(e,"string");return fd(t)=="symbol"?t:t+""}function uPe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(this,arguments)}var dPe=function(t){var r=t.yAxisId,n=zC(),s=UC(),a=gz(r);return a==null?null:R.createElement(Ud,ON({},a,{className:st("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Na(l,!0)}}))},ac=function(e){function t(){return nPe(this,t),aPe(this,t,arguments)}return cPe(t,e),sPe(t,[{key:"render",value:function(){return R.createElement(dPe,this.props)}}])}(R.Component);Mz(ac,"displayName","YAxis");Mz(ac,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function SE(e){return pPe(e)||mPe(e)||hPe(e)||fPe()}function fPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hPe(e,t){if(e){if(typeof e=="string")return MN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MN(e,t)}}function mPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pPe(e){if(Array.isArray(e))return MN(e)}function MN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var IN=function(t,r,n,s,a){var o=gi(t,qC),l=gi(t,Jy),c=[].concat(SE(o),SE(l)),u=gi(t,tb),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&Vs(v.props,"extendDomain")&&be(v.props[f])){var x=v.props[f];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&Vs(v.props,"extendDomain")&&be(v.props[p])&&be(v.props[g])){var x=v.props[p],y=v.props[g];return[Math.min(m[0],x,y),Math.max(m[1],x,y)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,v){return be(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},Dz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var N=v.length,w;for(b=0;b<N;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,f);break;case 4:v[b].fn.call(v[b].context,d,f,h);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v[b].fn.apply(v[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Dz);var gPe=Dz.exports;const vPe=Dt(gPe);var k0=new vPe,_0="recharts.syncMouseEvents";function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function xPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$z(n.key),n)}}function bPe(e,t,r){return t&&yPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A0(e,t,r){return t=$z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=jPe(e,"string");return am(t)=="symbol"?t:t+""}function jPe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wPe=function(){function e(){xPe(this,e),A0(this,"activeIndex",0),A0(this,"coordinateList",[]),A0(this,"layout","horizontal")}return bPe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function NPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&be(n)&&be(s))return!0}return!1}function SPe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Rz(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,o=Gt(t,r,n,s),l=Gt(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function CPe(e,t,r){var n,s,a,o;if(e==="horizontal")n=t.x,a=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Gt(l,c,u,f),p=Gt(l,c,d,f);n=h.x,s=h.y,a=p.x,o=p.y}else return Rz(t);return[{x:n,y:s},{x:a,y:o}]}function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(n){PPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PPe(e,t,r){return t=kPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kPe(e){var t=_Pe(e,"string");return om(t)=="symbol"?t:t+""}function _Pe(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function APe(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,m=Mv;if(h==="ScatterChart")g=o,m=Kje;else if(h==="BarChart")g=SPe(f,o,c,d),m=RC;else if(f==="radial"){var v=Rz(o),x=v.cx,y=v.cy,b=v.radius,N=v.startAngle,w=v.endAngle;g={cx:x,cy:y,startAngle:N,endAngle:w,innerRadius:b,outerRadius:b},m=M8}else g={points:CPe(f,o,c)},m=Mv;var S=Yp(Yp(Yp(Yp({stroke:"#ccc",pointerEvents:"none"},c),g),Ve(p,!1)),{},{payload:l,payloadIndex:u,className:st("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,S):j.createElement(m,S)}var TPe=["item"],EPe=["children","className","width","height","style","compact","title","desc"];function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(this,arguments)}function PE(e,t){return IPe(e)||MPe(e,t)||Fz(e,t)||OPe()}function OPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function IPe(e){if(Array.isArray(e))return e}function kE(e,t){if(e==null)return{};var r=DPe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bz(n.key),n)}}function LPe(e,t,r){return t&&RPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FPe(e,t,r){return t=nx(t),BPe(e,Lz()?Reflect.construct(t,r||[],nx(e).constructor):t.apply(e,r))}function BPe(e,t){if(t&&(hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zPe(e)}function zPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lz=function(){return!!e})()}function nx(e){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nx(e)}function UPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},DN(e,t)}function md(e){return WPe(e)||qPe(e)||Fz(e)||VPe()}function VPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fz(e,t){if(e){if(typeof e=="string")return $N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $N(e,t)}}function qPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WPe(e){if(Array.isArray(e))return $N(e)}function $N(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=Bz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bz(e){var t=HPe(e,"string");return hd(t)=="symbol"?t:t+""}function HPe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KPe={xAxis:["bottom","top"],yAxis:["left","right"]},GPe={width:"100%",height:"100%"},zz={x:0,y:0};function Xp(e){return e}var QPe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},YPe=function(t,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return se(se(se({},s),Gt(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return se(se(se({},s),Gt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return zz},rb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(md(l),md(u)):l},[]);return o.length>0?o:t&&t.length&&be(s)&&be(a)?t.slice(s,a+1):[]};function Uz(e){return e==="number"?[0,"auto"]:void 0}var RN=function(t,r,n,s){var a=t.graphicalItems,o=t.tooltipAxis,l=rb(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=rv(p,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(md(c),[k8(u,h)]):c},[])},AE=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},o=QPe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=vye(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=RN(t,r,d,f),p=YPe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},XPe=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=j8(d,a);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?se(se({},m.type.defaultProps),m.props):m.props,y=x.type,b=x.dataKey,N=x.allowDataOverflow,w=x.allowDuplicatedCategory,S=x.scale,C=x.ticks,k=x.includeHidden,P=x[o];if(g[P])return g;var A=rb(t.data,{graphicalItems:s.filter(function(B){var ae,Se=o in B.props?B.props[o]:(ae=B.type.defaultProps)===null||ae===void 0?void 0:ae[o];return Se===P}),dataStartIndex:c,dataEndIndex:u}),O=A.length,M,T,E;NPe(x.domain,N,y)&&(M=Xw(x.domain,null,N),p&&(y==="number"||S!=="auto")&&(E=Gf(A,b,"category")));var I=Uz(y);if(!M||M.length===0){var L,q=(L=x.domain)!==null&&L!==void 0?L:I;if(b){if(M=Gf(A,b,y),y==="category"&&p){var _=oie(M);w&&_?(T=M,M=Vv(0,O)):w||(M=X2(q,M,m).reduce(function(B,ae){return B.indexOf(ae)>=0?B:[].concat(md(B),[ae])},[]))}else if(y==="category")w?M=M.filter(function(B){return B!==""&&!rt(B)}):M=X2(q,M,m).reduce(function(B,ae){return B.indexOf(ae)>=0||ae===""||rt(ae)?B:[].concat(md(B),[ae])},[]);else if(y==="number"){var $=wye(A,s.filter(function(B){var ae,Se,Ce=o in B.props?B.props[o]:(ae=B.type.defaultProps)===null||ae===void 0?void 0:ae[o],Fe="hide"in B.props?B.props.hide:(Se=B.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return Ce===P&&(k||!Fe)}),b,a,d);$&&(M=$)}p&&(y==="number"||S!=="auto")&&(E=Gf(A,b,"category"))}else p?M=Vv(0,O):l&&l[P]&&l[P].hasStack&&y==="number"?M=h==="expand"?[0,1]:P8(l[P].stackGroups,c,u):M=b8(A,s.filter(function(B){var ae=o in B.props?B.props[o]:B.type.defaultProps[o],Se="hide"in B.props?B.props.hide:B.type.defaultProps.hide;return ae===P&&(k||!Se)}),y,d,!0);if(y==="number")M=IN(f,M,P,a,C),q&&(M=Xw(q,M,N));else if(y==="category"&&q){var G=q,re=M.every(function(B){return G.indexOf(B)>=0});re&&(M=G)}}return se(se({},g),{},He({},P,se(se({},x),{},{axisType:a,domain:M,categoricalDomain:E,duplicateDomain:T,originalDomain:(v=x.domain)!==null&&v!==void 0?v:I,isCategorical:p,layout:d})))},{})},ZPe=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=rb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=j8(d,a),m=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?se(se({},x.type.defaultProps),x.props):x.props,b=y[o],N=Uz("number");if(!v[b]){m++;var w;return g?w=Vv(0,p):l&&l[b]&&l[b].hasStack?(w=P8(l[b].stackGroups,c,u),w=IN(f,w,b,a)):(w=Xw(N,b8(h,n.filter(function(S){var C,k,P=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],A="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return P===b&&!A}),"number",d),s.defaultProps.allowDataOverflow),w=IN(f,w,b,a)),se(se({},v),{},He({},b,se(se({axisType:a},s.defaultProps),{},{hide:!0,orientation:pi(KPe,"".concat(a,".").concat(m%2),null),domain:w,originalDomain:N,isCategorical:g,layout:d})))}return v},{})},JPe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=gi(d,a),p={};return h&&h.length?p=XPe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=ZPe(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},eke=function(t){var r=oo(t),n=Na(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:uC(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Tv(r,n)}},TE=function(t){var r=t.children,n=t.defaultShowTooltip,s=ei(r,id),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},tke=function(t){return!t||!t.length?!1:t.some(function(r){var n=Aa(r&&r.type);return n&&n.indexOf("Bar")>=0})},EE=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rke=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ei(f,id),g=ei(f,Mo),m=Object.keys(c).reduce(function(w,S){var C=c[S],k=C.orientation;return!C.mirror&&!C.hide?se(se({},w),{},He({},k,w[k]+C.width)):w},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(w,S){var C=o[S],k=C.orientation;return!C.mirror&&!C.hide?se(se({},w),{},He({},k,pi(w,"".concat(k))+C.height)):w},{top:h.top||0,bottom:h.bottom||0}),x=se(se({},v),m),y=x.bottom;p&&(x.bottom+=p.props.height||id.defaultProps.height),g&&r&&(x=bye(x,s,n,r));var b=u-x.left-x.right,N=d-x.top-x.bottom;return se(se({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(N,0)})},nke=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},KC=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,y){var b=y.graphicalItems,N=y.stackGroups,w=y.offset,S=y.updateId,C=y.dataStartIndex,k=y.dataEndIndex,P=x.barSize,A=x.layout,O=x.barGap,M=x.barCategoryGap,T=x.maxBarSize,E=EE(A),I=E.numericAxisName,L=E.cateAxisName,q=tke(b),_=[];return b.forEach(function($,G){var re=rb(x.data,{graphicalItems:[$],dataStartIndex:C,dataEndIndex:k}),B=$.type.defaultProps!==void 0?se(se({},$.type.defaultProps),$.props):$.props,ae=B.dataKey,Se=B.maxBarSize,Ce=B["".concat(I,"Id")],Fe=B["".concat(L,"Id")],ye={},K=c.reduce(function(Xr,z){var Q=y["".concat(z.axisType,"Map")],ie=B["".concat(z.axisType,"Id")];Q&&Q[ie]||z.axisType==="zAxis"||rc();var ke=Q[ie];return se(se({},Xr),{},He(He({},z.axisType,ke),"".concat(z.axisType,"Ticks"),Na(ke)))},ye),X=K[L],ue=K["".concat(L,"Ticks")],fe=N&&N[Ce]&&N[Ce].hasStack&&Eye($,N[Ce].stackGroups),Y=Aa($.type).indexOf("Bar")>=0,Ye=Tv(X,ue),Be=[],Tt=q&&xye({barSize:P,stackGroups:N,totalSize:nke(K,L)});if(Y){var At,Qt,Yr=rt(Se)?T:Se,Ar=(At=(Qt=Tv(X,ue,!0))!==null&&Qt!==void 0?Qt:Yr)!==null&&At!==void 0?At:0;Be=yye({barGap:O,barCategoryGap:M,bandSize:Ar!==Ye?Ar:Ye,sizeList:Tt[Fe],maxBarSize:Yr}),Ar!==Ye&&(Be=Be.map(function(Xr){return se(se({},Xr),{},{position:se(se({},Xr.position),{},{offset:Xr.position.offset-Ar/2})})}))}var ia=$&&$.type&&$.type.getComposedData;ia&&_.push({props:se(se({},ia(se(se({},K),{},{displayedData:re,props:x,dataKey:ae,item:$,bandSize:Ye,barPosition:Be,offset:w,stackedData:fe,layout:A,dataStartIndex:C,dataEndIndex:k}))),{},He(He(He({key:$.key||"item-".concat(G)},I,K[I]),L,K[L]),"animationId",S)),childIndex:yie($,x.children),item:$})}),_},p=function(x,y){var b=x.props,N=x.dataStartIndex,w=x.dataEndIndex,S=x.updateId;if(!q_({props:b}))return null;var C=b.children,k=b.layout,P=b.stackOffset,A=b.data,O=b.reverseStackOrder,M=EE(k),T=M.numericAxisName,E=M.cateAxisName,I=gi(C,n),L=Aye(A,I,"".concat(T,"Id"),"".concat(E,"Id"),P,O),q=c.reduce(function(B,ae){var Se="".concat(ae.axisType,"Map");return se(se({},B),{},He({},Se,JPe(b,se(se({},ae),{},{graphicalItems:I,stackGroups:ae.axisType===T&&L,dataStartIndex:N,dataEndIndex:w}))))},{}),_=rke(se(se({},q),{},{props:b,graphicalItems:I}),y==null?void 0:y.legendBBox);Object.keys(q).forEach(function(B){q[B]=d(b,q[B],_,B.replace("Map",""),r)});var $=q["".concat(E,"Map")],G=eke($),re=h(b,se(se({},q),{},{dataStartIndex:N,dataEndIndex:w,updateId:S,graphicalItems:I,stackGroups:L,offset:_}));return se(se({formattedGraphicalItems:re,graphicalItems:I,offset:_,stackGroups:L},G),q)},g=function(v){function x(y){var b,N,w;return $Pe(this,x),w=FPe(this,x,[y]),He(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(w,"accessibilityManager",new wPe),He(w,"handleLegendBBoxUpdate",function(S){if(S){var C=w.state,k=C.dataStartIndex,P=C.dataEndIndex,A=C.updateId;w.setState(se({legendBBox:S},p({props:w.props,dataStartIndex:k,dataEndIndex:P,updateId:A},se(se({},w.state),{},{legendBBox:S}))))}}),He(w,"handleReceiveSyncEvent",function(S,C,k){if(w.props.syncId===S){if(k===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(C)}}),He(w,"handleBrushChange",function(S){var C=S.startIndex,k=S.endIndex;if(C!==w.state.dataStartIndex||k!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return se({dataStartIndex:C,dataEndIndex:k},p({props:w.props,dataStartIndex:C,dataEndIndex:k,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:C,dataEndIndex:k})}}),He(w,"handleMouseEnter",function(S){var C=w.getMouseInfo(S);if(C){var k=se(se({},C),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var P=w.props.onMouseEnter;Xe(P)&&P(k,S)}}),He(w,"triggeredAfterMouseMove",function(S){var C=w.getMouseInfo(S),k=C?se(se({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var P=w.props.onMouseMove;Xe(P)&&P(k,S)}),He(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),He(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),He(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),He(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var k=w.props.onMouseLeave;Xe(k)&&k(C,S)}),He(w,"handleOuterEvent",function(S){var C=xie(S),k=pi(w.props,"".concat(C));if(C&&Xe(k)){var P,A;/.*touch.*/i.test(C)?A=w.getMouseInfo(S.changedTouches[0]):A=w.getMouseInfo(S),k((P=A)!==null&&P!==void 0?P:{},S)}}),He(w,"handleClick",function(S){var C=w.getMouseInfo(S);if(C){var k=se(se({},C),{},{isTooltipActive:!0});w.setState(k),w.triggerSyncEvent(k);var P=w.props.onClick;Xe(P)&&P(k,S)}}),He(w,"handleMouseDown",function(S){var C=w.props.onMouseDown;if(Xe(C)){var k=w.getMouseInfo(S);C(k,S)}}),He(w,"handleMouseUp",function(S){var C=w.props.onMouseUp;if(Xe(C)){var k=w.getMouseInfo(S);C(k,S)}}),He(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),He(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),He(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),He(w,"handleDoubleClick",function(S){var C=w.props.onDoubleClick;if(Xe(C)){var k=w.getMouseInfo(S);C(k,S)}}),He(w,"handleContextMenu",function(S){var C=w.props.onContextMenu;if(Xe(C)){var k=w.getMouseInfo(S);C(k,S)}}),He(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&k0.emit(_0,w.props.syncId,S,w.eventEmitterSymbol)}),He(w,"applySyncEvent",function(S){var C=w.props,k=C.layout,P=C.syncMethod,A=w.state.updateId,O=S.dataStartIndex,M=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(se({dataStartIndex:O,dataEndIndex:M},p({props:w.props,dataStartIndex:O,dataEndIndex:M,updateId:A},w.state)));else if(S.activeTooltipIndex!==void 0){var T=S.chartX,E=S.chartY,I=S.activeTooltipIndex,L=w.state,q=L.offset,_=L.tooltipTicks;if(!q)return;if(typeof P=="function")I=P(_,S);else if(P==="value"){I=-1;for(var $=0;$<_.length;$++)if(_[$].value===S.activeLabel){I=$;break}}var G=se(se({},q),{},{x:q.left,y:q.top}),re=Math.min(T,G.x+G.width),B=Math.min(E,G.y+G.height),ae=_[I]&&_[I].value,Se=RN(w.state,w.props.data,I),Ce=_[I]?{x:k==="horizontal"?_[I].coordinate:re,y:k==="horizontal"?B:_[I].coordinate}:zz;w.setState(se(se({},S),{},{activeLabel:ae,activeCoordinate:Ce,activePayload:Se,activeTooltipIndex:I}))}else w.setState(S)}),He(w,"renderCursor",function(S){var C,k=w.state,P=k.isTooltipActive,A=k.activeCoordinate,O=k.activePayload,M=k.offset,T=k.activeTooltipIndex,E=k.tooltipAxisBandSize,I=w.getTooltipEventType(),L=(C=S.props.active)!==null&&C!==void 0?C:P,q=w.props.layout,_=S.key||"_recharts-cursor";return R.createElement(APe,{key:_,activeCoordinate:A,activePayload:O,activeTooltipIndex:T,chartName:r,element:S,isActive:L,layout:q,offset:M,tooltipAxisBandSize:E,tooltipEventType:I})}),He(w,"renderPolarAxis",function(S,C,k){var P=pi(S,"type.axisType"),A=pi(w.state,"".concat(P,"Map")),O=S.type.defaultProps,M=O!==void 0?se(se({},O),S.props):S.props,T=A&&A[M["".concat(P,"Id")]];return j.cloneElement(S,se(se({},T),{},{className:st(P,T.className),key:S.key||"".concat(C,"-").concat(k),ticks:Na(T,!0)}))}),He(w,"renderPolarGrid",function(S){var C=S.props,k=C.radialLines,P=C.polarAngles,A=C.polarRadius,O=w.state,M=O.radiusAxisMap,T=O.angleAxisMap,E=oo(M),I=oo(T),L=I.cx,q=I.cy,_=I.innerRadius,$=I.outerRadius;return j.cloneElement(S,{polarAngles:Array.isArray(P)?P:Na(I,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(A)?A:Na(E,!0).map(function(G){return G.coordinate}),cx:L,cy:q,innerRadius:_,outerRadius:$,key:S.key||"polar-grid",radialLines:k})}),He(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,C=w.props,k=C.children,P=C.width,A=C.height,O=w.props.margin||{},M=P-(O.left||0)-(O.right||0),T=x8({children:k,formattedGraphicalItems:S,legendWidth:M,legendContent:u});if(!T)return null;var E=T.item,I=kE(T,TPe);return j.cloneElement(E,se(se({},I),{},{chartWidth:P,chartHeight:A,margin:O,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),He(w,"renderTooltip",function(){var S,C=w.props,k=C.children,P=C.accessibilityLayer,A=ei(k,zn);if(!A)return null;var O=w.state,M=O.isTooltipActive,T=O.activeCoordinate,E=O.activePayload,I=O.activeLabel,L=O.offset,q=(S=A.props.active)!==null&&S!==void 0?S:M;return j.cloneElement(A,{viewBox:se(se({},L),{},{x:L.left,y:L.top}),active:q,label:I,payload:q?E:[],coordinate:T,accessibilityLayer:P})}),He(w,"renderBrush",function(S){var C=w.props,k=C.margin,P=C.data,A=w.state,O=A.offset,M=A.dataStartIndex,T=A.dataEndIndex,E=A.updateId;return j.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Hp(w.handleBrushChange,S.props.onChange),data:P,x:be(S.props.x)?S.props.x:O.left,y:be(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(k.bottom||0),width:be(S.props.width)?S.props.width:O.width,startIndex:M,endIndex:T,updateId:"brush-".concat(E)})}),He(w,"renderReferenceElement",function(S,C,k){if(!S)return null;var P=w,A=P.clipPathId,O=w.state,M=O.xAxisMap,T=O.yAxisMap,E=O.offset,I=S.type.defaultProps||{},L=S.props,q=L.xAxisId,_=q===void 0?I.xAxisId:q,$=L.yAxisId,G=$===void 0?I.yAxisId:$;return j.cloneElement(S,{key:S.key||"".concat(C,"-").concat(k),xAxis:M[_],yAxis:T[G],viewBox:{x:E.left,y:E.top,width:E.width,height:E.height},clipPathId:A})}),He(w,"renderActivePoints",function(S){var C=S.item,k=S.activePoint,P=S.basePoint,A=S.childIndex,O=S.isRange,M=[],T=C.props.key,E=C.item.type.defaultProps!==void 0?se(se({},C.item.type.defaultProps),C.item.props):C.item.props,I=E.activeDot,L=E.dataKey,q=se(se({index:A,dataKey:L,cx:k.x,cy:k.y,r:4,fill:$C(C.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Ve(I,!1)),nv(I));return M.push(x.renderActiveDot(I,q,"".concat(T,"-activePoint-").concat(A))),P?M.push(x.renderActiveDot(I,se(se({},q),{},{cx:P.x,cy:P.y}),"".concat(T,"-basePoint-").concat(A))):O&&M.push(null),M}),He(w,"renderGraphicChild",function(S,C,k){var P=w.filterFormatItem(S,C,k);if(!P)return null;var A=w.getTooltipEventType(),O=w.state,M=O.isTooltipActive,T=O.tooltipAxis,E=O.activeTooltipIndex,I=O.activeLabel,L=w.props.children,q=ei(L,zn),_=P.props,$=_.points,G=_.isRange,re=_.baseLine,B=P.item.type.defaultProps!==void 0?se(se({},P.item.type.defaultProps),P.item.props):P.item.props,ae=B.activeDot,Se=B.hide,Ce=B.activeBar,Fe=B.activeShape,ye=!!(!Se&&M&&q&&(ae||Ce||Fe)),K={};A!=="axis"&&q&&q.props.trigger==="click"?K={onClick:Hp(w.handleItemMouseEnter,S.props.onClick)}:A!=="axis"&&(K={onMouseLeave:Hp(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Hp(w.handleItemMouseEnter,S.props.onMouseEnter)});var X=j.cloneElement(S,se(se({},P.props),K));function ue(z){return typeof T.dataKey=="function"?T.dataKey(z.payload):null}if(ye)if(E>=0){var fe,Y;if(T.dataKey&&!T.allowDuplicatedCategory){var Ye=typeof T.dataKey=="function"?ue:"payload.".concat(T.dataKey.toString());fe=rv($,Ye,I),Y=G&&re&&rv(re,Ye,I)}else fe=$==null?void 0:$[E],Y=G&&re&&re[E];if(Fe||Ce){var Be=S.props.activeIndex!==void 0?S.props.activeIndex:E;return[j.cloneElement(S,se(se(se({},P.props),K),{},{activeIndex:Be})),null,null]}if(!rt(fe))return[X].concat(md(w.renderActivePoints({item:P,activePoint:fe,basePoint:Y,childIndex:E,isRange:G})))}else{var Tt,At=(Tt=w.getItemByXY(w.state.activeCoordinate))!==null&&Tt!==void 0?Tt:{graphicalItem:X},Qt=At.graphicalItem,Yr=Qt.item,Ar=Yr===void 0?S:Yr,ia=Qt.childIndex,Xr=se(se(se({},P.props),K),{},{activeIndex:ia});return[j.cloneElement(Ar,Xr),null,null]}return G?[X,null,null]:[X,null]}),He(w,"renderCustomized",function(S,C,k){return j.cloneElement(S,se(se({key:"recharts-customized-".concat(k)},w.props),w.state))}),He(w,"renderMap",{CartesianGrid:{handler:Xp,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Xp},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Xp},YAxis:{handler:Xp},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Dd("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=vB(w.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return UPe(x,v),LPe(x,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,w=b.data,S=b.height,C=b.layout,k=ei(N,zn);if(k){var P=k.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=RN(this.state,w,P,A),M=this.state.tooltipTicks[P].coordinate,T=(this.state.offset.top+S)/2,E=C==="horizontal",I=E?{x:M,y:T}:{y:M,x:T},L=this.state.formattedGraphicalItems.find(function(_){var $=_.item;return $.type.name==="Scatter"});L&&(I=se(se({},I),L.props.points[P].tooltipPosition),O=L.props.points[P].tooltipPayload);var q={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:A,activePayload:O,activeCoordinate:I};this.setState(q),this.renderCursor(k),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){fw([ei(b.children,zn)],[ei(this.props.children,zn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ei(this.props.children,zn);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return l.indexOf(N)>=0?N:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),S=Wme(w),C={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},k=w.width/N.offsetWidth||1,P=this.inRange(C.chartX,C.chartY,k);if(!P)return null;var A=this.state,O=A.xAxisMap,M=A.yAxisMap,T=this.getTooltipEventType(),E=AE(this.state,this.props.data,this.props.layout,P);if(T!=="axis"&&O&&M){var I=oo(O).scale,L=oo(M).scale,q=I&&I.invert?I.invert(C.chartX):null,_=L&&L.invert?L.invert(C.chartY):null;return se(se({},C),{},{xValue:q,yValue:_},E)}return E?se(se({},C),E):null}},{key:"inRange",value:function(b,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=b/w,k=N/w;if(S==="horizontal"||S==="vertical"){var P=this.state.offset,A=C>=P.left&&C<=P.left+P.width&&k>=P.top&&k<=P.top+P.height;return A?{x:C,y:k}:null}var O=this.state,M=O.angleAxisMap,T=O.radiusAxisMap;if(M&&T){var E=oo(M);return eT({x:C,y:k},E)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),w=ei(b,zn),S={};w&&N==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=nv(this.props,this.handleOuterEvent);return se(se({},C),S)}},{key:"addListener",value:function(){k0.on(_0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){k0.removeListener(_0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,w){for(var S=this.state.formattedGraphicalItems,C=0,k=S.length;C<k;C++){var P=S[C];if(P.item===b||P.props.key===b.key||N===Aa(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,w=N.left,S=N.top,C=N.height,k=N.width;return R.createElement("defs",null,R.createElement("clipPath",{id:b},R.createElement("rect",{x:w,y:S,height:C,width:k})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,w){var S=PE(w,2),C=S[0],k=S[1];return se(se({},N),{},He({},C,k.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,w){var S=PE(w,2),C=S[0],k=S[1];return se(se({},N),{},He({},C,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,w=N.formattedGraphicalItems,S=N.activeItem;if(w&&w.length)for(var C=0,k=w.length;C<k;C++){var P=w[C],A=P.props,O=P.item,M=O.type.defaultProps!==void 0?se(se({},O.type.defaultProps),O.props):O.props,T=Aa(O.type);if(T==="Bar"){var E=(A.data||[]).find(function(_){return kje(b,_)});if(E)return{graphicalItem:P,payload:E}}else if(T==="RadialBar"){var I=(A.data||[]).find(function(_){return eT(b,_)});if(I)return{graphicalItem:P,payload:I}}else if(Qy(P,S)||Yy(P,S)||tm(P,S)){var L=pNe({graphicalItem:P,activeTooltipItem:S,itemData:M.data}),q=M.activeIndex===void 0?L:M.activeIndex;return{graphicalItem:se(se({},P),{},{childIndex:q}),payload:tm(P,S)?M.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var b=this;if(!q_(this))return null;var N=this.props,w=N.children,S=N.className,C=N.width,k=N.height,P=N.style,A=N.compact,O=N.title,M=N.desc,T=kE(N,EPe),E=Ve(T,!1);if(A)return R.createElement(lE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(mw,Zc({},E,{width:C,height:k,title:O,desc:M}),this.renderClipPath(),H_(w,this.renderMap)));if(this.props.accessibilityLayer){var I,L;E.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,E.role=(L=this.props.role)!==null&&L!==void 0?L:"application",E.onKeyDown=function(_){b.accessibilityManager.keyboardEvent(_)},E.onFocus=function(){b.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return R.createElement(lE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Zc({className:st("recharts-wrapper",S),style:se({position:"relative",cursor:"default",width:C,height:k},P)},q,{ref:function($){b.container=$}}),R.createElement(mw,Zc({},E,{width:C,height:k,title:O,desc:M,style:GPe}),this.renderClipPath(),H_(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);He(g,"displayName",r),He(g,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(g,"getDerivedStateFromProps",function(v,x){var y=v.dataKey,b=v.data,N=v.children,w=v.width,S=v.height,C=v.layout,k=v.stackOffset,P=v.margin,A=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var M=TE(v);return se(se(se({},M),{},{updateId:0},p(se(se({props:v},M),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:S,prevLayout:C,prevStackOffset:k,prevMargin:P,prevChildren:N})}if(y!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||S!==x.prevHeight||C!==x.prevLayout||k!==x.prevStackOffset||!du(P,x.prevMargin)){var T=TE(v),E={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},I=se(se({},AE(x,b,C)),{},{updateId:x.updateId+1}),L=se(se(se({},T),E),I);return se(se(se({},L),p(se({props:v},L),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:S,prevLayout:C,prevStackOffset:k,prevMargin:P,prevChildren:N})}if(!fw(N,x.prevChildren)){var q,_,$,G,re=ei(N,id),B=re&&(q=(_=re.props)===null||_===void 0?void 0:_.startIndex)!==null&&q!==void 0?q:A,ae=re&&($=(G=re.props)===null||G===void 0?void 0:G.endIndex)!==null&&$!==void 0?$:O,Se=B!==A||ae!==O,Ce=!rt(b),Fe=Ce&&!Se?x.updateId:x.updateId+1;return se(se({updateId:Fe},p(se(se({props:v},x),{},{updateId:Fe,dataStartIndex:B,dataEndIndex:ae}),x)),{},{prevChildren:N,dataStartIndex:B,dataEndIndex:ae})}return null}),He(g,"renderActiveDot",function(v,x,y){var b;return j.isValidElement(v)?b=j.cloneElement(v,x):Xe(v)?b=v(x):b=R.createElement(qy,x),R.createElement(kt,{className:"recharts-active-dot",key:y},b)});var m=j.forwardRef(function(x,y){return R.createElement(g,Zc({},x,{ref:y}))});return m.displayName=g.displayName,m},Vz=KC({chartName:"LineChart",GraphicalChild:ic,axisComponents:[{axisType:"xAxis",AxisComp:sc},{axisType:"yAxis",AxisComp:ac}],formatAxisMap:oz}),ike=KC({chartName:"BarChart",GraphicalChild:wc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sc},{axisType:"yAxis",AxisComp:ac}],formatAxisMap:oz}),qz=KC({chartName:"PieChart",GraphicalChild:na,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Gy},{axisType:"radiusAxis",AxisComp:Hy}],formatAxisMap:zye,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function ske(){const[e,t]=j.useState("6months"),{data:r}=ze({queryKey:["/api/dashboard/stats"]}),n=(r==null?void 0:r.salesOverTime)||[{month:"Jan",revenue:1200},{month:"Feb",revenue:1900},{month:"Mar",revenue:2300},{month:"Apr",revenue:1700},{month:"May",revenue:2100},{month:"Jun",revenue:2847}];return i.jsxs(Z,{className:"shadow-sm border border-gray-200",children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(le,{className:"text-lg font-semibold text-gray-900",children:"Sales Overview"}),i.jsxs(et,{value:e,onValueChange:t,children:[i.jsx(Ze,{className:"w-[180px] text-sm",children:i.jsx(tt,{})}),i.jsxs(Je,{children:[i.jsx(U,{value:"6months",children:"Last 6 months"}),i.jsx(U,{value:"year",children:"Last year"}),i.jsx(U,{value:"all",children:"All time"})]})]})]})}),i.jsx(ee,{children:i.jsx("div",{className:"h-64",children:i.jsx(Wf,{width:"100%",height:"100%",children:i.jsxs(Vz,{data:n,children:[i.jsx(Jv,{strokeDasharray:"3 3",className:"stroke-gray-200"}),i.jsx(sc,{dataKey:"month",className:"text-gray-600 text-sm",axisLine:!1,tickLine:!1}),i.jsx(ac,{className:"text-gray-600 text-sm",axisLine:!1,tickLine:!1,tickFormatter:s=>`$${s}`}),i.jsx(zn,{formatter:s=>[`$${s}`,"Revenue"],labelClassName:"text-gray-900",contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"}}),i.jsx(ic,{type:"monotone",dataKey:"revenue",stroke:"hsl(213, 94%, 68%)",strokeWidth:3,dot:{fill:"hsl(213, 94%, 68%)",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(213, 94%, 68%)",strokeWidth:2}})]})})})})]})}function ake(){const{data:e}=ze({queryKey:["/api/dashboard/stats"]}),r=((e==null?void 0:e.formatDistribution)||[{format:"eBook",percentage:65,color:"hsl(213, 94%, 68%)"},{format:"Paperback",percentage:25,color:"hsl(262, 83%, 58%)"},{format:"Hardcover",percentage:10,color:"hsl(142, 76%, 36%)"}]).map((n,s)=>({...n,color:n.color||["hsl(213, 94%, 68%)","hsl(262, 83%, 58%)","hsl(142, 76%, 36%)"][s]}));return i.jsxs(Z,{className:"shadow-sm border border-gray-200",children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-semibold text-gray-900",children:"Format Distribution"})}),i.jsx(ee,{children:i.jsx("div",{className:"h-64",children:i.jsx(Wf,{width:"100%",height:"100%",children:i.jsxs(qz,{children:[i.jsx(na,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"percentage",children:r.map((n,s)=>i.jsx(Xm,{fill:n.color},`cell-${s}`))}),i.jsx(zn,{formatter:n=>[`${n}%`,"Sales"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"}}),i.jsx(Mo,{verticalAlign:"bottom",height:36,wrapperStyle:{fontSize:"14px"}})]})})})})]})}function oke(){const{toast:e}=Pt(),{data:t,isLoading:r,error:n}=ze({queryKey:["/api/projects"]});j.useEffect(()=>{if(n&&Oo(n)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[n,e]);const s=c=>{switch(c){case"published":return"bg-green-100 text-green-800";case"in_review":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},a=c=>c.split(" ").map(u=>u[0]).join("").substring(0,2).toUpperCase(),o=c=>{const u=["gradient-blue-purple","gradient-green-blue","gradient-purple-pink"];return u[c%u.length]};if(r)return i.jsxs(Z,{className:"shadow-sm border border-gray-200",children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(le,{className:"text-lg font-semibold text-gray-900",children:"Recent Projects"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"})]})}),i.jsx(ee,{children:i.jsx("div",{className:"space-y-4",children:[1,2,3].map(c=>i.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg animate-pulse",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),i.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),i.jsx("div",{className:"h-6 bg-gray-200 rounded w-12"})]},c))})})]});const l=Array.isArray(t)?t.slice(0,3):[];return i.jsxs(Z,{className:"shadow-sm border border-gray-200",children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(le,{className:"text-lg font-semibold text-gray-900",children:"Recent Projects"}),i.jsx(Pn,{href:"/projects",className:"text-primary hover:text-primary/80 text-sm font-medium",children:"View all projects"})]})}),i.jsx(ee,{children:l.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-500 mb-4",children:"No projects yet"}),i.jsx(Pn,{href:"/project-create-simple",children:i.jsx(F,{size:"sm",className:"bg-primary hover:bg-primary/90",children:"Create your first project"})})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Format"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sales"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((c,u)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-10 h-10 ${o(u)} rounded-lg flex items-center justify-center text-white font-semibold text-sm`,children:a(c.title||"Untitled")}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.title}),c.subtitle&&i.jsx("div",{className:"text-sm text-gray-500",children:c.subtitle})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx(me,{className:`${s(c.status||"draft")} text-xs font-semibold`,children:(c.status||"draft").replace("_"," ")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.formats&&c.formats.length>0?c.formats.join(", "):"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.totalSales||0}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",c.totalRevenue||"0.00"]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(F,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80",children:[i.jsx(_a,{className:"w-4 h-4 mr-1"}),"Edit"]}),i.jsxs(Uu,{children:[i.jsx(Vu,{asChild:!0,children:i.jsx(F,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0",children:i.jsx(VG,{className:"w-4 h-4"})})}),i.jsx(Yl,{align:"end",children:i.jsxs(Ir,{children:[i.jsx(zx,{className:"w-4 h-4 mr-2"}),"Analytics"]})})]})]})})]},c.id))})]})})})]})}function lke(){const{toast:e}=Pt(),{isAuthenticated:t,isLoading:r}=Si(),[,n]=$n();return j.useEffect(()=>{if(!r&&!t){e.error({title:"Unauthorized",description:"You are logged out. Logging in again..."}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,r,e]),r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):t?i.jsxs(ft,{children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's your publishing overview."})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(F,{variant:"outline",className:"text-gray-700",children:[i.jsx($m,{className:"w-4 h-4 mr-2"}),"Export Report"]}),i.jsxs(F,{onClick:()=>n("/project-create-simple"),className:"bg-primary hover:bg-primary/90",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"New Project"]})]})]})}),i.jsx(ZJ,{}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsx(ske,{}),i.jsx(ake,{})]}),i.jsx(oke,{})]}):null}const _e=j.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));_e.displayName="Input";var Wz="AlertDialog",[cke,vOe]=Kr(Wz,[JF]),Ka=JF(),Hz=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ka(t);return i.jsx(LS,{...n,...r,modal:!0})};Hz.displayName=Wz;var uke="AlertDialogTrigger",Kz=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ka(r);return i.jsx(p5,{...s,...n,ref:t})});Kz.displayName=uke;var dke="AlertDialogPortal",Gz=e=>{const{__scopeAlertDialog:t,...r}=e,n=Ka(t);return i.jsx(FS,{...n,...r})};Gz.displayName=dke;var fke="AlertDialogOverlay",Qz=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ka(r);return i.jsx(Um,{...s,...n,ref:t})});Qz.displayName=fke;var mu="AlertDialogContent",[hke,mke]=cke(mu),pke=uL("AlertDialogContent"),Yz=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=Ka(r),o=j.useRef(null),l=ht(t,o),c=j.useRef(null);return i.jsx(VJ,{contentName:mu,titleName:Xz,docsSlug:"alert-dialog",children:i.jsx(hke,{scope:r,cancelRef:c,children:i.jsxs(Vm,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:je(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(pke,{children:n}),i.jsx(vke,{contentRef:o})]})})})});Yz.displayName=mu;var Xz="AlertDialogTitle",Zz=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ka(r);return i.jsx(qm,{...s,...n,ref:t})});Zz.displayName=Xz;var Jz="AlertDialogDescription",eU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ka(r);return i.jsx(Wm,{...s,...n,ref:t})});eU.displayName=Jz;var gke="AlertDialogAction",tU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Ka(r);return i.jsx(ay,{...s,...n,ref:t})});tU.displayName=gke;var rU="AlertDialogCancel",nU=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=mke(rU,r),a=Ka(r),o=ht(t,s);return i.jsx(ay,{...a,...n,ref:o})});nU.displayName=rU;var vke=({contentRef:e})=>{const t=`\`${mu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${mu}\` by passing a \`${Jz}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${mu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},xke=Hz,yke=Kz,bke=Gz,iU=Qz,sU=Yz,aU=tU,oU=nU,lU=Zz,cU=eU;const $i=xke,oc=yke,jke=bke,uU=j.forwardRef(({className:e,...t},r)=>i.jsx(iU,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));uU.displayName=iU.displayName;const si=j.forwardRef(({className:e,...t},r)=>i.jsxs(jke,{children:[i.jsx(uU,{}),i.jsx(sU,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));si.displayName=sU.displayName;const ai=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});ai.displayName="AlertDialogHeader";const oi=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});oi.displayName="AlertDialogFooter";const li=j.forwardRef(({className:e,...t},r)=>i.jsx(lU,{ref:r,className:xe("text-lg font-semibold",e),...t}));li.displayName=lU.displayName;const ci=j.forwardRef(({className:e,...t},r)=>i.jsx(cU,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));ci.displayName=cU.displayName;const ui=j.forwardRef(({className:e,...t},r)=>i.jsx(aU,{ref:r,className:xe(hS(),e),...t}));ui.displayName=aU.displayName;const di=j.forwardRef(({className:e,...t},r)=>i.jsx(oU,{ref:r,className:xe(hS({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));di.displayName=oU.displayName;const mn=LS,nl=p5,wke=FS,dU=j.forwardRef(({className:e,...t},r)=>i.jsx(Um,{ref:r,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dU.displayName=Um.displayName;const tn=j.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(wke,{children:[i.jsx(dU,{}),i.jsxs(Vm,{ref:n,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(ay,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(ji,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tn.displayName=Vm.displayName;const rn=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rn.displayName="DialogHeader";const GC=({className:e,...t})=>i.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});GC.displayName="DialogFooter";const nn=j.forwardRef(({className:e,...t},r)=>i.jsx(qm,{ref:r,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));nn.displayName=qm.displayName;const Vo=j.forwardRef(({className:e,...t},r)=>i.jsx(Wm,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Vo.displayName=Wm.displayName;var QC="Checkbox",[Nke,xOe]=Kr(QC),[Ske,Cke]=Nke(QC),fU=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=j.useState(null),g=ht(t,N=>p(N)),m=j.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,y]=Wi({prop:s,defaultProp:a,onChange:u}),b=j.useRef(x);return j.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const w=()=>y(b.current);return N.addEventListener("reset",w),()=>N.removeEventListener("reset",w)}},[h,y]),i.jsxs(Ske,{scope:r,state:x,disabled:l,children:[i.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":Do(x)?"mixed":x,"aria-required":o,"data-state":pU(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:je(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:je(e.onClick,N=>{y(w=>Do(w)?!0:!w),v&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})}),v&&i.jsx(Pke,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Do(a)?!1:a})]})});fU.displayName=QC;var hU="CheckboxIndicator",mU=j.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=Cke(hU,r);return i.jsx(Gn,{present:n||Do(a.state)||a.state===!0,children:i.jsx(Re.span,{"data-state":pU(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});mU.displayName=hU;var Pke=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,o=j.useRef(null),l=oy(r),c=Qx(t);j.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const g=new Event("click",{bubbles:n});d.indeterminate=Do(r),p.call(d,Do(r)?!1:r),d.dispatchEvent(g)}},[l,r,n]);const u=j.useRef(Do(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Do(e){return e==="indeterminate"}function pU(e){return Do(e)?"indeterminate":e?"checked":"unchecked"}var gU=fU,kke=mU;const Sa=j.forwardRef(({className:e,...t},r)=>i.jsx(gU,{ref:r,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(kke,{className:xe("flex items-center justify-center text-current"),children:i.jsx(ba,{className:"h-4 w-4"})})}));Sa.displayName=gU.displayName;function _ke(){const{toast:e}=Pt(),{isAuthenticated:t,isLoading:r}=Si(),[,n]=$n(),[s,a]=j.useState(""),[o,l]=j.useState("all"),[c,u]=j.useState("createdAt"),[d,f]=j.useState(null),[h,p]=j.useState(!1),[g,m]=j.useState(null),[v,x]=j.useState(""),[y,b]=j.useState(new Set),N=["English","Spanish","French","German","Italian","Portuguese","Dutch","Russian","Polish","Swedish","Norwegian","Danish","Finnish","Czech","Hungarian","Romanian","Bulgarian","Croatian","Serbian","Slovak","Slovenian","Lithuanian","Latvian","Estonian","Greek","Turkish","Arabic","Hebrew","Chinese (Simplified)","Chinese (Traditional)","Japanese","Korean","Thai","Vietnamese","Indonesian","Malay","Filipino","Hindi","Bengali","Tamil","Telugu","Marathi","Gujarati","Kannada","Malayalam","Punjabi","Urdu","Swahili","Hausa","Yoruba","Zulu","Amharic"],{data:w,isLoading:S,error:C}=ze({queryKey:["/api/projects"],enabled:t,staleTime:0}),k=Qe({mutationFn:async B=>{console.log("Starting duplication for project:",B.name);try{const ae=await $e("POST",`/api/projects/${B.id}/duplicate`,{});return console.log("Duplication successful:",ae),ae}catch(ae){throw console.error("Duplication failed:",ae),ae}},onSuccess:B=>{console.log("onSuccess called with:",B),e.success({title:"Success",description:"Project and all books duplicated successfully"}),os.invalidateQueries({queryKey:["/api/projects"]})},onError:B=>{console.error("onError called with:",B),e.error({title:"Error",description:"Failed to duplicate project"})}}),P=Qe({mutationFn:async({projectId:B,deleteBooks:ae})=>(console.log("Deleting project:",B,"with deleteBooks:",ae),await $e("DELETE",`/api/projects/${B}?deleteBooks=${ae}`)),onSuccess:(B,{deleteBooks:ae})=>{e.success({title:"Success",description:ae?"Project and associated books deleted successfully":"Project deleted successfully, books have been unlinked"}),os.invalidateQueries({queryKey:["/api/projects"]}),os.invalidateQueries({queryKey:["/api/books"]})},onError:B=>{console.error("Delete failed:",B),e.error({title:"Error",description:"Failed to delete project"})}}),A=Qe({mutationFn:async B=>(console.log("Duplicating book:",B),await $e("POST",`/api/books/${B}/duplicate`)),onSuccess:()=>{e.success({title:"Success",description:"Book duplicated successfully"}),os.invalidateQueries({queryKey:["/api/projects"]})},onError:B=>{console.error("Book duplication failed:",B),e.error({title:"Error",description:"Failed to duplicate book"})}}),O=Qe({mutationFn:async({bookId:B,targetLanguage:ae})=>await $e("POST",`/api/books/${B}/translate`),onSuccess:()=>{e.success({title:"Success",description:"Book translated successfully"}),os.invalidateQueries({queryKey:["/api/projects"]}),os.invalidateQueries({queryKey:["/api/books"]}),m(null),x("")},onError:B=>{console.error("Book translation failed:",B),e.error({title:"Error",description:"Failed to translate book"})}});if(j.useEffect(()=>{if(!r&&!t){e.error({title:"Unauthorized",description:"You are logged out. Logging in again..."}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,r,e]),j.useEffect(()=>{if(C&&Oo(C)){e.error({title:"Unauthorized",description:"You are logged out. Logging in again..."}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[C,e]),r)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})});if(!t)return null;const M=Array.isArray(w)?w.filter(B=>{var Ce,Fe;const ae=((Ce=B.name)==null?void 0:Ce.toLowerCase().includes(s.toLowerCase()))||((Fe=B.description)==null?void 0:Fe.toLowerCase().includes(s.toLowerCase())),Se=o==="all"||B.status===o;return ae&&Se}).sort((B,ae)=>{const Se=ye=>!ye.books||!Array.isArray(ye.books)?0:(new Date().getMonth(),new Date().getFullYear(),ye.books.reduce((K,X)=>K+(parseFloat(X.monthlyRevenue)||0),0)),Ce=ye=>{if(!ye.books||!Array.isArray(ye.books))return new Date(ye.updatedAt);const K=ye.books.map(X=>new Date(X.updatedAt));return K.push(new Date(ye.updatedAt)),new Date(Math.max(...K.map(X=>X.getTime())))},Fe=ye=>parseFloat(ye.totalRevenue)||0;switch(c){case"alphabetical":return(B.name||"").localeCompare(ae.name||"");case"alphabetical-desc":return(ae.name||"").localeCompare(B.name||"");case"createdAt":return new Date(ae.createdAt).getTime()-new Date(B.createdAt).getTime();case"createdAt-asc":return new Date(B.createdAt).getTime()-new Date(ae.createdAt).getTime();case"lastModified":return Ce(ae).getTime()-Ce(B).getTime();case"monthlyRevenue":return Se(ae)-Se(B);case"totalRevenue":return Fe(ae)-Fe(B);case"status-asc":return(B.status||"").localeCompare(ae.status||"");case"status-desc":return(ae.status||"").localeCompare(B.status||"");default:return 0}}):[],T=B=>{switch(B){case"published":return"bg-green-100 text-green-800";case"in_review":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},E=B=>B.split(" ").map(ae=>ae[0]).join("").substring(0,2).toUpperCase(),I=B=>{n(`/projects/edit/${B.id}`)},L=B=>{console.log("Duplicating project:",B),k.mutate(B)},q=B=>{f(B),p(!1)},_=B=>{A.mutate(B)},$=B=>{m(B),x("")},G=()=>{g&&v&&O.mutate({bookId:g.id,targetLanguage:v})},re=B=>{b(ae=>{const Se=new Set(ae);return Se.has(B)?Se.delete(B):Se.add(B),Se})};return i.jsx(ft,{children:i.jsxs(fS,{children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Projects"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your book projects and track their progress."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F,{onClick:()=>n("/project-create-simple"),variant:"outline",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Project"]}),i.jsxs(F,{onClick:()=>n("/books/create"),className:"bg-primary hover:bg-primary/90",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Book"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(_e,{placeholder:"Search projects...",value:s,onChange:B=>a(B.target.value),className:"pl-10"})]}),i.jsxs(et,{value:o,onValueChange:l,children:[i.jsxs(Ze,{className:"w-[180px]",children:[i.jsx(qG,{className:"w-4 h-4 mr-2"}),i.jsx(tt,{placeholder:"Filter by status"})]}),i.jsxs(Je,{children:[i.jsx(U,{value:"all",children:"All Statuses"}),i.jsx(U,{value:"draft",children:"Draft"}),i.jsx(U,{value:"in_review",children:"In Review"}),i.jsx(U,{value:"published",children:"Published"})]})]}),i.jsxs(et,{value:c,onValueChange:u,children:[i.jsxs(Ze,{className:"w-[220px]",children:[i.jsx(RG,{className:"w-4 h-4 mr-2"}),i.jsx(tt,{placeholder:"Sort by..."})]}),i.jsxs(Je,{children:[i.jsx(U,{value:"alphabetical",children:"Alphabetical (A-Z)"}),i.jsx(U,{value:"alphabetical-desc",children:"Alphabetical (Z-A)"}),i.jsx(U,{value:"createdAt",children:"Newest First"}),i.jsx(U,{value:"createdAt-asc",children:"Oldest First"}),i.jsx(U,{value:"lastModified",children:"Last Modified"}),i.jsx(U,{value:"status-asc",children:"Status A-Z"}),i.jsx(U,{value:"status-desc",children:"Status Z-A"}),i.jsx(U,{value:"monthlyRevenue",children:"Most Profitable This Month"}),i.jsx(U,{value:"totalRevenue",children:"Highest Total Revenue"})]})]})]})]}),S?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(B=>i.jsx(Z,{className:"animate-pulse",children:i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},B))}):M.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(nr,{className:"w-8 h-8 text-gray-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:s||o!=="all"?"Try adjusting your filters or search terms.":"Get started by creating your first book project."}),!s&&o==="all"&&i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsxs(F,{onClick:()=>n("/project-create-simple"),variant:"outline",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Your First Project"]}),i.jsxs(F,{onClick:()=>n("/books/create"),className:"bg-primary hover:bg-primary/90",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Your First Book"]})]})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:M.map(B=>{var ae,Se;return i.jsxs(Z,{className:"hover:shadow-lg transition-shadow h-fit",children:[i.jsx(oe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[i.jsx("div",{className:"w-12 h-12 gradient-blue-purple rounded-lg flex items-center justify-center text-white font-semibold text-sm flex-shrink-0",children:E(B.name||"Project")}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs(Vf,{children:[i.jsx(qf,{asChild:!0,children:i.jsx(le,{className:"text-base font-medium text-gray-900 leading-tight mb-1 cursor-help",children:B.name})}),i.jsx(cu,{children:i.jsx("p",{children:B.name})})]}),B.description&&i.jsxs(Vf,{children:[i.jsx(qf,{asChild:!0,children:i.jsx("p",{className:"text-sm text-gray-600 leading-relaxed break-words cursor-help",children:B.description})}),i.jsx(cu,{children:i.jsx("p",{children:B.description})})]})]})]}),i.jsxs(Uu,{children:[i.jsx(Vu,{asChild:!0,children:i.jsx(F,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 hover:bg-blue-50",children:i.jsx(On,{className:"w-4 h-4 text-[#38b6ff]"})})}),i.jsxs(Yl,{align:"end",children:[i.jsxs(Ir,{onClick:()=>I(B),children:[i.jsx(_a,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsxs(Ir,{onClick:()=>L(B),children:[i.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Duplicate"]}),i.jsxs(Ir,{children:[i.jsx(zx,{className:"w-4 h-4 mr-2"}),"Analytics"]}),i.jsxs(Ir,{className:"text-red-600",onClick:()=>q(B),children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[B.books&&B.books.length>0?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[i.jsx(Pr,{className:"w-4 h-4"}),"Books (",B.books.length,")"]}),B.books.slice(0,y.has(B.id)?B.books.length:3).map(Ce=>i.jsxs("div",{className:"border rounded-lg p-3 bg-gray-50 space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs(Vf,{children:[i.jsx(qf,{asChild:!0,children:i.jsx("h4",{className:"text-sm font-medium text-gray-900 leading-tight break-words cursor-pointer hover:!text-blue-600 transition-colors",onClick:()=>n(`/books/edit/${Ce.id}`),children:Ce.title})}),i.jsx(cu,{children:i.jsx("p",{children:Ce.title})})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[i.jsx(me,{variant:"outline",className:"text-xs flex-shrink-0",children:Ce.format}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 flex-shrink-0",children:[i.jsx(ka,{className:"w-3 h-3"}),Ce.language||"English"]}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 flex-shrink-0",children:[i.jsx("span",{className:"font-medium",children:"ISBN/ASIN:"}),Ce.isbn?i.jsx("span",{className:"font-medium text-gray-700",children:Ce.isbn}):Ce.isbnPlaceholder?i.jsx("span",{className:"text-amber-600",children:Ce.isbnPlaceholder}):i.jsx("span",{children:"No ISBN/ASIN"})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:[i.jsx(me,{className:T(Ce.status||"draft"),children:(Ce.status||"draft").replace("_"," ")}),i.jsxs(Uu,{children:[i.jsx(Vu,{asChild:!0,children:i.jsx(F,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-50",children:i.jsx(On,{className:"w-3 h-3 text-[#38b6ff]"})})}),i.jsxs(Yl,{align:"end",children:[i.jsxs(Ir,{onClick:()=>n(`/books/edit/${Ce.id}`),children:[i.jsx(_a,{className:"w-3 h-3 mr-2"}),"Edit"]}),i.jsxs(Ir,{onClick:()=>_(Ce.id),children:[i.jsx(Pa,{className:"w-3 h-3 mr-2"}),"Duplicate"]}),i.jsxs(Ir,{onClick:()=>$(Ce),children:[i.jsx(Gj,{className:"w-3 h-3 mr-2"}),"Create Translated Copy"]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-gray-500 mb-1",children:[i.jsx(bi,{className:"w-3 h-3"}),"This Month"]}),i.jsxs("div",{className:"font-medium",children:["$",parseFloat(Ce.monthlyRevenue||"0").toFixed(2)]}),i.jsxs("div",{className:"text-gray-500",children:[Ce.monthlySales||0," sales"]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-gray-500 mb-1",children:[i.jsx(yi,{className:"w-3 h-3"}),"Total"]}),i.jsxs("div",{className:"font-medium",children:["$",parseFloat(Ce.totalRevenue||"0").toFixed(2)]}),i.jsxs("div",{className:"text-gray-500",children:[Ce.totalSales||0," sales"]})]})]})]},Ce.id)),B.books.length>3&&i.jsx("div",{className:"text-center pt-2",children:i.jsx("button",{onClick:()=>re(B.id),className:"text-sm text-gray-600 hover:text-blue-600 transition-colors cursor-pointer",children:y.has(B.id)?"Show Less":"See More"})})]}):i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(Pr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),i.jsx("p",{className:"text-sm",children:"No books in this project"}),i.jsxs(F,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>n(`/books/create?projectId=${B.id}`),children:[i.jsx(nr,{className:"w-3 h-3 mr-1"}),"Add Book"]})]}),i.jsx("div",{className:"border-t pt-3",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-gray-500 mb-1",children:[i.jsx(bi,{className:"w-4 h-4"}),"Monthly Revenue"]}),i.jsxs("div",{className:"font-semibold text-green-600",children:["$",((ae=B.books)==null?void 0:ae.reduce((Ce,Fe)=>Ce+parseFloat(Fe.monthlyRevenue||"0"),0).toFixed(2))||"0.00"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[((Se=B.books)==null?void 0:Se.reduce((Ce,Fe)=>Ce+(Fe.totalSales||0),0))||0," sales this month"]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-gray-500 mb-1",children:[i.jsx(yi,{className:"w-4 h-4"}),"Total Revenue"]}),i.jsxs("div",{className:"font-semibold text-blue-600",children:["$",parseFloat(B.totalRevenue||"0").toFixed(2)]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[B.totalSales||0," sales"]})]})]})})]})})]},B.id)})}),i.jsx($i,{open:!!d,onOpenChange:()=>{f(null),p(!1)},children:i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Delete Project"}),i.jsxs(ci,{children:["Are you sure you want to delete this project? This action cannot be undone.",(d==null?void 0:d.books)&&d.books.length>0&&i.jsxs("span",{className:"block mt-2 text-sm",children:["This project has ",d.books.length," associated book(s)."]})]})]}),(d==null?void 0:d.books)&&d.books.length>0&&i.jsxs("div",{className:"px-6 pb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Sa,{id:"delete-books",checked:h,onCheckedChange:B=>p(B)}),i.jsx("label",{htmlFor:"delete-books",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Also delete all books associated with this project?"})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:h?"Books will be permanently deleted.":"Books will be unlinked from the project but kept in your library."})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Cancel"}),i.jsx(ui,{onClick:()=>{d&&(P.mutate({projectId:d.id,deleteBooks:h}),f(null),p(!1))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Project"})]})]})}),i.jsx(mn,{open:!!g,onOpenChange:()=>{m(null),x("")},children:i.jsxs(tn,{children:[i.jsxs(rn,{children:[i.jsx(nn,{children:"Translate Book"}),i.jsxs(Vo,{children:['Create a translated version of "',g==null?void 0:g.title,'" in another language. This will create a new book with translated content.']})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Current Language:"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(g==null?void 0:g.language)||"English"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Translate to:"}),i.jsxs(et,{value:v,onValueChange:x,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select target language"})}),i.jsx(Je,{className:"max-h-60",children:N.filter(B=>B!==(g==null?void 0:g.language)).map(B=>i.jsx(U,{value:B,children:B},B))})]})]})]}),i.jsxs(GC,{children:[i.jsx(F,{variant:"outline",onClick:()=>{m(null),x("")},children:"Cancel"}),i.jsx(F,{onClick:G,disabled:!v||O.isPending,children:O.isPending?"Translating...":"Create Translation"})]})]})})]})})}function Ake(){const{toast:e}=Pt(),{isAuthenticated:t,isLoading:r}=Si();return j.useEffect(()=>{if(!r&&!t){e.error({title:"Unauthorized",description:"You are logged out. Logging in again..."}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,r,e]),r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):t?i.jsx(ft,{children:i.jsx(Tke,{})}):null}const OE=["English","German","French","Spanish","Italian","Portuguese","Dutch","Japanese","Afrikaans","Arabic (Beta)","Basque","Breton","Catalan","Chinese (Traditional) (Beta)","Cornish","Corsican","Danish","Eastern Frisian","Finnish","Frisian","Galician","Gujarati","Hindi","Icelandic","Irish","Luxembourgish","Malayalam","Manx","Marathi","Northern Frisian","Norwegian","Nynorsk Norwegian","Romanian","Scots","Scottish Gaelic","Swedish","Tamil","Welsh"];function Tke(){const[,e]=$n(),[t,r]=j.useState(""),[n,s]=j.useState("all"),[a,o]=j.useState("all"),[l,c]=j.useState("all"),[u,d]=j.useState("all"),[f,h]=j.useState(null),[p,g]=j.useState(""),[m,v]=j.useState("title-asc"),[x,y]=j.useState(null),{toast:b}=Pt(),N=dr(),{data:w=[],isLoading:S}=ze({queryKey:["/api/books"],staleTime:0}),{data:C=[]}=ze({queryKey:["/api/projects"]}),k=Qe({mutationFn:async({bookId:_,projectId:$})=>$e("PATCH",`/api/books/${_}`),onSuccess:()=>{b({title:"Success",description:"Book assigned to project successfully"}),N.invalidateQueries({queryKey:["/api/books"]}),N.invalidateQueries({queryKey:["/api/projects"]})},onError:_=>{b({title:"Error",description:_.message,variant:"destructive"})}}),P=Qe({mutationFn:async _=>$e("POST",`/api/books/${_}/duplicate`),onSuccess:()=>{b.success({title:"Success",description:"Book duplicated successfully"}),N.invalidateQueries({queryKey:["/api/books"]})},onError:_=>{b.error({title:"Error",description:_.message})}}),A=Qe({mutationFn:async _=>$e("DELETE",`/api/books/${_}`),onSuccess:()=>{b.success({title:"Success",description:"Book deleted successfully"}),N.invalidateQueries({queryKey:["/api/books"]}),N.invalidateQueries({queryKey:["/api/projects"]})},onError:_=>{b.error({title:"Error",description:_.message})}}),O=Qe({mutationFn:async({bookId:_,targetLanguage:$})=>$e("POST",`/api/books/${_}/translate`),onSuccess:_=>{b.success({title:"Translation Complete",description:`Book successfully translated to ${_.targetLanguage}`}),N.invalidateQueries({queryKey:["/api/books"]}),h(null),g("")},onError:_=>{b.error({title:"Translation Failed",description:_.message})}}),M=()=>{f&&p&&O.mutate({bookId:f.id,targetLanguage:p})},T=w.filter(_=>{var Se,Ce,Fe;const $=_.title.toLowerCase().includes(t.toLowerCase())||((Se=_.subtitle)==null?void 0:Se.toLowerCase().includes(t.toLowerCase()))||((Ce=_.authorFirstName)==null?void 0:Ce.toLowerCase().includes(t.toLowerCase()))||((Fe=_.authorLastName)==null?void 0:Fe.toLowerCase().includes(t.toLowerCase())),G=n==="all"||_.status===n,re=a==="all"||_.format===a,B=l==="all"||l==="assigned"&&_.projectId||l==="unassigned"&&!_.projectId,ae=u==="all"||_.language===u;return $&&G&&re&&B&&ae}).sort((_,$)=>{const G=ae=>new Date(ae.updatedAt||ae.createdAt||0),re=ae=>parseFloat(ae.monthlyRevenue||"0"),B=ae=>parseFloat(ae.totalRevenue||"0");switch(m){case"title-asc":return _.title.localeCompare($.title);case"title-desc":return $.title.localeCompare(_.title);case"date-asc":return new Date(_.createdAt||0).getTime()-new Date($.createdAt||0).getTime();case"date-desc":return new Date($.createdAt||0).getTime()-new Date(_.createdAt||0).getTime();case"status-asc":return(_.status||"").localeCompare($.status||"");case"status-desc":return($.status||"").localeCompare(_.status||"");case"lastModified":return G($).getTime()-G(_).getTime();case"monthlyRevenue":return re($)-re(_);case"totalRevenue":return B($)-B(_);default:return 0}}),E=_=>{if(!_)return null;const $=C.find(G=>G.id===_);return($==null?void 0:$.name)||"Unknown Project"},I=_=>{switch(_){case"published":return"default";case"draft":return"secondary";case"review":return"outline";default:return"secondary"}},L=_=>{switch(_){case"ebook":return"📱";case"paperback":return"📖";case"hardcover":return"📚";case"audiobook":return"🎧";default:return"📄"}},q=w.filter(_=>!_.projectId).length;return i.jsx(fS,{children:i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Books"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage all your books and their project assignments"}),q>0&&i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Ds,{className:"h-4 w-4 text-amber-500"}),i.jsxs("span",{className:"text-sm text-amber-600",children:[q," book",q!==1?"s":""," not assigned to any project"]})]})]}),i.jsx(Pn,{href:"/books/create",children:i.jsxs(F,{children:[i.jsx(nr,{className:"h-4 w-4 mr-2"}),"Add Book"]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(qx,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(_e,{placeholder:"Search books...",value:t,onChange:_=>r(_.target.value),className:"pl-10"})]}),i.jsxs(et,{value:n,onValueChange:s,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Filter by status"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"all",children:"All Statuses"}),i.jsx(U,{value:"draft",children:"Draft"}),i.jsx(U,{value:"review",children:"In Review"}),i.jsx(U,{value:"published",children:"Published"})]})]}),i.jsxs(et,{value:a,onValueChange:o,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Filter by format"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"all",children:"All Formats"}),i.jsx(U,{value:"ebook",children:"eBook"}),i.jsx(U,{value:"paperback",children:"Paperback"}),i.jsx(U,{value:"hardcover",children:"Hardcover"}),i.jsx(U,{value:"audiobook",children:"Audiobook"})]})]}),i.jsxs(et,{value:l,onValueChange:c,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Filter by assignment"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"all",children:"All Books"}),i.jsx(U,{value:"assigned",children:"Assigned to Project"}),i.jsx(U,{value:"unassigned",children:"Unassigned"})]})]}),i.jsxs(et,{value:u,onValueChange:d,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Filter by language"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"all",children:"All Languages"}),OE.map(_=>i.jsx(U,{value:_,children:_},_))]})]}),i.jsxs(et,{value:m,onValueChange:_=>v(_),children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Sort by"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"title-asc",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($L,{className:"h-4 w-4"}),"Title A-Z"]})}),i.jsx(U,{value:"title-desc",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(DL,{className:"h-4 w-4"}),"Title Z-A"]})}),i.jsx(U,{value:"date-asc",children:"Oldest First"}),i.jsx(U,{value:"date-desc",children:"Newest First"}),i.jsx(U,{value:"lastModified",children:"Last Modified"}),i.jsx(U,{value:"status-asc",children:"Status A-Z"}),i.jsx(U,{value:"status-desc",children:"Status Z-A"}),i.jsx(U,{value:"monthlyRevenue",children:"Most Profitable This Month"}),i.jsx(U,{value:"totalRevenue",children:"Highest Total Revenue"})]})]})]}),S?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(_=>i.jsxs(Z,{className:"animate-pulse",children:[i.jsxs(oe,{children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-3 bg-gray-200 rounded"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})})]},_))}):T.length===0?i.jsx(Z,{children:i.jsxs(ee,{className:"text-center py-12",children:[i.jsx(Pr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No books found"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:t||n!=="all"||a!=="all"||l!=="all"?"Try adjusting your filters or search term":"Create your first book to get started"}),i.jsx(Pn,{href:"/books/create",children:i.jsxs(F,{children:[i.jsx(nr,{className:"h-4 w-4 mr-2"}),"Add Book"]})})]})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(_=>i.jsxs(Z,{className:`relative ${_.projectId?"":"border-amber-200 bg-amber-50"}`,children:[i.jsx(oe,{className:"pb-3",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs(Vf,{children:[i.jsx(qf,{asChild:!0,children:i.jsx(le,{className:"text-lg truncate cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>e(`/books/edit/${_.id}`),children:_.title})}),i.jsx(cu,{children:i.jsx("p",{children:_.title})})]}),_.subtitle&&i.jsxs(Vf,{children:[i.jsx(qf,{asChild:!0,children:i.jsx("p",{className:"text-sm text-muted-foreground truncate cursor-help",children:_.subtitle})}),i.jsx(cu,{children:i.jsx("p",{children:_.subtitle})})]})]}),i.jsxs(Uu,{children:[i.jsx(Vu,{asChild:!0,children:i.jsx(F,{variant:"ghost",size:"sm",className:"hover:bg-blue-50",children:i.jsx(On,{className:"h-4 w-4 text-[#38b6ff]"})})}),i.jsxs(Yl,{align:"end",children:[i.jsx(Ir,{asChild:!0,children:i.jsxs(Pn,{href:`/books/edit/${_.id}`,className:"flex items-center",children:[i.jsx(_a,{className:"h-4 w-4 mr-2"}),"Edit"]})}),i.jsxs(Ir,{onClick:()=>P.mutate(_.id),disabled:P.isPending,children:[i.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),i.jsxs(Ir,{onClick:()=>{h(_),g("")},disabled:O.isPending,children:[i.jsx(Gj,{className:"h-4 w-4 mr-2"}),"Create Translated Copy"]}),i.jsx(ES,{}),i.jsxs(Ir,{onClick:()=>y(_),className:"text-destructive focus:text-destructive",disabled:A.isPending,children:[i.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})}),i.jsx(ee,{className:"pt-0",children:i.jsxs("div",{className:"space-y-3",children:[(_.authorFirstName||_.authorLastName)&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",[_.authorFirstName,_.authorLastName].filter(Boolean).join(" ")]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(me,{variant:I(_.status),children:_.status}),i.jsxs(me,{variant:"outline",children:[L(_.format)," ",_.format]})]}),_.language&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(ka,{className:"h-4 w-4"}),i.jsx("span",{children:_.language})]}),i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx("span",{className:"text-xs font-medium",children:"ISBN/ASIN:"}),i.jsx("span",{children:_.isbn?i.jsx("span",{className:"font-medium text-foreground",children:_.isbn}):_.isbnPlaceholder?i.jsx("span",{className:"text-amber-600",children:_.isbnPlaceholder}):i.jsx("span",{className:"text-muted-foreground",children:"No ISBN/ASIN"})})]}),_.seriesTitle&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(HG,{className:"h-4 w-4"}),i.jsxs("span",{children:["Series: ",i.jsx("span",{className:"font-medium text-foreground",children:_.seriesTitle}),_.seriesNumber&&i.jsxs("span",{className:"ml-1 bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded text-xs font-medium",children:["#",_.seriesNumber]})]})]}),i.jsx("div",{className:"space-y-2",children:_.projectId?i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Project: "}),i.jsx("span",{className:"font-medium",children:E(_.projectId)})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[i.jsx(Ds,{className:"h-4 w-4"}),i.jsx("span",{children:"Not assigned to any project"})]}),i.jsxs(et,{onValueChange:$=>k.mutate({bookId:_.id,projectId:$}),disabled:k.isPending,children:[i.jsx(Ze,{className:"h-8",children:i.jsx(tt,{placeholder:"Assign to project..."})}),i.jsx(Je,{children:C.map($=>i.jsx(U,{value:$.id,children:$.name},$.id))})]})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs border-t pt-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground mb-1",children:[i.jsx(bi,{className:"h-3 w-3"}),"This Month"]}),i.jsxs("div",{className:"font-medium",children:["$",parseFloat(_.monthlyRevenue||"0").toFixed(2)]}),i.jsxs("div",{className:"text-muted-foreground",children:[_.totalSales||0," sales"]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground mb-1",children:[i.jsx(yi,{className:"h-3 w-3"}),"Total"]}),i.jsxs("div",{className:"font-medium",children:["$",parseFloat(_.totalRevenue||"0").toFixed(2)]}),i.jsxs("div",{className:"text-muted-foreground",children:[_.totalSales||0," sales"]})]})]})]})})]},_.id))}),i.jsx($i,{open:!!x,onOpenChange:()=>y(null),children:i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Delete Book"}),i.jsxs(ci,{children:['Are you sure you want to delete "',x==null?void 0:x.title,'"? This action cannot be undone.']})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Cancel"}),i.jsx(ui,{onClick:()=>{x&&(A.mutate(x.id),y(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),i.jsx(mn,{open:!!f,onOpenChange:()=>{h(null),g("")},children:i.jsxs(tn,{children:[i.jsxs(rn,{children:[i.jsx(nn,{children:"Auto-Translate Book"}),i.jsxs(Vo,{children:['Create a fully translated version of "',f==null?void 0:f.title,'" using AI. All book information (title, subtitle, description, keywords, etc.) will be automatically translated.']})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Current Language"}),i.jsx("div",{className:"text-sm text-muted-foreground bg-gray-50 p-2 rounded",children:(f==null?void 0:f.language)||"Not specified"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Target Language"}),i.jsxs(et,{value:p,onValueChange:g,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select target language..."})}),i.jsx(Je,{children:OE.filter(_=>_!==(f==null?void 0:f.language)).map(_=>i.jsx(U,{value:_,children:_},_))})]})]})]}),i.jsxs(GC,{children:[i.jsx(F,{variant:"outline",onClick:()=>{h(null),g("")},children:"Cancel"}),i.jsx(F,{onClick:M,disabled:!p||O.isPending,children:O.isPending?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Translating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gj,{className:"h-4 w-4 mr-2"}),"Translate Book"]})})]})]})})]})})}var YC="Tabs",[Eke,yOe]=Kr(YC,[_d]),vU=_d(),[Oke,XC]=Eke(YC),xU=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Fm(l),[f,h]=Wi({prop:n,onChange:s,defaultProp:a});return i.jsx(Oke,{scope:r,baseId:zi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Re.div,{dir:d,"data-orientation":o,...u,ref:t})})});xU.displayName=YC;var yU="TabsList",bU=j.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=XC(yU,r),o=vU(r);return i.jsx(bS,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Re.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});bU.displayName=yU;var jU="TabsTrigger",wU=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=XC(jU,r),l=vU(r),c=CU(o.baseId,n),u=PU(o.baseId,n),d=n===o.value;return i.jsx(jS,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Re.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:je(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:je(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:je(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});wU.displayName=jU;var NU="TabsContent",SU=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=XC(NU,r),c=CU(l.baseId,n),u=PU(l.baseId,n),d=n===l.value,f=j.useRef(d);return j.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Gn,{present:s||d,children:({present:h})=>i.jsx(Re.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});SU.displayName=NU;function CU(e,t){return`${e}-trigger-${t}`}function PU(e,t){return`${e}-content-${t}`}var Mke=xU,kU=bU,_U=wU,AU=SU;const ip=Mke,Vd=j.forwardRef(({className:e,...t},r)=>i.jsx(kU,{ref:r,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vd.displayName=kU.displayName;const qr=j.forwardRef(({className:e,...t},r)=>i.jsx(_U,{ref:r,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));qr.displayName=_U.displayName;const Wr=j.forwardRef(({className:e,...t},r)=>i.jsx(AU,{ref:r,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wr.displayName=AU.displayName;const ME=["#38b6ff","#ff9900","#146eb4","#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57"];function Ike(){const[e,t]=j.useState("30"),{data:r,isLoading:n,refetch:s}=ze({queryKey:["/api/analytics/detailed"]}),{data:a,isLoading:o}=ze({queryKey:["/api/analytics/overview"]}),{data:l,isLoading:c}=ze({queryKey:["/api/analytics/top-performers"]}),{data:u,isLoading:d}=ze({queryKey:["/api/analytics/marketplace-breakdown"]}),{data:f,isLoading:h}=ze({queryKey:[`/api/analytics/sales-trends/${e}`]}),p=(v,x)=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:x,minimumFractionDigits:2}).format(v),g=()=>{s(),jo({title:"Données actualisées",description:"Les analytics ont été mises à jour"})},m=n||o||c||d||h;return i.jsx(ft,{children:i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(bi,{className:"h-8 w-8 text-blue-600"}),"Analytics KDP"]}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Analyse complète de vos revenus avec la méthode experte"}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs(me,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[i.jsx(Oi,{className:"h-3 w-3 mr-1"}),"Méthode experte validée"]}),i.jsx(me,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Montants originaux préservés"})]})]}),i.jsxs(F,{onClick:g,variant:"outline",size:"sm",children:[i.jsx(or,{className:"h-4 w-4 mr-2"}),"Actualiser"]})]}),m?i.jsx("div",{className:"animate-pulse space-y-6",children:i.jsx("div",{className:"grid gap-6 md:grid-cols-4",children:[...Array(4)].map((v,x)=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},x))})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[i.jsxs(Z,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium text-green-800",children:"Total Revenus EUR"}),i.jsx(yi,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-900",children:r?p(r.totalInEUR,"EUR"):"€0.00"}),i.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Taux BCE - Méthode experte"})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium",children:"Transactions"}),i.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.totalRecords.toLocaleString())||"0"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["De ",(r==null?void 0:r.totalCurrencies)||0," devises"]})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium",children:"Livres Uniques"}),i.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.uniqueBooks)||0}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sur ",(r==null?void 0:r.uniqueMarketplaces)||0," marchés"]})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium",children:"Formats"}),i.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold",children:(r==null?void 0:r.uniqueFormats)||0}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"eBook, Paperback, Hardcover"})]})]})]}),i.jsxs(ip,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Vd,{className:"grid w-full grid-cols-4",children:[i.jsx(qr,{value:"overview",children:"Vue d'ensemble"}),i.jsx(qr,{value:"currencies",children:"Devises"}),i.jsx(qr,{value:"performance",children:"Performance"}),i.jsx(qr,{value:"comparison",children:"Comparaison"})]}),i.jsxs(Wr,{value:"overview",className:"space-y-6",children:[(r==null?void 0:r.royaltiesByCurrency)&&i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Répartition des Revenus par Devise"}),i.jsx(Ue,{children:"Montants originaux sans conversion"})]}),i.jsx(ee,{children:i.jsx(Wf,{width:"100%",height:300,children:i.jsxs(ike,{data:r.royaltiesByCurrency,children:[i.jsx(Jv,{strokeDasharray:"3 3"}),i.jsx(sc,{dataKey:"currency"}),i.jsx(ac,{}),i.jsx(zn,{formatter:(v,x)=>[v.toLocaleString(),"Montant"]}),i.jsx(wc,{dataKey:"totalRoyalty",fill:"#38b6ff"})]})})})]}),(r==null?void 0:r.conversions)&&i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Répartition en EUR (Conversion BCE)"}),i.jsx(Ue,{children:"Distribution des revenus convertis en euros"})]}),i.jsx(ee,{children:i.jsx(Wf,{width:"100%",height:300,children:i.jsxs(qz,{children:[i.jsx(na,{data:r.conversions,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"amountInEUR",label:({currency:v,amountInEUR:x})=>`${v}: ${x.toFixed(0)}€`,children:r.conversions.map((v,x)=>i.jsx(Xm,{fill:ME[x%ME.length]},`cell-${x}`))}),i.jsx(zn,{formatter:v=>[`${Number(v).toFixed(2)}€`,"Montant EUR"]})]})})})]})]}),i.jsx(Wr,{value:"currencies",className:"space-y-6",children:(r==null?void 0:r.royaltiesByCurrency)&&i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Détail par Devise"}),i.jsx(Ue,{children:"Montants originaux et conversions EUR"})]}),i.jsx(ee,{children:i.jsx("div",{className:"space-y-4",children:r.royaltiesByCurrency.map((v,x)=>{const y=r.conversions.find(b=>b.currency===v.currency);return i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(me,{variant:"outline",className:"font-mono text-lg",children:v.currency}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-lg",children:p(v.totalRoyalty,v.currency)}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.transactionCount," transactions • ",v.formatsCount," formats"]})]})]}),i.jsx("div",{className:"text-right",children:y&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-green-700",children:p(y.amountInEUR,"EUR")}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Taux: 1 EUR = ",y.exchangeRate.toFixed(4)," ",v.currency]})]})})]},x)})})})]})}),i.jsxs(Wr,{value:"performance",className:"space-y-6",children:[l&&l.length>0&&i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Top Livres Performants"}),i.jsx(Ue,{children:"Livres générant le plus de revenus"})]}),i.jsx(ee,{children:i.jsx("div",{className:"space-y-4",children:l.slice(0,5).map((v,x)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(me,{variant:"secondary",children:["#",x+1]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium line-clamp-2",children:v.title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.marketplace," • ASIN: ",v.asin]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-bold",children:[v.totalRoyalty.toFixed(2)," ",v.currency]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.totalUnits," unités"]})]})]},x))})})]}),f&&f.length>0&&i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Tendances des Ventes"}),i.jsx(Ue,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{children:["Évolution sur ",e," jours"]}),i.jsxs("select",{value:e,onChange:v=>t(v.target.value),className:"border rounded px-2 py-1 text-sm",children:[i.jsx("option",{value:"7",children:"7 jours"}),i.jsx("option",{value:"30",children:"30 jours"}),i.jsx("option",{value:"90",children:"90 jours"})]})]})})]}),i.jsx(ee,{children:i.jsx(Wf,{width:"100%",height:300,children:i.jsxs(Vz,{data:f,children:[i.jsx(Jv,{strokeDasharray:"3 3"}),i.jsx(sc,{dataKey:"date"}),i.jsx(ac,{}),i.jsx(zn,{}),i.jsx(Mo,{}),i.jsx(ic,{type:"monotone",dataKey:"royalty",stroke:"#38b6ff",name:"Royalties"}),i.jsx(ic,{type:"monotone",dataKey:"units",stroke:"#ff9900",name:"Unités"})]})})})]})]}),i.jsxs(Wr,{value:"comparison",className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(Z,{className:"border-green-200 bg-green-50",children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"text-green-900 flex items-center gap-2",children:[i.jsx(Oi,{className:"h-5 w-5"}),"Nouvelle Méthode (Experte)"]}),i.jsx(Ue,{className:"text-green-700",children:"Extraction des onglets détaillés uniquement"})]}),i.jsx(ee,{className:"text-green-800",children:r&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total EUR:"}),i.jsx(me,{className:"bg-green-200 text-green-900",children:p(r.totalInEUR,"EUR")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Transactions:"}),i.jsx(me,{variant:"outline",children:r.totalRecords})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Devises:"}),i.jsx(me,{variant:"outline",children:r.totalCurrencies})]}),i.jsxs("div",{className:"text-xs space-y-1 pt-2 border-t border-green-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Oi,{className:"h-3 w-3"}),i.jsx("span",{children:"Onglets détaillés seulement"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Oi,{className:"h-3 w-3"}),i.jsx("span",{children:"Pas de doublons"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Oi,{className:"h-3 w-3"}),i.jsx("span",{children:"Montants originaux"})]})]})]})})]}),i.jsxs(Z,{className:"border-orange-200 bg-orange-50",children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"text-orange-900 flex items-center gap-2",children:[i.jsx(Ds,{className:"h-5 w-5"}),"Ancienne Méthode (Legacy)"]}),i.jsx(Ue,{className:"text-orange-700",children:"Système avec conversions et doublons"})]}),i.jsx(ee,{className:"text-orange-800",children:a&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total USD:"}),i.jsxs(me,{className:"bg-orange-200 text-orange-900",children:["$",a.totalRevenueUSD]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Records:"}),i.jsx(me,{variant:"outline",children:a.totalRecords})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Imports:"}),i.jsx(me,{variant:"outline",children:a.totalImports})]}),i.jsxs("div",{className:"text-xs space-y-1 pt-2 border-t border-orange-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ds,{className:"h-3 w-3"}),i.jsx("span",{children:'Inclut données "Combined Sales"'})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ds,{className:"h-3 w-3"}),i.jsx("span",{children:"Conversions automatiques"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ds,{className:"h-3 w-3"}),i.jsx("span",{children:"Doublons potentiels"})]})]})]})})]})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Pourquoi la Nouvelle Méthode est Plus Précise"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4 text-sm",children:[i.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded",children:[i.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"✅ Méthode Experte"}),i.jsxs("ul",{className:"space-y-1 text-green-800",children:[i.jsx("li",{children:'• Extraction directe des onglets "eBook Royalty" + "Paperback Royalty" + "Hardcover Royalty"'}),i.jsx("li",{children:'• Exclusion des données "Combined Sales" qui créent des doublons'}),i.jsx("li",{children:"• Préservation des montants originaux par devise"}),i.jsx("li",{children:"• Conversion EUR avec taux BCE officiels"})]})]}),i.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded",children:[i.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"⚠️ Problèmes de l'Ancienne Méthode"}),i.jsxs("ul",{className:"space-y-1 text-orange-800",children:[i.jsx("li",{children:'• Inclut les données "Combined Sales" (doublons avec les détails)'}),i.jsx("li",{children:'• Inclut les données "Payments" (historiques cumulatives)'}),i.jsx("li",{children:"• Conversions automatiques approximatives"}),i.jsx("li",{children:"• Perte des montants originaux"})]})]})]})})]})]})]})]})]})})}function Dke(){const{data:e,isLoading:t,refetch:r}=ze({queryKey:["/api/analytics/overview"]}),{data:n,isLoading:s,refetch:a}=ze({queryKey:["/api/analytics/overview-normalized"]}),o=async()=>{try{const u=await(await fetch("/api/analytics/migrate",{method:"POST",headers:{"Content-Type":"application/json"}})).json();jo({title:"Migration terminée",description:`${u.migratedCount} enregistrements migrés, ${u.skippedCount} ignorés`}),r(),a()}catch{jo({title:"Erreur de migration",description:"Impossible de migrer les données",variant:"destructive"})}},l=(c,u)=>{const d=parseFloat(c);return new Intl.NumberFormat("fr-FR",{style:"currency",currency:u,minimumFractionDigits:2}).format(d)};return i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Comparaison Analytics"}),i.jsx("p",{className:"text-muted-foreground",children:"Comparaison entre l'ancien système (avec conversion) et le nouveau (montants originaux préservés)"})]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(F,{onClick:o,variant:"outline",size:"sm",children:[i.jsx(or,{className:"h-4 w-4 mr-2"}),"Migrer les données"]})})]}),i.jsxs(ip,{defaultValue:"comparison",className:"w-full",children:[i.jsxs(Vd,{className:"grid w-full grid-cols-3",children:[i.jsx(qr,{value:"comparison",children:"Comparaison"}),i.jsx(qr,{value:"legacy",children:"Ancien Système"}),i.jsx(qr,{value:"normalized",children:"Nouveau Système"})]}),i.jsxs(Wr,{value:"comparison",className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(yi,{className:"h-5 w-5 text-green-500"}),"Ancien Système (USD Converti)"]}),i.jsx(Ue,{children:"Système actuel avec conversion automatique en USD"})]}),i.jsx(ee,{className:"space-y-3",children:t?i.jsxs("div",{className:"animate-pulse space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Records:"}),i.jsx(me,{variant:"outline",children:e.totalRecords})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Revenue (USD):"}),i.jsxs(me,{className:"bg-green-100 text-green-800",children:["$",e.totalRevenueUSD]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Livres uniques:"}),i.jsx(me,{variant:"secondary",children:e.uniqueBooks})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Marchés:"}),i.jsx(me,{variant:"secondary",children:e.uniqueMarketplaces})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsx("span",{className:"text-xs text-red-600",children:"⚠️ Inclut les données de paiements cumulatives"})})]}):i.jsx("p",{className:"text-red-500",children:"Erreur de chargement"})})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(ka,{className:"h-5 w-5 text-blue-500"}),"Nouveau Système (Devises Originales)"]}),i.jsx(Ue,{children:"Structure normalisée avec montants originaux préservés"})]}),i.jsx(ee,{className:"space-y-3",children:s?i.jsxs("div",{className:"animate-pulse space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Records:"}),i.jsx(me,{variant:"outline",children:n.totalRecords})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Livres uniques:"}),i.jsx(me,{variant:"secondary",children:n.uniqueBooks})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Marchés:"}),i.jsx(me,{variant:"secondary",children:n.uniqueMarketplaces})]}),i.jsx("div",{className:"pt-2 border-t",children:i.jsx("span",{className:"text-xs text-green-600",children:"✅ Exclut les données de paiements cumulatives"})})]}):i.jsx("p",{className:"text-red-500",children:"Erreur de chargement"})})]})]}),(n==null?void 0:n.royaltiesByCurrency)&&i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(bi,{className:"h-5 w-5"}),"Répartition par Devise (Montants Originaux)"]}),i.jsx(Ue,{children:"Revenus par devise dans leur monnaie d'origine"})]}),i.jsx(ee,{children:i.jsx("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:n.royaltiesByCurrency.map((c,u)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(me,{variant:"outline",className:"font-mono",children:c.currency}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",c.transactions," trans.)"]})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-medium",children:l(c.originalAmount,c.currency)})})]},u))})})]})]}),i.jsx(Wr,{value:"legacy",className:"space-y-6",children:i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Système Actuel (Avec Conversion USD)"}),i.jsx(Ue,{children:"Vue détaillée du système de données historiques avec conversion automatique"})]}),i.jsx(ee,{children:e?i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Métriques Principales"}),i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",e.totalRevenueUSD]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Revenue total en USD (après conversion)"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Données Importées"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Imports:"}),i.jsx("span",{children:e.totalImports})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Records:"}),i.jsx("span",{children:e.totalRecords})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Royalty moyenne:"}),i.jsxs("span",{children:["$",e.averageRoyaltyUSD]})]})]})]})]}):i.jsx("p",{children:"Chargement des données héritées..."})})]})}),i.jsx(Wr,{value:"normalized",className:"space-y-6",children:i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Nouveau Système (Montants Originaux)"}),i.jsx(Ue,{children:"Structure normalisée avec préservation des devises originales"})]}),i.jsx(ee,{children:n?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold",children:n.totalRecords}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Transactions"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold",children:n.uniqueBooks}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Livres"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold",children:n.uniqueMarketplaces}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Marchés"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Revenus par Devise"}),i.jsx("div",{className:"space-y-2",children:n.royaltiesByCurrency.map((c,u)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(me,{className:"font-mono",children:c.currency}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.transactions," transactions"]})]}),i.jsx("div",{className:"font-medium",children:l(c.originalAmount,c.currency)})]},u))})]})]}):i.jsx("p",{children:"Chargement des données normalisées..."})})]})})]})]})}function $ke(){const{data:e,isLoading:t,refetch:r}=ze({queryKey:["/api/analytics/detailed"]}),n=(a,o)=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:o,minimumFractionDigits:2}).format(a),s=()=>{r(),jo({title:"Données actualisées",description:"Les analytics détaillées ont été mises à jour"})};return t?i.jsx("div",{className:"container mx-auto p-6",children:i.jsxs("div",{className:"animate-pulse space-y-6",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),i.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:[...Array(3)].map((a,o)=>i.jsx("div",{className:"h-32 bg-gray-200 rounded"},o))})]})}):e?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(Oi,{className:"h-8 w-8 text-green-500"}),"Analytics Détaillées (Méthode Experte)"]}),i.jsx("p",{className:"text-muted-foreground mt-2",children:e.description}),i.jsx(me,{variant:"outline",className:"mt-2 bg-green-50 text-green-700 border-green-200",children:"✅ Données extraites des onglets détaillés (ebook + paperback + hardcover)"})]}),i.jsxs(F,{onClick:s,variant:"outline",size:"sm",children:[i.jsx(or,{className:"h-4 w-4 mr-2"}),"Actualiser"]})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[i.jsxs(Z,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium",children:"Total Transactions"}),i.jsx(bi,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.totalRecords.toLocaleString()}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["De ",e.totalCurrencies," devises"]})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium",children:"Livres Uniques"}),i.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.uniqueBooks}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sur ",e.uniqueMarketplaces," marchés"]})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium",children:"Formats"}),i.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold",children:e.uniqueFormats}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"eBook, Paperback, Hardcover"})]})]}),i.jsxs(Z,{className:"bg-green-50 border-green-200",children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium text-green-800",children:"Total EUR"}),i.jsx(yi,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-800",children:n(e.totalInEUR,"EUR")}),i.jsx("p",{className:"text-xs text-green-600",children:"Taux BCE (1er août 2025)"})]})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(ka,{className:"h-5 w-5"}),"Montants Originaux par Devise"]}),i.jsx(Ue,{children:"Royalties cumulées par devise sans conversion (données originales préservées)"})]}),i.jsx(ee,{children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.royaltiesByCurrency.map((a,o)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(me,{variant:"outline",className:"font-mono text-lg",children:a.currency}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("div",{children:[a.transactionCount," trans."]}),i.jsxs("div",{children:[a.formatsCount," formats"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-bold text-lg",children:n(a.totalRoyalty,a.currency)}),i.jsx("div",{className:"text-xs text-muted-foreground",children:a.formats.join(", ")})]})]},o))})})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(yi,{className:"h-5 w-5 text-green-600"}),"Conversion en EUR (Taux BCE)"]}),i.jsx(Ue,{children:"Conversion des montants originaux en EUR avec les taux de référence de la Banque Centrale Européenne"})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"space-y-3",children:e.conversions.map((a,o)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(me,{className:"font-mono",children:a.currency}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:n(a.originalAmount,a.currency)}),i.jsxs("div",{className:"text-muted-foreground",children:["Taux: 1 EUR = ",a.exchangeRate.toFixed(4)," ",a.currency]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-bold text-green-700",children:n(a.amountInEUR,"EUR")}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.transactionCount," trans. • ",a.formatsCount," formats"]})]})]},o))}),i.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-900",children:"Total Consolidé"}),i.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Somme de toutes les conversions EUR avec taux BCE du 1er août 2025"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-3xl font-bold text-green-900",children:n(e.totalInEUR,"EUR")}),i.jsxs("div",{className:"text-sm text-green-700",children:[e.totalTransactions.toLocaleString()," transactions"]})]})]})})]})]}),i.jsxs(Z,{className:"border-green-200 bg-green-50",children:[i.jsx(oe,{children:i.jsxs(le,{className:"text-green-900 flex items-center gap-2",children:[i.jsx(Oi,{className:"h-5 w-5"}),"Vérification de la Méthode"]})}),i.jsxs(ee,{className:"text-green-800",children:[i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oi,{className:"h-4 w-4"}),i.jsx("span",{children:"Extraction directe des onglets : eBook Royalty + Paperback Royalty + Hardcover Royalty"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oi,{className:"h-4 w-4"}),i.jsx("span",{children:'Exclusion des données "Combined Sales" (évite les doublons)'})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oi,{className:"h-4 w-4"}),i.jsx("span",{children:"Préservation des montants originaux par devise"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oi,{className:"h-4 w-4"}),i.jsx("span",{children:"Conversion EUR avec taux BCE officiels du 1er août 2025"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Oi,{className:"h-4 w-4"}),i.jsx("span",{children:"Résultats identiques à l'analyse experte externe"})]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-white border border-green-300 rounded",children:[i.jsx("h5",{className:"font-medium text-green-900 mb-2",children:"Totaux de Vérification"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-green-700",children:"Total toutes devises:"}),i.jsx("span",{className:"font-mono ml-2",children:"24,461.44"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-green-700",children:"Total EUR converti:"}),i.jsxs("span",{className:"font-mono ml-2",children:[e.totalInEUR.toFixed(2)," EUR"]})]})]})]})]})]})]}):i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(Z,{children:i.jsx(ee,{className:"pt-6",children:i.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des données détaillées"})})})})}function Rke(){const{toast:e}=Pt(),{isAuthenticated:t,isLoading:r}=Si(),[n,s]=j.useState(null),[a,o]=j.useState(!1),l=dr(),c=Qe({mutationFn:async g=>(new FormData().append("kdpReport",g),await $e("POST","/api/kdp-reports/upload")),onSuccess:async g=>{const m=await g.json();e({title:"Upload Successful",description:`Processed ${m.recordsProcessed} sales records`}),s(null),l.invalidateQueries({queryKey:["/api/dashboard/stats"]}),l.invalidateQueries({queryKey:["/api/sales-data"]})},onError:g=>{if(Oo(g)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}e({title:"Upload Failed",description:g.message||"Failed to process KDP report",variant:"destructive"})}});j.useEffect(()=>{if(!r&&!t){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,r,e]);const u=g=>{g.preventDefault(),g.stopPropagation(),g.type==="dragenter"||g.type==="dragover"?o(!0):g.type==="dragleave"&&o(!1)},d=g=>{g.preventDefault(),g.stopPropagation(),o(!1);const m=g.dataTransfer.files;if(m&&m[0]){const v=m[0];h(v)?s(v):e({title:"Invalid File Type",description:"Please upload an Excel (.xlsx, .xls) or CSV file",variant:"destructive"})}},f=g=>{const m=g.target.files;if(m&&m[0]){const v=m[0];h(v)?s(v):e({title:"Invalid File Type",description:"Please upload an Excel (.xlsx, .xls) or CSV file",variant:"destructive"})}},h=g=>["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(g.type)||g.name.endsWith(".csv"),p=()=>{n&&c.mutate(n)};return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):t?i.jsxs(ft,{children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"KDP Reports"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Upload and analyze your Amazon KDP sales reports."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center",children:[i.jsx(wh,{className:"w-5 h-5 mr-2"}),"Upload KDP Report"]})}),i.jsxs(ee,{children:[i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${a?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:d,children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:i.jsx(Fo,{className:"w-6 h-6 text-gray-400"})}),i.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Drop your KDP report here"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"or click to browse for files"}),i.jsx(_e,{type:"file",accept:".xlsx,.xls,.csv",onChange:f,className:"hidden",id:"file-upload"}),i.jsx("label",{htmlFor:"file-upload",children:i.jsx(F,{variant:"outline",className:"cursor-pointer",children:"Choose File"})}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supports Excel (.xlsx, .xls) and CSV files"})]}),n&&i.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fo,{className:"w-4 h-4 text-gray-500 mr-2"}),i.jsx("span",{className:"text-sm font-medium",children:n.name})]}),i.jsx(F,{onClick:p,disabled:c.isPending,className:"bg-primary hover:bg-primary/90",children:c.isPending?"Uploading...":"Upload"})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Size: ",(n.size/1024/1024).toFixed(2)," MB"]})]})]})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"How to Get Your KDP Report"})}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Login to KDP"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Go to your Amazon KDP dashboard"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Navigate to Reports"}),i.jsx("p",{className:"text-sm text-gray-600",children:'Click on "Reports" in the main menu'})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Download Sales Data"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Select your date range and download the report"})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"4"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Upload Here"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Upload the downloaded file to analyze your data"})]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mt-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Lo,{className:"w-5 h-5 text-blue-600 mr-2"}),i.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Supported Formats"})]}),i.jsxs("ul",{className:"text-sm text-blue-800 mt-2 space-y-1",children:[i.jsx("li",{children:"• Excel files (.xlsx, .xls)"}),i.jsx("li",{children:"• CSV files (.csv)"}),i.jsx("li",{children:"• All KDP report formats supported"})]})]}),i.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(bh,{className:"w-5 h-5 text-yellow-600 mr-2"}),i.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Data Privacy"})]}),i.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"Your sales data is securely processed and stored. We never share your information with third parties."})]})]})]})]})]}):null}const bs=j.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));bs.displayName="Textarea";function Lke(){const{toast:e}=Pt(),{isAuthenticated:t,isLoading:r,user:n}=Si(),[s,a]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(""),{data:d}=ze({queryKey:["/api/ai/generations"],enabled:t}),f=Qe({mutationFn:async g=>await $e("POST","/api/ai/generate"),onSuccess:async g=>{const m=await g.json();u(m.content),e({title:"Content Generated",description:`Used ${m.tokensUsed} tokens`})},onError:g=>{if(Oo(g)){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}e({title:"Generation Failed",description:g.message||"Failed to generate content",variant:"destructive"})}});j.useEffect(()=>{if(!r&&!t){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,r,e]);const h=()=>{if(!o||!s.trim()){e({title:"Missing Information",description:"Please select a content type and enter a prompt",variant:"destructive"});return}f.mutate({type:o,prompt:s})},p=()=>{navigator.clipboard.writeText(c),e({title:"Copied",description:"Content copied to clipboard"})};return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):t?i.jsxs(ft,{children:[i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[i.jsx(vs,{className:"w-6 h-6 mr-2"}),"AI Assistant",i.jsx(me,{className:"ml-2 bg-secondary text-secondary-foreground",children:"PRO"})]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Generate content for your books using advanced AI."})]})})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center",children:[i.jsx(i_,{className:"w-5 h-5 mr-2"}),"Generate Content"]})}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Type"}),i.jsxs(et,{value:o,onValueChange:l,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select content type"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"structure",children:"Book Structure"}),i.jsx(U,{value:"description",children:"Book Description"}),i.jsx(U,{value:"marketing",children:"Marketing Copy"}),i.jsx(U,{value:"chapters",children:"Chapter Outlines"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prompt"}),i.jsx(bs,{value:s,onChange:g=>a(g.target.value),placeholder:"Describe what you want the AI to generate...",rows:6,className:"resize-none"})]}),i.jsx(F,{onClick:h,disabled:f.isPending||!o||!s.trim(),className:"w-full bg-primary hover:bg-primary/90",children:f.isPending?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(i_,{className:"w-4 h-4 mr-2"}),"Generate Content"]})})]})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Generated Content"})}),i.jsx(ee,{children:c?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:c})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(F,{onClick:p,variant:"outline",size:"sm",children:[i.jsx(Pa,{className:"w-4 h-4 mr-1"}),"Copy"]}),i.jsxs(F,{variant:"outline",size:"sm",children:[i.jsx($m,{className:"w-4 h-4 mr-1"}),"Download"]})]})]}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(vs,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"Generated content will appear here"})]})})]})]}),Array.isArray(d)&&d.length>0&&i.jsxs(Z,{className:"mt-6",children:[i.jsx(oe,{children:i.jsx(le,{children:"Recent Generations"})}),i.jsx(ee,{children:i.jsx("div",{className:"space-y-4",children:d.slice(0,5).map(g=>i.jsxs("div",{className:"border-b border-gray-200 pb-4 last:border-b-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(me,{variant:"outline",children:g.type}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(g.createdAt).toLocaleDateString()})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:g.prompt}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded text-xs",children:[g.response.substring(0,200),"..."]})]},g.id))})})]})]}):null}const Fke=[{name:"Free",price:"0€",period:"forever",description:"Perfect for getting started with basic features",features:["Up to 3 projects","Basic analytics","Manual KDP report upload","Community support"],limitations:["No AI content generation","Limited export options","Basic reporting only"],current:!0,buttonText:"Current Plan",buttonVariant:"secondary"},{name:"Pro",price:"19€",period:"month",description:"Everything you need to scale your publishing business",features:["Unlimited projects","Advanced analytics & insights","AI content generation","Automated KDP parsing","Priority support","Advanced export options","Revenue forecasting"],limitations:[],current:!1,buttonText:"Upgrade to Pro",buttonVariant:"default",popular:!0},{name:"Enterprise",price:"49€",period:"month",description:"For serious authors and publishing teams",features:["Everything in Pro","Team collaboration","White-label options","Custom integrations","Dedicated account manager","Custom reporting","API access"],limitations:[],current:!1,buttonText:"Contact Sales",buttonVariant:"outline"}];function Bke(){Si();const e=t=>{t==="Pro"?window.location.href="/api/create-subscription":t==="Enterprise"&&window.open("mailto:support@kdpgenerator.com?subject=Enterprise Plan Inquiry","_blank")};return i.jsx(ft,{children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Choose Your Publishing Plan"}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Unlock powerful features to grow your publishing business. Start free and upgrade as you scale."})]}),i.jsxs(Z,{className:"mb-12",children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(Vx,{className:"h-5 w-5 text-primary"}),"Current Subscription"]}),i.jsxs(Ue,{children:["You are currently on the ",i.jsx("strong",{children:"Free Plan"})]})]}),i.jsx(ee,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:"3"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Projects Created"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Limit: 3"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-secondary",children:"0"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Generations Used"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Upgrade for unlimited"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-success",children:"5"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Reports Analyzed"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Unlimited"})]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:Fke.map(t=>i.jsxs(Z,{className:`relative ${t.popular?"border-primary shadow-lg scale-105":""} ${t.current?"border-secondary":""}`,children:[t.popular&&i.jsx(me,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-primary text-primary-foreground",children:"Most Popular"}),t.current&&i.jsx(me,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-secondary text-secondary-foreground",children:"Current Plan"}),i.jsxs(oe,{className:"text-center",children:[i.jsx(le,{className:"text-2xl",children:t.name}),i.jsxs("div",{className:"text-3xl font-bold",children:[t.price,t.period!=="forever"&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:["/",t.period]})]}),i.jsx(Ue,{children:t.description})]}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[t.features.map(r=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ba,{className:"h-4 w-4 text-success"}),i.jsx("span",{className:"text-sm",children:r})]},r)),t.limitations.map(r=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ji,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},r))]}),i.jsx(F,{className:"w-full",variant:t.buttonVariant,onClick:()=>e(t.name),disabled:t.current,children:t.buttonText})]})]},t.name))}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Feature Comparison"}),i.jsx(Ue,{children:"Compare all features across our plans"})]}),i.jsx(ee,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"text-left py-2 text-foreground",children:"Feature"}),i.jsx("th",{className:"text-center py-2 text-foreground",children:"Free"}),i.jsx("th",{className:"text-center py-2 text-foreground",children:"Pro"}),i.jsx("th",{className:"text-center py-2 text-foreground",children:"Enterprise"})]})}),i.jsxs("tbody",{className:"space-y-2",children:[i.jsxs("tr",{className:"border-b border-border",children:[i.jsxs("td",{className:"py-2 flex items-center gap-2 text-foreground",children:[i.jsx(Pr,{className:"h-4 w-4"}),"Project Management"]}),i.jsx("td",{className:"text-center py-2 text-muted-foreground",children:"3 projects"}),i.jsx("td",{className:"text-center py-2 text-foreground",children:"Unlimited"}),i.jsx("td",{className:"text-center py-2 text-foreground",children:"Unlimited"})]}),i.jsxs("tr",{className:"border-b border-border",children:[i.jsxs("td",{className:"py-2 flex items-center gap-2 text-foreground",children:[i.jsx(vs,{className:"h-4 w-4"}),"AI Content Generation"]}),i.jsx("td",{className:"text-center py-2",children:i.jsx(ji,{className:"h-4 w-4 text-muted-foreground mx-auto"})}),i.jsx("td",{className:"text-center py-2",children:i.jsx(ba,{className:"h-4 w-4 text-success mx-auto"})}),i.jsx("td",{className:"text-center py-2",children:i.jsx(ba,{className:"h-4 w-4 text-success mx-auto"})})]}),i.jsxs("tr",{className:"border-b border-border",children:[i.jsxs("td",{className:"py-2 flex items-center gap-2 text-foreground",children:[i.jsx(bi,{className:"h-4 w-4"}),"Advanced Analytics"]}),i.jsx("td",{className:"text-center py-2 text-muted-foreground",children:"Basic"}),i.jsx("td",{className:"text-center py-2 text-foreground",children:"Advanced"}),i.jsx("td",{className:"text-center py-2 text-foreground",children:"Custom"})]}),i.jsxs("tr",{className:"border-b border-border",children:[i.jsxs("td",{className:"py-2 flex items-center gap-2 text-foreground",children:[i.jsx(Wx,{className:"h-4 w-4"}),"Priority Support"]}),i.jsx("td",{className:"text-center py-2 text-muted-foreground",children:"Community"}),i.jsx("td",{className:"text-center py-2",children:i.jsx(ba,{className:"h-4 w-4 text-success mx-auto"})}),i.jsx("td",{className:"text-center py-2 text-foreground",children:"Dedicated"})]})]})]})})})]})]})})}var zke="Label",TU=j.forwardRef((e,t)=>i.jsx(Re.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));TU.displayName=zke;var EU=TU;const Uke=Dm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ne=j.forwardRef(({className:e,...t},r)=>i.jsx(EU,{ref:r,className:xe(Uke(),e),...t}));ne.displayName=EU.displayName;var ZC="Switch",[Vke,bOe]=Kr(ZC),[qke,Wke]=Vke(ZC),OU=j.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=j.useState(null),g=ht(t,b=>p(b)),m=j.useRef(!1),v=h?d||!!h.closest("form"):!0,[x=!1,y]=Wi({prop:s,defaultProp:a,onChange:u});return i.jsxs(qke,{scope:r,checked:x,disabled:l,children:[i.jsx(Re.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":DU(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:je(e.onClick,b=>{y(N=>!N),v&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),v&&i.jsx(Hke,{control:h,bubbles:!m.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});OU.displayName=ZC;var MU="SwitchThumb",IU=j.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Wke(MU,r);return i.jsx(Re.span,{"data-state":DU(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});IU.displayName=MU;var Hke=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=j.useRef(null),o=oy(r),l=Qx(t);return j.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function DU(e){return e?"checked":"unchecked"}var $U=OU,Kke=IU;const Fi=j.forwardRef(({className:e,...t},r)=>i.jsx($U,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(Kke,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fi.displayName=$U.displayName;var Gke="Separator",IE="horizontal",Qke=["horizontal","vertical"],RU=j.forwardRef((e,t)=>{const{decorative:r,orientation:n=IE,...s}=e,a=Yke(n)?n:IE,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Re.div,{"data-orientation":a,...l,...s,ref:t})});RU.displayName=Gke;function Yke(e){return Qke.includes(e)}var LU=RU;const Sl=j.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(LU,{ref:s,decorative:r,orientation:t,className:xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Sl.displayName=LU.displayName;function Xke(){const{user:e,isLoading:t}=Si(),r=(n,s)=>!n&&!s?"U":`${(n==null?void 0:n[0])||""}${(s==null?void 0:s[0])||""}`.toUpperCase();return t?i.jsx(ft,{children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})})}):i.jsx(ft,{children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Settings"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"h-5 w-5"}),"Profile Information"]}),i.jsx(Ue,{children:"Update your personal information and profile picture"})]}),i.jsxs(ee,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs(gS,{className:"h-20 w-20",children:[i.jsx(vS,{src:(e==null?void 0:e.profileImageUrl)||void 0,alt:"Profile"}),i.jsx(xS,{className:"text-lg",children:r((e==null?void 0:e.firstName)||void 0,(e==null?void 0:e.lastName)||void 0)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(F,{variant:"outline",size:"sm",children:"Change Photo"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"JPG, PNG or GIF. Max size 2MB."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"firstName",children:"First Name"}),i.jsx(_e,{id:"firstName",defaultValue:(e==null?void 0:e.firstName)||void 0,placeholder:"Enter your first name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"lastName",children:"Last Name"}),i.jsx(_e,{id:"lastName",defaultValue:(e==null?void 0:e.lastName)||void 0,placeholder:"Enter your last name"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"email",children:"Email Address"}),i.jsx(_e,{id:"email",type:"email",defaultValue:(e==null?void 0:e.email)||void 0,placeholder:"Enter your email"})]}),i.jsx(F,{children:"Save Changes"})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(RL,{className:"h-5 w-5"}),"Notifications"]}),i.jsx(Ue,{children:"Configure how you receive notifications"})]}),i.jsx(ee,{className:"space-y-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email updates about your projects and sales"})]}),i.jsx(Fi,{defaultChecked:!0})]}),i.jsx(Sl,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Weekly Reports"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Get weekly summaries of your publishing performance"})]}),i.jsx(Fi,{defaultChecked:!0})]}),i.jsx(Sl,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Marketing Tips"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive tips and strategies to improve your book marketing"})]}),i.jsx(Fi,{})]})]})})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(Eo,{className:"h-5 w-5"}),"Privacy & Security"]}),i.jsx(Ue,{children:"Manage your privacy settings and account security"})]}),i.jsx(ee,{className:"space-y-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),i.jsx(F,{variant:"outline",size:"sm",children:"Enable"})]}),i.jsx(Sl,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Data Analytics"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow us to use your data to improve our services"})]}),i.jsx(Fi,{defaultChecked:!0})]})]})})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(qL,{className:"h-5 w-5"}),"Preferences"]}),i.jsx(Ue,{children:"Customize your experience"})]}),i.jsx(ee,{className:"space-y-6",children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"timezone",children:"Timezone"}),i.jsxs("select",{id:"timezone",className:"w-full p-2 border border-input rounded-md bg-background text-foreground",defaultValue:"Europe/Paris",children:[i.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (CET)"}),i.jsx("option",{value:"America/New_York",children:"America/New_York (EST)"}),i.jsx("option",{value:"America/Los_Angeles",children:"America/Los_Angeles (PST)"}),i.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (JST)"})]})]})})})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx($m,{className:"h-5 w-5"}),"Data Management"]}),i.jsx(Ue,{children:"Export or delete your data"})]}),i.jsx(ee,{className:"space-y-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{children:"Export Data"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Download all your projects, sales data, and settings"})]}),i.jsx(F,{variant:"outline",size:"sm",children:"Export"})]}),i.jsx(Sl,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ne,{className:"text-destructive",children:"Delete Account"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all associated data"})]}),i.jsxs(F,{variant:"destructive",size:"sm",children:[i.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]})]})})}function Zke(){var o;const{isAdmin:e,isLoading:t}=ea(),{toast:r}=Pt();j.useEffect(()=>{if(!t&&!e){r({title:"Accès refusé",description:"Vous n'avez pas les permissions d'administrateur.",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},500);return}},[e,t,r]);const{data:n,isLoading:s}=ze({queryKey:["/api/admin/stats"],enabled:e});if(t||s)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})});if(!e)return null;const a=[{title:"Utilisateurs Total",value:(n==null?void 0:n.totalUsers)||0,description:"Total des comptes utilisateurs",icon:hg,color:"text-blue-600"},{title:"Projets Actifs",value:(n==null?void 0:n.totalProjects)||0,description:"Projets publiés et en cours",icon:Pr,color:"text-green-600"},{title:"Revenus Total",value:`${((o=n==null?void 0:n.totalRevenue)==null?void 0:o.toFixed(2))||"0.00"}€`,description:"Revenus générés via la plateforme",icon:yi,color:"text-yellow-600"},{title:"Générations IA",value:(n==null?void 0:n.aiGenerationsCount)||0,description:"Contenu généré par IA",icon:vs,color:"text-purple-600"},{title:"Utilisateurs Actifs",value:(n==null?void 0:n.activeUsers)||0,description:"Comptes actifs",icon:r_,color:"text-indigo-600"},{title:"Nouvelles Inscriptions",value:(n==null?void 0:n.recentSignups)||0,description:"30 derniers jours",icon:eQ,color:"text-emerald-600"}];return i.jsxs(ft,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Back Office"}),i.jsx("p",{className:"text-muted-foreground",children:"Panneau d'administration de la plateforme"})]}),i.jsx(me,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Administrateur"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((l,c)=>{const u=l.icon;return i.jsxs(Z,{className:"border-l-4 border-l-primary/20",children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(le,{className:"text-sm font-medium text-muted-foreground",children:l.title}),i.jsx(u,{className:`h-4 w-4 ${l.color}`})]}),i.jsxs(ee,{children:[i.jsx("div",{className:"text-2xl font-bold",children:l.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:l.description})]})]},c)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Actions Rapides"}),i.jsx(Ue,{children:"Fonctionnalités d'administration les plus utilisées"})]}),i.jsx(ee,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("a",{href:"/admin/users",className:"flex items-center justify-center p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[i.jsx(hg,{className:"h-5 w-5 mr-2"}),"Gestion Utilisateurs"]}),i.jsxs("a",{href:"/admin/projects",className:"flex items-center justify-center p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[i.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Gestion Projets"]}),i.jsxs("a",{href:"/admin/config",className:"flex items-center justify-center p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[i.jsx(r_,{className:"h-5 w-5 mr-2"}),"Configuration"]}),i.jsxs("a",{href:"/admin/audit",className:"flex items-center justify-center p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[i.jsx(hg,{className:"h-5 w-5 mr-2"}),"Journal d'Audit"]})]})})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Activité Récente"}),i.jsx(Ue,{children:"Résumé des dernières activités sur la plateforme"})]}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[i.jsx("span",{className:"text-sm",children:"Nouveaux utilisateurs (30j)"}),i.jsx(me,{variant:"secondary",children:(n==null?void 0:n.recentSignups)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[i.jsx("span",{className:"text-sm",children:"Utilisateurs actifs"}),i.jsx(me,{variant:"secondary",children:(n==null?void 0:n.activeUsers)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[i.jsx("span",{className:"text-sm",children:"Projets créés"}),i.jsx(me,{variant:"secondary",children:(n==null?void 0:n.totalProjects)||0})]})]})})]})]})]})}const qd=j.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:xe("w-full caption-bottom text-sm",e),...t})}));qd.displayName="Table";const Wd=j.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:xe("[&_tr]:border-b",e),...t}));Wd.displayName="TableHeader";const Hd=j.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:xe("[&_tr:last-child]:border-0",e),...t}));Hd.displayName="TableBody";const Jke=j.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Jke.displayName="TableFooter";const js=j.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));js.displayName="TableRow";const wt=j.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));wt.displayName="TableHead";const Nt=j.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Nt.displayName="TableCell";const e_e=j.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));e_e.displayName="TableCaption";function Cs(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function lc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const FU=6048e5,t_e=864e5;let r_e={};function nb(){return r_e}function lm(e,t){var l,c,u,d;const r=nb(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Cs(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ix(e){return lm(e,{weekStartsOn:1})}function BU(e){const t=Cs(e),r=t.getFullYear(),n=lc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ix(n),a=lc(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=ix(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function DE(e){const t=Cs(e);return t.setHours(0,0,0,0),t}function $E(e){const t=Cs(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function n_e(e,t){const r=DE(e),n=DE(t),s=+r-$E(r),a=+n-$E(n);return Math.round((s-a)/t_e)}function i_e(e){const t=BU(e),r=lc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ix(r)}function s_e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function a_e(e){if(!s_e(e)&&typeof e!="number")return!1;const t=Cs(e);return!isNaN(Number(t))}function o_e(e){const t=Cs(e),r=lc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const l_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},c_e=(e,t,r)=>{let n;const s=l_e[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function T0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const u_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},d_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},f_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},h_e={date:T0({formats:u_e,defaultWidth:"full"}),time:T0({formats:d_e,defaultWidth:"full"}),dateTime:T0({formats:f_e,defaultWidth:"full"})},m_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},p_e=(e,t,r,n)=>m_e[e];function yf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const g_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},v_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},w_e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},N_e={ordinalNumber:w_e,era:yf({values:g_e,defaultWidth:"wide"}),quarter:yf({values:v_e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yf({values:x_e,defaultWidth:"wide"}),day:yf({values:y_e,defaultWidth:"wide"}),dayPeriod:yf({values:b_e,defaultWidth:"wide",formattingValues:j_e,defaultFormattingWidth:"wide"})};function bf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?C_e(l,f=>f.test(o)):S_e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function S_e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function C_e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function P_e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const k_e=/^(\d+)(th|st|nd|rd)?/i,__e=/\d+/i,A_e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},T_e={any:[/^b/i,/^(a|c)/i]},E_e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O_e={any:[/1/i,/2/i,/3/i,/4/i]},M_e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D_e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},L_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},F_e={ordinalNumber:P_e({matchPattern:k_e,parsePattern:__e,valueCallback:e=>parseInt(e,10)}),era:bf({matchPatterns:A_e,defaultMatchWidth:"wide",parsePatterns:T_e,defaultParseWidth:"any"}),quarter:bf({matchPatterns:E_e,defaultMatchWidth:"wide",parsePatterns:O_e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bf({matchPatterns:M_e,defaultMatchWidth:"wide",parsePatterns:I_e,defaultParseWidth:"any"}),day:bf({matchPatterns:D_e,defaultMatchWidth:"wide",parsePatterns:$_e,defaultParseWidth:"any"}),dayPeriod:bf({matchPatterns:R_e,defaultMatchWidth:"any",parsePatterns:L_e,defaultParseWidth:"any"})},B_e={code:"en-US",formatDistance:c_e,formatLong:h_e,formatRelative:p_e,localize:N_e,match:F_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z_e(e){const t=Cs(e);return n_e(t,o_e(t))+1}function U_e(e){const t=Cs(e),r=+ix(t)-+i_e(t);return Math.round(r/FU)+1}function zU(e,t){var d,f,h,p;const r=Cs(e),n=r.getFullYear(),s=nb(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=lc(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=lm(o,t),c=lc(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=lm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function V_e(e,t){var l,c,u,d;const r=nb(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=zU(e,t),a=lc(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),lm(a,t)}function q_e(e,t){const r=Cs(e),n=+lm(r,t)-+V_e(r,t);return Math.round(n/FU)+1}function $t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Za={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return $t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):$t(r+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return $t(s,t.length)}},Mc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},RE={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Za.y(e,t)},Y:function(e,t,r,n){const s=zU(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return $t(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):$t(a,t.length)},R:function(e,t){const r=BU(e);return $t(r,t.length)},u:function(e,t){const r=e.getFullYear();return $t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return $t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return $t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Za.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return $t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=q_e(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,t.length)},I:function(e,t,r){const n=U_e(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):$t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Za.d(e,t)},D:function(e,t,r){const n=z_e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return $t(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return $t(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return $t(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Mc.noon:n===0?s=Mc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Mc.evening:n>=12?s=Mc.afternoon:n>=4?s=Mc.morning:s=Mc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Za.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Za.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Za.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Za.s(e,t)},S:function(e,t){return Za.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return FE(n);case"XXXX":case"XX":return hl(n);case"XXXXX":case"XXX":default:return hl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return FE(n);case"xxxx":case"xx":return hl(n);case"xxxxx":case"xxx":default:return hl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+LE(n,":");case"OOOO":default:return"GMT"+hl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+LE(n,":");case"zzzz":default:return"GMT"+hl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return $t(n,t.length)},T:function(e,t,r){const n=e.getTime();return $t(n,t.length)}};function LE(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+$t(a,2)}function FE(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):hl(e,t)}function hl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=$t(Math.trunc(n/60),2),a=$t(n%60,2);return r+s+t+a}const BE=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},UU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},W_e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return BE(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",BE(n,t)).replace("{{time}}",UU(s,t))},H_e={p:UU,P:W_e},K_e=/^D+$/,G_e=/^Y+$/,Q_e=["D","DD","YY","YYYY"];function Y_e(e){return K_e.test(e)}function X_e(e){return G_e.test(e)}function Z_e(e,t,r){const n=J_e(e,t,r);if(console.warn(n),Q_e.includes(e))throw new RangeError(n)}function J_e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rAe=/^'([^]*?)'?$/,nAe=/''/g,iAe=/[a-zA-Z]/;function cc(e,t,r){var d,f,h,p;const n=nb(),s=n.locale??B_e,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Cs(e);if(!a_e(l))throw new RangeError("Invalid time value");let c=t.match(tAe).map(g=>{const m=g[0];if(m==="p"||m==="P"){const v=H_e[m];return v(g,s.formatLong)}return g}).join("").match(eAe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:sAe(g)};if(RE[m])return{isToken:!0,value:g};if(m.match(iAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const m=g.value;(X_e(m)||Y_e(m))&&Z_e(m,t,String(e));const v=RE[m[0]];return v(l,m,s.localize,u)}).join("")}function sAe(e){const t=e.match(rAe);return t?t[1].replace(nAe,"'"):e}function aAe(){var b;const{isAdmin:e,isSuperAdmin:t,isLoading:r}=ea(),{toast:n}=Pt(),s=dr(),[a,o]=j.useState(""),[l,c]=j.useState(0),[u,d]=j.useState(null),f=50;j.useEffect(()=>{if(!r&&!e){n({title:"Accès refusé",description:"Vous n'avez pas les permissions d'administrateur.",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},500);return}},[e,r,n]);const{data:h,isLoading:p}=ze({queryKey:["/api/admin/users",{search:a,limit:f,offset:l*f}],enabled:e}),g=Qe({mutationFn:async({userId:N,role:w})=>await $e(`/api/admin/users/${N}/role`,"PUT"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Succès",description:"Rôle utilisateur mis à jour avec succès."}),d(null)},onError:N=>{n({title:"Erreur",description:N.message||"Impossible de mettre à jour le rôle.",variant:"destructive"})}}),m=Qe({mutationFn:async N=>await $e(`/api/admin/users/${N}/deactivate`,"PUT"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Succès",description:"Utilisateur désactivé avec succès."})},onError:N=>{n({title:"Erreur",description:N.message||"Impossible de désactiver l'utilisateur.",variant:"destructive"})}}),v=Qe({mutationFn:async N=>await $e(`/api/admin/users/${N}/reactivate`,"PUT"),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/admin/users"]}),n({title:"Succès",description:"Utilisateur réactivé avec succès."})},onError:N=>{n({title:"Erreur",description:N.message||"Impossible de réactiver l'utilisateur.",variant:"destructive"})}}),x=N=>{switch(N){case"superadmin":return i.jsx(Vx,{className:"h-4 w-4"});case"admin":return i.jsx(Eo,{className:"h-4 w-4"});default:return i.jsx(Ks,{className:"h-4 w-4"})}},y=N=>{switch(N){case"superadmin":return"default";case"admin":return"secondary";default:return"outline"}};return r||p?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e?i.jsxs(ft,{children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[i.jsx(En,{className:"h-4 w-4 mr-2"}),"Retour"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Utilisateurs"}),i.jsx("p",{className:"text-muted-foreground",children:"Administration des comptes utilisateurs"})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Utilisateurs de la Plateforme"}),i.jsxs(Ue,{children:["Total: ",(h==null?void 0:h.total)||0," utilisateurs"]})]}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(qx,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(_e,{placeholder:"Rechercher par email, prénom ou nom...",value:a,onChange:N=>{o(N.target.value),c(0)},className:"pl-9"})]}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs(qd,{children:[i.jsx(Wd,{children:i.jsxs(js,{children:[i.jsx(wt,{children:"Utilisateur"}),i.jsx(wt,{children:"Email"}),i.jsx(wt,{children:"Rôle"}),i.jsx(wt,{children:"Abonnement"}),i.jsx(wt,{children:"Statut"}),i.jsx(wt,{children:"Inscription"}),i.jsx(wt,{children:"Actions"})]})}),i.jsx(Hd,{children:(b=h==null?void 0:h.users)==null?void 0:b.map(N=>i.jsxs(js,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[x(N.role),i.jsx("span",{className:"font-medium",children:N.firstName||N.lastName?`${N.firstName||""} ${N.lastName||""}`.trim():"Utilisateur"})]})}),i.jsx(Nt,{className:"font-mono text-sm",children:N.email}),i.jsx(Nt,{children:i.jsx(me,{variant:y(N.role),children:N.role==="superadmin"?"Super Admin":N.role==="admin"?"Admin":"Utilisateur"})}),i.jsx(Nt,{children:i.jsx(me,{variant:N.subscriptionTier==="free"?"outline":"default",children:N.subscriptionTier==="free"?"Gratuit":"Premium"})}),i.jsx(Nt,{children:i.jsx(me,{variant:N.isActive?"default":"destructive",children:N.isActive?"Actif":"Inactif"})}),i.jsx(Nt,{children:cc(new Date(N.createdAt),"dd/MM/yyyy")}),i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(et,{onValueChange:w=>{w!==N.role&&(d(N),g.mutate({userId:N.id,role:w}))},children:[i.jsx(Ze,{className:"w-32",children:i.jsx(tt,{placeholder:"Rôle"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"user",children:"Utilisateur"}),i.jsx(U,{value:"admin",children:"Admin"}),t&&i.jsx(U,{value:"superadmin",children:"Super Admin"})]})]}),N.isActive?i.jsxs($i,{children:[i.jsx(oc,{asChild:!0,children:i.jsx(F,{variant:"outline",size:"sm",children:i.jsx(tQ,{className:"h-4 w-4"})})}),i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Désactiver l'utilisateur"}),i.jsx(ci,{children:"Êtes-vous sûr de vouloir désactiver cet utilisateur ? Il ne pourra plus se connecter à la plateforme."})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Annuler"}),i.jsx(ui,{onClick:()=>m.mutate(N.id),children:"Désactiver"})]})]})]}):i.jsx(F,{variant:"outline",size:"sm",onClick:()=>v.mutate(N.id),children:i.jsx(JG,{className:"h-4 w-4"})})]})})]},N.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",l+1," sur ",Math.ceil(((h==null?void 0:h.total)||0)/f)]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F,{variant:"outline",size:"sm",disabled:l===0,onClick:()=>c(l-1),children:"Précédent"}),i.jsx(F,{variant:"outline",size:"sm",disabled:l>=Math.ceil(((h==null?void 0:h.total)||0)/f)-1,onClick:()=>c(l+1),children:"Suivant"})]})]})]})})]})]}):null}function oAe(){const{isAdmin:e,isLoading:t}=ea(),{toast:r}=Pt(),n=dr(),[s,a]=j.useState({key:"",value:"",description:""});j.useEffect(()=>{if(!t&&!e){r({title:"Accès refusé",description:"Vous n'avez pas les permissions d'administrateur.",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},500);return}},[e,t,r]);const{data:o,isLoading:l}=ze({queryKey:["/api/admin/config"],enabled:e}),c=Qe({mutationFn:async f=>await $e("/api/admin/config","PUT"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/config"]}),r.success({title:"Succès",description:"Configuration mise à jour avec succès."}),a({key:"",value:"",description:""})},onError:f=>{r.error({title:"Erreur",description:f.message||"Impossible de mettre à jour la configuration."})}}),u=()=>{if(!s.key||!s.value){r.error({title:"Erreur",description:"La clé et la valeur sont obligatoires."});return}c.mutate(s)},d=[{key:"platform_name",label:"Nom de la plateforme",description:"Le nom affiché de la plateforme",defaultValue:"KDP Generator"},{key:"support_email",label:"Email de support",description:"Adresse email pour le support client",defaultValue:"support@kdpgenerator.com"},{key:"max_ai_requests_per_day",label:"Requêtes IA max par jour",description:"Nombre maximum de requêtes IA par utilisateur par jour",defaultValue:"10"},{key:"free_tier_project_limit",label:"Limite projets gratuits",description:"Nombre maximum de projets pour les comptes gratuits",defaultValue:"3"},{key:"maintenance_mode",label:"Mode maintenance",description:"Activer le mode maintenance",defaultValue:"false"}];return t||l?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[i.jsx(En,{className:"h-4 w-4 mr-2"}),"Retour"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Configuration Système"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestion des paramètres de la plateforme"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(nr,{className:"h-5 w-5"}),"Ajouter une Configuration"]}),i.jsx(Ue,{children:"Créer ou modifier un paramètre système"})]}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"config-key",children:"Clé de configuration"}),i.jsx(_e,{id:"config-key",value:s.key,onChange:f=>a({...s,key:f.target.value}),placeholder:"ex: platform_name"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"config-value",children:"Valeur"}),i.jsx(_e,{id:"config-value",value:s.value,onChange:f=>a({...s,value:f.target.value}),placeholder:"ex: KDP Generator"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"config-description",children:"Description (optionnel)"}),i.jsx(bs,{id:"config-description",value:s.description,onChange:f=>a({...s,description:f.target.value}),placeholder:"Description du paramètre",rows:3})]}),i.jsxs(F,{onClick:u,disabled:c.isPending,className:"w-full",children:[i.jsx(Gl,{className:"h-4 w-4 mr-2"}),c.isPending?"Enregistrement...":"Enregistrer"]})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(On,{className:"h-5 w-5"}),"Configurations Courantes"]}),i.jsx(Ue,{children:"Paramètres système fréquemment utilisés"})]}),i.jsx(ee,{children:i.jsx("div",{className:"space-y-4",children:d.map(f=>{const h=o==null?void 0:o.find(p=>p.key===f.key);return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"font-medium",children:f.label}),i.jsx("div",{className:"text-sm text-muted-foreground",children:f.description}),i.jsx("div",{className:"text-xs font-mono bg-muted px-2 py-1 rounded",children:f.key})]}),i.jsx(F,{variant:"outline",size:"sm",onClick:()=>a({key:f.key,value:(h==null?void 0:h.value)||f.defaultValue,description:f.description}),children:h?"Modifier":"Ajouter"})]},f.key)})})})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Configuration Actuelle"}),i.jsx(Ue,{children:"Paramètres système actuellement configurés"})]}),i.jsx(ee,{children:o&&o.length>0?i.jsx("div",{className:"border rounded-lg",children:i.jsxs(qd,{children:[i.jsx(Wd,{children:i.jsxs(js,{children:[i.jsx(wt,{children:"Clé"}),i.jsx(wt,{children:"Valeur"}),i.jsx(wt,{children:"Description"}),i.jsx(wt,{children:"Dernière modification"}),i.jsx(wt,{children:"Actions"})]})}),i.jsx(Hd,{children:o.map(f=>i.jsxs(js,{children:[i.jsx(Nt,{className:"font-mono text-sm",children:f.key}),i.jsx(Nt,{className:"max-w-xs truncate",children:f.value}),i.jsx(Nt,{className:"max-w-xs truncate",children:f.description||"-"}),i.jsx(Nt,{children:new Date(f.updatedAt).toLocaleDateString("fr-FR")}),i.jsx(Nt,{children:i.jsx(F,{variant:"outline",size:"sm",onClick:()=>a({key:f.key,value:f.value,description:f.description||""}),children:"Modifier"})})]},f.key))})]})}):i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Aucune configuration système trouvée. Ajoutez votre première configuration ci-dessus."})})]})]}):null}function lAe(){const{isAdmin:e,isLoading:t}=ea(),{toast:r}=Pt(),[n,s]=j.useState(0),a=100;j.useEffect(()=>{if(!t&&!e){r({title:"Accès refusé",description:"Vous n'avez pas les permissions d'administrateur.",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},500);return}},[e,t,r]);const{data:o,isLoading:l}=ze({queryKey:["/api/admin/audit-logs",{limit:a,offset:n*a}],enabled:e}),c=f=>{switch(f){case"create":return i.jsx(ml,{className:"h-4 w-4 text-green-600"});case"update":return i.jsx(On,{className:"h-4 w-4 text-blue-600"});case"delete":return i.jsx(ml,{className:"h-4 w-4 text-red-600"});case"login":return i.jsx(hg,{className:"h-4 w-4 text-purple-600"});case"export":return i.jsx(Rm,{className:"h-4 w-4 text-orange-600"});default:return i.jsx(Eo,{className:"h-4 w-4 text-gray-600"})}},u=f=>{switch(f){case"create":return"default";case"update":return"secondary";case"delete":return"destructive";case"login":return"outline";default:return"outline"}},d=f=>{switch(f){case"user":return"Utilisateur";case"project":return"Projet";case"system_config":return"Configuration";default:return f}};return t||l?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[i.jsx(En,{className:"h-4 w-4 mr-2"}),"Retour"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Journal d'Audit"}),i.jsx("p",{className:"text-muted-foreground",children:"Historique des actions administratives"})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(Eo,{className:"h-5 w-5"}),"Actions Administratives"]}),i.jsxs(Ue,{children:["Total: ",(o==null?void 0:o.total)||0," actions enregistrées"]})]}),i.jsx(ee,{children:o&&o.logs.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"border rounded-lg",children:i.jsxs(qd,{children:[i.jsx(Wd,{children:i.jsxs(js,{children:[i.jsx(wt,{children:"Date/Heure"}),i.jsx(wt,{children:"Administrateur"}),i.jsx(wt,{children:"Action"}),i.jsx(wt,{children:"Ressource"}),i.jsx(wt,{children:"Détails"}),i.jsx(wt,{children:"IP"})]})}),i.jsx(Hd,{children:o.logs.map(f=>i.jsxs(js,{children:[i.jsx(Nt,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{children:cc(new Date(f.createdAt),"dd/MM/yyyy")}),i.jsx("div",{className:"text-muted-foreground",children:cc(new Date(f.createdAt),"HH:mm:ss")})]})}),i.jsx(Nt,{children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:f.user.firstName||f.user.lastName?`${f.user.firstName||""} ${f.user.lastName||""}`.trim():"Admin"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:f.user.email})]})})}),i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[c(f.action),i.jsx(me,{variant:u(f.action),children:f.action.toUpperCase()})]})}),i.jsx(Nt,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:d(f.resource)}),f.resourceId&&i.jsx("div",{className:"text-sm text-muted-foreground font-mono",children:f.resourceId.length>20?`${f.resourceId.substring(0,20)}...`:f.resourceId})]})}),i.jsx(Nt,{children:f.details&&i.jsx("div",{className:"max-w-xs",children:i.jsxs("details",{className:"cursor-pointer",children:[i.jsx("summary",{className:"text-sm text-blue-600 hover:text-blue-800",children:"Voir détails"}),i.jsx("pre",{className:"mt-2 text-xs bg-muted p-2 rounded overflow-x-auto",children:JSON.stringify(f.details,null,2)})]})})}),i.jsx(Nt,{children:i.jsx("div",{className:"font-mono text-sm",children:f.ipAddress||"-"})})]},f.id))})]})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",n+1," sur ",Math.ceil(((o==null?void 0:o.total)||0)/a)]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F,{variant:"outline",size:"sm",disabled:n===0,onClick:()=>s(n-1),children:"Précédent"}),i.jsx(F,{variant:"outline",size:"sm",disabled:n>=Math.ceil(((o==null?void 0:o.total)||0)/a)-1,onClick:()=>s(n+1),children:"Suivant"})]})]})]}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Eo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("div",{className:"text-lg font-medium mb-2",children:"Aucune action enregistrée"}),i.jsx("div",{className:"text-sm",children:"Les actions administratives apparaîtront ici une fois qu'elles seront effectuées."})]})})]})]}):null}function cAe(){const{isAdmin:e,isLoading:t}=ea(),{toast:r}=Pt(),n=dr(),[s,a]=j.useState(""),[o,l]=j.useState("all"),[c,u]=j.useState(0);j.useState(null);const d=20;j.useEffect(()=>{if(!t&&!e){r({title:"Accès refusé",description:"Vous n'avez pas les permissions d'administrateur.",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},500);return}},[e,t,r]);const{data:f,isLoading:h}=ze({queryKey:["/api/admin/blog/posts",{search:s,status:o,limit:d,offset:c*d}],enabled:e}),p=Qe({mutationFn:async x=>await $e(`/api/admin/blog/posts/${x}`,"DELETE"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/blog/posts"]}),r({title:"Succès",description:"Article supprimé avec succès."})},onError:x=>{r({title:"Erreur",description:x.message||"Impossible de supprimer l'article.",variant:"destructive"})}}),g=Qe({mutationFn:async({postId:x,status:y})=>await $e(`/api/admin/blog/posts/${x}/status`,"PUT"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/blog/posts"]}),r({title:"Succès",description:"Statut de l'article mis à jour."})},onError:x=>{r({title:"Erreur",description:x.message||"Impossible de mettre à jour le statut.",variant:"destructive"})}}),m=x=>{switch(x){case"published":return"default";case"draft":return"secondary";case"archived":return"outline";default:return"outline"}},v=x=>{switch(x){case"published":return"Publié";case"draft":return"Brouillon";case"archived":return"Archivé";default:return x}};return t||h?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[i.jsx(En,{className:"h-4 w-4 mr-2"}),"Retour"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Articles"}),i.jsx("p",{className:"text-muted-foreground",children:"Administration du contenu du blog"})]})]}),i.jsxs(F,{onClick:()=>window.location.href="/admin/blog/posts/new",children:[i.jsx(nr,{className:"h-4 w-4 mr-2"}),"Nouvel Article"]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(Fo,{className:"h-5 w-5"}),"Articles du Blog"]}),i.jsxs(Ue,{children:["Total: ",(f==null?void 0:f.total)||0," articles"]})]}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"relative flex-1",children:i.jsx(_e,{placeholder:"Rechercher par titre...",value:s,onChange:x=>{a(x.target.value),u(0)}})}),i.jsxs("select",{value:o,onChange:x=>{l(x.target.value),u(0)},className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"all",children:"Tous les statuts"}),i.jsx("option",{value:"published",children:"Publié"}),i.jsx("option",{value:"draft",children:"Brouillon"}),i.jsx("option",{value:"archived",children:"Archivé"})]})]}),f&&f.posts.length>0?i.jsx("div",{className:"border rounded-lg",children:i.jsxs(qd,{children:[i.jsx(Wd,{children:i.jsxs(js,{children:[i.jsx(wt,{children:"Titre"}),i.jsx(wt,{children:"Auteur"}),i.jsx(wt,{children:"Catégorie"}),i.jsx(wt,{children:"Statut"}),i.jsx(wt,{children:"Vues"}),i.jsx(wt,{children:"Date"}),i.jsx(wt,{children:"Actions"})]})}),i.jsx(Hd,{children:f.posts.map(x=>{var y;return i.jsxs(js,{children:[i.jsx(Nt,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:x.title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[(y=x.excerpt)==null?void 0:y.substring(0,100),"..."]})]})}),i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"h-4 w-4"}),i.jsx("span",{children:x.author.firstName||x.author.lastName?`${x.author.firstName||""} ${x.author.lastName||""}`.trim():"Auteur"})]})}),i.jsx(Nt,{children:x.category?i.jsx(me,{variant:"outline",children:x.category.name}):i.jsx("span",{className:"text-muted-foreground",children:"Sans catégorie"})}),i.jsx(Nt,{children:i.jsx(me,{variant:m(x.status),children:v(x.status)})}),i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Rm,{className:"h-4 w-4"}),x.viewCount]})}),i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(LL,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm",children:x.publishedAt?cc(new Date(x.publishedAt),"dd/MM/yyyy"):cc(new Date(x.createdAt),"dd/MM/yyyy")})]})}),i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F,{variant:"outline",size:"sm",onClick:()=>window.location.href=`/admin/blog/posts/${x.id}/edit`,children:i.jsx(_a,{className:"h-4 w-4"})}),i.jsxs("select",{value:x.status||"draft",onChange:b=>g.mutate({postId:x.id,status:b.target.value}),className:"px-2 py-1 text-xs border rounded",children:[i.jsx("option",{value:"draft",children:"Brouillon"}),i.jsx("option",{value:"published",children:"Publié"}),i.jsx("option",{value:"archived",children:"Archivé"})]}),i.jsxs(mn,{children:[i.jsx(nl,{asChild:!0,children:i.jsx(F,{variant:"outline",size:"sm",children:i.jsx(Ki,{className:"h-4 w-4"})})}),i.jsxs(tn,{children:[i.jsxs(rn,{children:[i.jsx(nn,{children:"Supprimer l'article"}),i.jsxs(Vo,{children:[`Êtes-vous sûr de vouloir supprimer l'article "`,x.title,'" ? Cette action est irréversible.']})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(F,{variant:"outline",children:"Annuler"}),i.jsx(F,{variant:"destructive",onClick:()=>p.mutate(x.id),children:"Supprimer"})]})]})]})]})})]},x.id)})})]})}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Fo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("div",{className:"text-lg font-medium mb-2",children:"Aucun article trouvé"}),i.jsx("div",{className:"text-sm",children:"Commencez par créer votre premier article de blog."})]}),f&&f.total>d&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",c+1," sur ",Math.ceil(f.total/d)]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F,{variant:"outline",size:"sm",disabled:c===0,onClick:()=>u(c-1),children:"Précédent"}),i.jsx(F,{variant:"outline",size:"sm",disabled:c>=Math.ceil(f.total/d)-1,onClick:()=>u(c+1),children:"Suivant"})]})]})]})})]})]}):null}function uAe(){const{isAdmin:e,isLoading:t}=ea(),{toast:r}=Pt(),n=dr(),[s,a]=j.useState(null),[o,l]=j.useState(!1),[c,u]=j.useState({name:"",slug:"",description:"",color:"#3B82F6"});j.useEffect(()=>{if(!t&&!e){r({title:"Accès refusé",description:"Vous n'avez pas les permissions d'administrateur.",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},500);return}},[e,t,r]);const{data:d,isLoading:f}=ze({queryKey:["/api/admin/blog/categories"],enabled:e}),h=Qe({mutationFn:async b=>await $e("/api/admin/blog/categories","POST"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/blog/categories"]}),r({title:"Succès",description:"Catégorie créée avec succès."}),l(!1),u({name:"",slug:"",description:"",color:"#3B82F6"})},onError:b=>{r({title:"Erreur",description:b.message||"Impossible de créer la catégorie.",variant:"destructive"})}}),p=Qe({mutationFn:async({id:b,data:N})=>await $e(`/api/admin/blog/categories/${b}`,"PUT"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/blog/categories"]}),r({title:"Succès",description:"Catégorie mise à jour avec succès."}),l(!1),a(null),u({name:"",slug:"",description:"",color:"#3B82F6"})},onError:b=>{r({title:"Erreur",description:b.message||"Impossible de mettre à jour la catégorie.",variant:"destructive"})}}),g=Qe({mutationFn:async b=>await $e(`/api/admin/blog/categories/${b}`,"DELETE"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/blog/categories"]}),r({title:"Succès",description:"Catégorie supprimée avec succès."})},onError:b=>{r({title:"Erreur",description:b.message||"Impossible de supprimer la catégorie.",variant:"destructive"})}}),m=b=>{if(b.preventDefault(),!c.name||!c.slug){r({title:"Erreur",description:"Le nom et le slug sont obligatoires.",variant:"destructive"});return}s?p.mutate({id:s.id,data:c}):h.mutate(c)},v=b=>{a(b),u({name:b.name,slug:b.slug,description:b.description||"",color:b.color||"#3B82F6"}),l(!0)},x=()=>{a(null),u({name:"",slug:"",description:"",color:"#3B82F6"}),l(!0)},y=b=>{u(N=>({...N,name:b,slug:s?N.slug:b.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}))};return t||f?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[i.jsx(En,{className:"h-4 w-4 mr-2"}),"Retour"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Catégories du Blog"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestion des catégories d'articles"})]})]}),i.jsxs(F,{onClick:x,children:[i.jsx(nr,{className:"h-4 w-4 mr-2"}),"Nouvelle Catégorie"]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(Kl,{className:"h-5 w-5"}),"Catégories"]}),i.jsxs(Ue,{children:["Total: ",(d==null?void 0:d.length)||0," catégories"]})]}),i.jsx(ee,{children:d&&d.length>0?i.jsx("div",{className:"border rounded-lg",children:i.jsxs(qd,{children:[i.jsx(Wd,{children:i.jsxs(js,{children:[i.jsx(wt,{children:"Nom"}),i.jsx(wt,{children:"Slug"}),i.jsx(wt,{children:"Description"}),i.jsx(wt,{children:"Couleur"}),i.jsx(wt,{children:"Statut"}),i.jsx(wt,{children:"Date création"}),i.jsx(wt,{children:"Actions"})]})}),i.jsx(Hd,{children:d.map(b=>i.jsxs(js,{children:[i.jsx(Nt,{children:i.jsx("div",{className:"font-medium",children:b.name})}),i.jsx(Nt,{children:i.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:b.slug})}),i.jsx(Nt,{children:i.jsx("div",{className:"max-w-xs truncate",children:b.description||"-"})}),i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:b.color||"#3B82F6"}}),i.jsx("span",{className:"text-sm font-mono",children:b.color})]})}),i.jsx(Nt,{children:i.jsx(me,{variant:b.isActive?"default":"secondary",children:b.isActive?"Active":"Inactive"})}),i.jsx(Nt,{children:cc(new Date(b.createdAt),"dd/MM/yyyy")}),i.jsx(Nt,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F,{variant:"outline",size:"sm",onClick:()=>v(b),children:i.jsx(_a,{className:"h-4 w-4"})}),i.jsxs(mn,{children:[i.jsx(nl,{asChild:!0,children:i.jsx(F,{variant:"outline",size:"sm",children:i.jsx(Ki,{className:"h-4 w-4"})})}),i.jsxs(tn,{children:[i.jsxs(rn,{children:[i.jsx(nn,{children:"Supprimer la catégorie"}),i.jsxs(Vo,{children:['Êtes-vous sûr de vouloir supprimer la catégorie "',b.name,'" ? Tous les articles de cette catégorie deviendront sans catégorie.']})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(F,{variant:"outline",children:"Annuler"}),i.jsx(F,{variant:"destructive",onClick:()=>g.mutate(b.id),children:"Supprimer"})]})]})]})]})})]},b.id))})]})}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Kl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("div",{className:"text-lg font-medium mb-2",children:"Aucune catégorie trouvée"}),i.jsx("div",{className:"text-sm",children:"Créez votre première catégorie pour organiser vos articles."})]})})]}),i.jsx(mn,{open:o,onOpenChange:l,children:i.jsxs(tn,{className:"max-w-md",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:s?"Modifier la catégorie":"Nouvelle catégorie"}),i.jsx(Vo,{children:s?"Modifiez les informations de la catégorie.":"Créez une nouvelle catégorie pour organiser vos articles."})]}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"name",children:"Nom *"}),i.jsx(_e,{id:"name",value:c.name,onChange:b=>y(b.target.value),placeholder:"Nom de la catégorie",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"slug",children:"Slug *"}),i.jsx(_e,{id:"slug",value:c.slug,onChange:b=>u(N=>({...N,slug:b.target.value})),placeholder:"slug-de-la-categorie",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"description",children:"Description"}),i.jsx(bs,{id:"description",value:c.description,onChange:b=>u(N=>({...N,description:b.target.value})),placeholder:"Description de la catégorie",rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"color",children:"Couleur"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"color",id:"color",value:c.color,onChange:b=>u(N=>({...N,color:b.target.value})),className:"w-12 h-8 border rounded cursor-pointer"}),i.jsx(_e,{value:c.color,onChange:b=>u(N=>({...N,color:b.target.value})),placeholder:"#3B82F6",className:"flex-1"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Annuler"}),i.jsxs(F,{type:"submit",disabled:h.isPending||p.isPending,children:[i.jsx(qL,{className:"h-4 w-4 mr-2"}),s?"Modifier":"Créer"]})]})]})]})})]}):null}function dAe(){const{isAdmin:e,isLoading:t}=ea(),{toast:r}=Pt(),n=dr(),[s,a]=j.useState("idle"),[o,l]=j.useState(""),[c,u]=j.useState([]),[d,f]=j.useState(!0),[h,p]=j.useState(!0),[g,m]=j.useState(!1),[v,x]=j.useState(!1),y=j.useRef(null),b=j.useRef(null);j.useRef(null);const N=j.useRef(null);j.useEffect(()=>{const K=()=>{x(!0),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{x(!1)},3e3)},X=["click","scroll","keydown","mousemove","touchstart"];return X.forEach(ue=>{document.addEventListener(ue,K)}),()=>{X.forEach(ue=>{document.removeEventListener(ue,K)}),N.current&&clearTimeout(N.current)}},[]);const w=()=>{var K;h&&!g&&!v&&((K=y.current)==null||K.scrollIntoView({behavior:"smooth"}))};j.useEffect(()=>{w()},[c,h,g,v]);const S=()=>{try{if(b.current){const K=b.current,X=Math.abs(K.scrollHeight-K.scrollTop-K.clientHeight)<5;X&&!h?p(!0):!X&&h&&p(!1)}}catch(K){console.warn("Error in scroll handler:",K)}},{data:C,isLoading:k}=ze({queryKey:["/api/admin/system/logs"],refetchInterval:d&&!g?2e3:!1,refetchIntervalInBackground:!0,enabled:e});j.useEffect(()=>{try{if(C&&typeof C=="object"&&"logs"in C){const K=C;if(Array.isArray(K.logs)){const X=K.logs.map(ue=>{const fe=new Date(ue.timestamp).toLocaleTimeString("fr-FR"),Y=ue.level==="error"?"❌":ue.level==="warn"?"⚠️":ue.level==="debug"?"🔍":"ℹ️",Ye=ue.category?`[${ue.category}] `:"";return`[${fe}] ${Y} ${Ye}${ue.message}`});u(X)}}}catch(K){console.warn("Error processing logs data:",K)}},[C]);const P=(K,X="info")=>{const ue=new Date().toLocaleTimeString("fr-FR"),fe=X==="error"?"❌":X==="success"?"✅":X==="warning"?"⚠️":"ℹ️";u(Y=>[...Y,`[${ue}] ${fe} ${K}`])},A=Qe({mutationFn:()=>$e("DELETE","/api/admin/system/logs"),onSuccess:()=>{u([]),n.invalidateQueries({queryKey:["/api/admin/system/logs"]}),r({description:"Logs système effacés"})},onError:K=>{r({variant:"destructive",description:"Erreur lors de l'effacement des logs"})}}),O=()=>{A.mutate()},M=async()=>{try{await navigator.clipboard.writeText(c.join(`
`)),r({title:"Logs copiés",description:"Les logs ont été copiés dans le presse-papiers."})}catch{r({title:"Erreur de copie",description:"Impossible de copier les logs.",variant:"destructive"})}};j.useEffect(()=>{if(!t&&!e){r({title:"Accès refusé",description:"Vous n'avez pas les permissions d'administrateur.",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},500);return}},[e,t,r]);const{data:T,isLoading:E}=ze({queryKey:["/api/admin/system/health"],enabled:e,refetchInterval:3e4}),I=Qe({mutationFn:async()=>{P("Début de la synchronisation de la base de données...","info"),P("Envoi de la requête POST /api/admin/database/seed","info");try{const K=await $e("/api/admin/database/seed","POST");return P("Réponse reçue du serveur","success"),P(`Résultat: ${JSON.stringify(K,null,2)}`,"info"),K}catch(K){throw P(`Erreur API: ${K.message}`,"error"),P(`Détails de l'erreur: ${JSON.stringify(K,null,2)}`,"error"),K}},onMutate:()=>{a("seeding"),P("🔄 Démarrage de la synchronisation...","info")},onSuccess:K=>{P("✅ Synchronisation terminée avec succès","success"),K.duration&&P(`⏱️ Durée de l'opération: ${K.duration}`,"info"),K.timestamp&&P(`🕐 Horodatage serveur: ${K.timestamp}`,"info"),P(`📊 Données complètes: ${JSON.stringify(K,null,2)}`,"info"),r({title:"Synchronisation réussie",description:"La base de données a été synchronisée avec succès."}),n.invalidateQueries({queryKey:["/api/admin/system/health"]})},onError:K=>{P(`❌ Échec de la synchronisation: ${K.message}`,"error"),P(`Stack trace: ${K.stack||"Non disponible"}`,"error"),r({title:"Erreur de synchronisation",description:K.message||"Impossible de synchroniser la base de données.",variant:"destructive"})},onSettled:()=>{a("idle"),P("🏁 Opération de synchronisation terminée","info")}}),L=Qe({mutationFn:async()=>{P("⚠️ Début du reset complet de la base de données...","warning"),P("Envoi de la requête POST /api/admin/database/reset","info");try{const K=await $e("/api/admin/database/reset","POST");return P("Réponse reçue du serveur pour le reset","success"),P(`Résultat du reset: ${JSON.stringify(K,null,2)}`,"info"),K}catch(K){throw P(`Erreur lors du reset: ${K.message}`,"error"),P(`Détails de l'erreur reset: ${JSON.stringify(K,null,2)}`,"error"),K}},onMutate:()=>{a("resetting"),P("🔄 Démarrage du reset complet...","warning"),P("⚠️ ATTENTION: Toutes les catégories existantes vont être supprimées","warning")},onSuccess:K=>{P("✅ Reset et re-synchronisation terminés avec succès","success"),K.duration&&P(`⏱️ Durée totale du reset: ${K.duration}`,"info"),K.timestamp&&P(`🕐 Horodatage serveur: ${K.timestamp}`,"info"),P(`📊 Données complètes du reset: ${JSON.stringify(K,null,2)}`,"info"),r({title:"Reset réussi",description:"La base de données a été remise à zéro et re-synchronisée."}),n.invalidateQueries({queryKey:["/api/admin/system/health"]})},onError:K=>{P(`❌ Échec du reset: ${K.message}`,"error"),P(`Stack trace du reset: ${K.stack||"Non disponible"}`,"error"),r({title:"Erreur de reset",description:K.message||"Impossible de remettre à zéro la base de données.",variant:"destructive"})},onSettled:()=>{a("idle"),P("🏁 Opération de reset terminée","info")}}),q=()=>{confirm("Voulez-vous synchroniser la base de données avec les dernières catégories ?")?(P("👤 Utilisateur a confirmé la synchronisation","info"),I.mutate()):P("👤 Utilisateur a annulé la synchronisation","warning")},_=()=>{confirm("ATTENTION: Cette action va effacer toutes les catégories existantes et les remplacer. Êtes-vous sûr de vouloir continuer ?")?(P("👤 Utilisateur a confirmé le reset complet - ATTENTION DANGER","warning"),L.mutate()):P("👤 Utilisateur a annulé le reset complet","info")},$=Qe({mutationFn:async()=>{P("📤 Début de l'export des catégories...","info");try{const K=await $e("GET","/api/admin/categories/export");return P(`✅ Export réussi: ${K.count} catégories`,"success"),K}catch(K){throw P(`❌ Erreur lors de l'export: ${K.message}`,"error"),K}},onSuccess:K=>{r({title:"Export réussi",description:`${K.count} catégories exportées avec succès.`})},onError:K=>{r({title:"Erreur d'export",description:K.message||"Impossible d'exporter les catégories.",variant:"destructive"})}}),G=Qe({mutationFn:async({productionUrl:K,categories:X})=>{P(`🔄 Début de la synchronisation vers: ${K}`,"info"),P(`📊 ${X.length} catégories à synchroniser`,"info");try{const ue=await $e("POST","/api/admin/categories/sync-to-production",{productionUrl:K,categories:X});return P("✅ Synchronisation réussie","success"),ue}catch(ue){throw P(`❌ Erreur de synchronisation: ${ue.message}`,"error"),ue}},onMutate:()=>{a("syncing"),P("🚀 Démarrage de la synchronisation Dev → Production...","info")},onSuccess:K=>{P(`✅ ${K.syncedCount} catégories synchronisées`,"success"),K.duration&&P(`⏱️ Durée: ${K.duration}`,"info"),r({title:"Synchronisation réussie",description:`${K.syncedCount} catégories synchronisées vers la production.`})},onError:K=>{P(`❌ Échec de la synchronisation: ${K.message}`,"error"),r({title:"Erreur de synchronisation",description:K.message||"Impossible de synchroniser vers la production.",variant:"destructive"})},onSettled:()=>{a("idle"),P("🏁 Opération de synchronisation terminée","info")}}),re=async()=>{if(!o.trim()){r({title:"URL manquante",description:"Veuillez saisir l'URL de production.",variant:"destructive"});return}if(confirm(`Synchroniser les catégories de développement vers:
${o}

Cette action remplacera toutes les catégories de production. Continuer ?`)){P(`👤 Utilisateur a confirmé la synchronisation vers: ${o}`,"info");try{const K=await $.mutateAsync();K.categories&&K.categories.length>0&&G.mutate({productionUrl:o.trim(),categories:K.categories})}catch{P("❌ Impossible d'exporter les catégories pour la synchronisation","error")}}else P("👤 Utilisateur a annulé la synchronisation","warning")},B=async()=>{const K=await $.mutateAsync();if(K.categories&&K.categories.length>0){const X=K.categories;let ue=`-- Export SQL des catégories KDP Generator
`;return ue+=`-- Généré le ${new Date().toLocaleString("fr-FR")}
`,ue+=`-- ${X.length} catégories exportées

`,ue+=`-- Vider et recréer la table
`,ue+=`TRUNCATE TABLE marketplace_categories CASCADE;

`,X.forEach(fe=>{const Y=[`'${fe.marketplace.replace(/'/g,"''")}'`,`'${fe.categoryPath.replace(/'/g,"''")}'`,fe.parentPath?`'${fe.parentPath.replace(/'/g,"''")}'`:"NULL",fe.level,`'${fe.displayName.replace(/'/g,"''")}'`,fe.isSelectable,fe.sortOrder,fe.isActive,"NOW()","NOW()"];ue+=`INSERT INTO marketplace_categories (marketplace, category_path, parent_path, level, display_name, is_selectable, sort_order, is_active, created_at, updated_at) VALUES (${Y.join(", ")});
`}),{sqlContent:ue,count:X.length}}throw new Error("Aucune catégorie à exporter")},ae=async()=>{try{P("📋 Copie du SQL dans le presse-papiers...","info");const{sqlContent:K,count:X}=await B();await navigator.clipboard.writeText(K),P(`✅ SQL copié: ${X} catégories`,"success"),r({title:"SQL copié",description:`Le code SQL pour ${X} catégories a été copié dans le presse-papiers. Allez dans l'onglet Database de Replit et collez-le dans le SQL runner.`})}catch(K){P(`❌ Erreur lors de la copie SQL: ${K.message}`,"error"),r({title:"Erreur de copie",description:K.message||"Impossible de copier le SQL.",variant:"destructive"})}},Se=async()=>{try{P("📤 Début de l'export SQL...","info");const{sqlContent:K,count:X}=await B(),ue=new Blob([K],{type:"text/sql"}),fe=URL.createObjectURL(ue),Y=document.createElement("a");Y.href=fe,Y.download=`kdp-categories-export-${new Date().toISOString().split("T")[0]}.sql`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(fe),P(`✅ Fichier SQL téléchargé: ${X} catégories`,"success"),r({title:"Export SQL réussi",description:`${X} catégories exportées vers un fichier SQL.`})}catch(K){P(`❌ Erreur lors de l'export SQL: ${K.message}`,"error"),r({title:"Erreur d'export SQL",description:K.message||"Impossible d'exporter en SQL.",variant:"destructive"})}},Ce=async()=>{try{P("📤 Début de l'export JSON...","info");const K=await $.mutateAsync();if(K.categories&&K.categories.length>0){const X={timestamp:new Date().toISOString(),version:"1.0",categoriesCount:K.categories.length,categories:K.categories},ue=new Blob([JSON.stringify(X,null,2)],{type:"application/json"}),fe=URL.createObjectURL(ue),Y=document.createElement("a");Y.href=fe,Y.download=`kdp-categories-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(fe),P(`✅ Fichier JSON téléchargé: ${K.categories.length} catégories`,"success"),r({title:"Export JSON réussi",description:`${K.categories.length} catégories exportées vers un fichier JSON.`})}}catch(K){P(`❌ Erreur lors de l'export JSON: ${K.message}`,"error"),r({title:"Erreur d'export JSON",description:K.message||"Impossible d'exporter en JSON.",variant:"destructive"})}};if(j.useEffect(()=>{e&&c.length===0&&(P("🚀 Interface d'administration système chargée","success"),P(`👤 Utilisateur administrateur connecté: ${(T==null?void 0:T.totalUsers)||0} utilisateurs au total`,"info"))},[e,T]),t||E)return i.jsx(ft,{children:i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})});if(!e)return null;const Fe=K=>{switch(K){case"healthy":return i.jsx(me,{className:"bg-green-100 text-green-800 border-green-200",children:"Système opérationnel"});case"warning":return i.jsx(me,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"Attention requise"});case"error":return i.jsx(me,{className:"bg-red-100 text-red-800 border-red-200",children:"Erreur système"});default:return i.jsx(me,{variant:"outline",children:"Statut inconnu"})}},ye=K=>{switch(K){case"healthy":return i.jsx(Lo,{className:"h-5 w-5 text-green-600"});case"warning":return i.jsx(Ds,{className:"h-5 w-5 text-yellow-600"});case"error":return i.jsx(Ds,{className:"h-5 w-5 text-red-600"});default:return i.jsx(Qj,{className:"h-5 w-5 text-gray-600"})}};return i.jsx(ft,{children:i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>window.history.back(),children:[i.jsx(En,{className:"h-4 w-4 mr-2"}),"Retour"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Administration Système"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestion de la base de données et synchronisation"})]})]}),i.jsx(me,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Administrateur Système"})]}),i.jsxs(Z,{className:"border-l-4 border-l-blue-500",children:[i.jsxs(oe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[ye((T==null?void 0:T.database)||"error"),i.jsxs("div",{children:[i.jsx(le,{className:"text-lg",children:"État du Système"}),i.jsx(Ue,{children:"Surveillance en temps réel de la base de données"})]})]}),Fe((T==null?void 0:T.database)||"error")]}),i.jsxs(ee,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Catégories:"}),i.jsx(me,{variant:"secondary",children:(T==null?void 0:T.categories)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Utilisateurs:"}),i.jsx(me,{variant:"secondary",children:(T==null?void 0:T.totalUsers)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Projets:"}),i.jsx(me,{variant:"secondary",children:(T==null?void 0:T.totalProjects)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Livres:"}),i.jsx(me,{variant:"secondary",children:(T==null?void 0:T.totalBooks)||0})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Uptime:"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:(T==null?void 0:T.uptime)||"N/A"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:"Mémoire:"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:T!=null&&T.memoryUsage?`${T.memoryUsage.percentage}%`:"N/A"})]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Dernière synchronisation:"}),i.jsx("span",{className:"text-sm text-blue-800",children:T!=null&&T.lastSeeded?new Date(T.lastSeeded).toLocaleString("fr-FR"):"Jamais"})]}),(T==null?void 0:T.memoryUsage)&&i.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${T.memoryUsage.percentage}%`}})})]})]})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ml,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx(le,{children:"Gestion de la Base de Données"}),i.jsx(Ue,{children:"Synchronisation des catégories Amazon KDP"})]})]})}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ℹ️ Information"}),i.jsx("p",{className:"text-sm text-blue-800",children:"La synchronisation automatique se fait au démarrage de l'application. Utilisez ces contrôles uniquement si vous devez forcer une mise à jour manuelle."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Synchronisation Simple"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoute les catégories manquantes sans effacer les données existantes."}),i.jsx(F,{onClick:q,disabled:s!=="idle",className:"w-full",children:s==="seeding"?i.jsxs(i.Fragment,{children:[i.jsx(or,{className:"h-4 w-4 mr-2 animate-spin"}),"Synchronisation..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ml,{className:"h-4 w-4 mr-2"}),"Synchroniser"]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-red-600",children:"Reset Complet"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"⚠️ Efface toutes les catégories et les recharge complètement."}),i.jsx(F,{onClick:_,disabled:s!=="idle",variant:"destructive",className:"w-full",children:s==="resetting"?i.jsxs(i.Fragment,{children:[i.jsx(or,{className:"h-4 w-4 mr-2 animate-spin"}),"Reset en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Reset & Re-synchroniser"]})})]})]})]})]}),i.jsxs(Z,{className:"border-l-4 border-l-orange-500",children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(n_,{className:"h-5 w-5 text-orange-600"}),i.jsxs("div",{children:[i.jsx(le,{children:"Synchronisation Développement → Production"}),i.jsx(Ue,{children:"Transférer les catégories de développement vers la production"})]})]})}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"⚠️ Attention"}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-3 mb-3",children:[i.jsxs("p",{className:"text-sm text-red-800 mb-2",children:["⚠️ ",i.jsx("strong",{children:"La synchronisation directe échouera probablement"})," car elle nécessite :"]}),i.jsxs("ul",{className:"text-xs text-red-700 list-disc list-inside space-y-1 ml-2",children:[i.jsx("li",{children:"Une URL de production accessible et déployée"}),i.jsx("li",{children:"L'authentification et les autorisations CORS configurées"}),i.jsx("li",{children:"L'API /api/admin/categories/migrate active sur le serveur cible"})]})]}),i.jsxs("p",{className:"text-sm text-orange-800 mb-3",children:[i.jsx("strong",{children:"Recommandation :"})," Utilisez les méthodes manuelles ci-dessous (Copier SQL) qui fonctionnent toujours, même si la synchronisation directe échoue."]}),i.jsxs("div",{className:"bg-orange-100 border border-orange-300 rounded p-3 space-y-3",children:[i.jsx("p",{className:"text-xs text-orange-700",children:i.jsx("strong",{children:"🎯 Guide de synchronisation manuelle :"})}),i.jsxs("div",{className:"text-xs text-orange-600 space-y-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold mb-1",children:"📋 Option 1 : Copier-Coller (Recommandé)"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[i.jsx("li",{children:'Cliquez sur "Copier SQL" ci-dessous'}),i.jsx("li",{children:"Ouvrez votre projet de PRODUCTION dans Replit"}),i.jsx("li",{children:`Cliquez sur l'onglet "Database" (icône base de données)`}),i.jsx("li",{children:"Dans la console, collez le SQL et appuyez sur Entrée"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold mb-1",children:"💾 Option 2 : Fichier SQL"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[i.jsx("li",{children:'Cliquez sur "Télécharger SQL"'}),i.jsx("li",{children:"Uploadez le fichier dans votre projet de production"}),i.jsx("li",{children:"Exécutez le fichier via la console Database"})]})]}),i.jsx("div",{className:"bg-green-50 border border-green-200 rounded p-2 mt-2",children:i.jsxs("p",{className:"text-green-700 text-xs font-medium",children:["✅ ",i.jsx("strong",{children:"Solution recommandée :"})," Ces méthodes manuelles fonctionnent toujours, même quand la synchronisation directe échoue (erreur 403/CORS)."]})}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2 mt-2",children:i.jsxs("p",{className:"text-yellow-700 text-xs",children:["⚠️ ",i.jsx("strong",{children:"Important :"})," Ces opérations remplaceront TOUTES les catégories en production. Faites une sauvegarde si nécessaire."]})})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Environnement Actuel"}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Catégories locales:"}),i.jsx(me,{variant:"secondary",children:(T==null?void 0:T.categories)||0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Statut:"}),i.jsx(me,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Développement"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"URL de Production"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"production-url",className:"text-sm font-medium",children:"URL de votre site de production:"}),i.jsx("input",{id:"production-url",type:"url",value:o,onChange:K=>l(K.target.value),placeholder:"https://votre-site.replit.app",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Exemple: https://monapp.replit.app"})]})]})]}),i.jsxs("div",{className:"pt-4 border-t space-y-3",children:[i.jsx(F,{onClick:re,disabled:s!=="idle"||!o.trim(),className:"w-full bg-orange-600 hover:bg-orange-700",children:s==="syncing"?i.jsxs(i.Fragment,{children:[i.jsx(or,{className:"h-4 w-4 mr-2 animate-spin"}),"Synchronisation en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(n_,{className:"h-4 w-4 mr-2"}),"Synchroniser vers Production"]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(F,{onClick:ae,disabled:s!=="idle",className:"flex-1 bg-green-600 hover:bg-green-700",children:[i.jsx(Pa,{className:"h-4 w-4 mr-2"}),"✅ Copier SQL (Recommandé)"]}),i.jsxs(F,{onClick:Se,disabled:s!=="idle",variant:"outline",className:"flex-1",children:[i.jsx(ml,{className:"h-4 w-4 mr-2"}),"Télécharger SQL"]})]}),i.jsxs(F,{onClick:Ce,disabled:s!=="idle",variant:"outline",className:"w-full",children:[i.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Télécharger JSON"]})]}),!o.trim()&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Veuillez saisir l'URL de production pour la synchronisation directe"})]})]})]})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(or,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{children:[i.jsx(le,{children:"Gestion du Cache"}),i.jsx(Ue,{children:"Optimisation des performances système"})]})]})}),i.jsx(ee,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Cache Applicatif"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Vide le cache des catégories et données statiques."}),i.jsxs(F,{variant:"outline",className:"w-full",onClick:()=>{P("🧹 Vidage du cache applicatif...","info"),n.invalidateQueries(),P("✅ Cache applicatif vidé avec succès","success"),P("📊 Toutes les requêtes en cache ont été invalidées","info"),r({title:"Cache vidé",description:"Le cache applicatif a été vidé avec succès."})},children:[i.jsx(or,{className:"h-4 w-4 mr-2"}),"Vider le Cache"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Optimisation Auto"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optimise automatiquement les performances système."}),i.jsxs(F,{variant:"outline",className:"w-full",onClick:()=>{P("⚡ Lancement de l'optimisation automatique...","info"),P("🔧 Optimisation des performances système en cours...","info"),P("✅ Optimisation automatique terminée","success"),r({title:"Optimisation lancée",description:"Le système optimise automatiquement les performances."})},children:[i.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Optimiser"]})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ml,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx(le,{children:"Opérations Base de Données"}),i.jsx(Ue,{children:"Actions réelles sur la base de données"})]})]})}),i.jsx(ee,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Statistiques Temps Réel"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Affiche les statistiques actuelles de la base de données."}),i.jsxs(F,{variant:"outline",className:"w-full",onClick:async()=>{try{const K=await fetch("/api/admin/database/stats");if(K.ok){const X=await K.json();n.invalidateQueries({queryKey:["/api/admin/system/health"]}),r({title:"Statistiques mises à jour",description:`${X.categories} catégories, ${X.users} utilisateurs, ${X.projects} projets, ${X.books} livres`})}else throw new Error("Stats fetch failed")}catch{r({title:"Erreur de récupération",description:"Impossible de récupérer les statistiques.",variant:"destructive"})}},children:[i.jsx(ml,{className:"h-4 w-4 mr-2"}),"Actualiser les Stats"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:"Vérification Santé"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Vérifie l'état de santé complet du système."}),i.jsxs(F,{variant:"outline",className:"w-full",onClick:()=>{n.invalidateQueries({queryKey:["/api/admin/system/health"]}),r({title:"Vérification lancée",description:"État du système mis à jour."})},children:[i.jsx(Qj,{className:"h-4 w-4 mr-2"}),"Vérifier la Santé"]})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg",children:"Informations Techniques"})}),i.jsx(ee,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Données incluses:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"• 249 catégories Amazon KDP"}),i.jsx("li",{children:"• 6 marketplaces (FR, IT, DE, UK, ES, COM)"}),i.jsx("li",{children:"• Types: Kindle eBook & Paperback"}),i.jsx("li",{children:"• Structure hiérarchique complète"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium mb-2",children:"Processus automatique:"}),i.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"• Démarrage serveur → Vérification"}),i.jsx("li",{children:"• Base vide → Import automatique"}),i.jsx("li",{children:"• Données existantes → Ignore"}),i.jsx("li",{children:"• Production → Zéro intervention"})]})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(s_,{className:"h-5 w-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx(le,{children:"Logs Système en Temps Réel"}),i.jsx(Ue,{children:"Surveillance détaillée des opérations pour le débogage en production"})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(F,{variant:g?"destructive":"outline",size:"sm",onClick:()=>m(!g),children:g?i.jsxs(i.Fragment,{children:[i.jsx(jh,{className:"h-4 w-4 mr-2"}),"Reprendre"]}):i.jsxs(i.Fragment,{children:[i.jsx(WL,{className:"h-4 w-4 mr-2"}),"Pause"]})}),i.jsxs(F,{variant:d?"default":"outline",size:"sm",onClick:()=>f(!d),disabled:g,children:[i.jsx(or,{className:`h-4 w-4 mr-2 ${d&&!g?"animate-spin":""}`}),d?"Auto":"Manuel"]}),i.jsxs(F,{variant:h?"default":"destructive",size:"sm",onClick:()=>p(!h),title:h?"Désactiver le défilement automatique":"Activer le défilement automatique",children:[i.jsx(s_,{className:"h-4 w-4 mr-2"}),h?"Scroll ON":"Scroll OFF"]}),i.jsxs(F,{variant:"outline",size:"sm",onClick:M,disabled:c.length===0,children:[i.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Copier"]}),i.jsxs(F,{variant:"outline",size:"sm",onClick:O,disabled:c.length===0||A.isPending,children:[A.isPending?i.jsx(or,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(Ki,{className:"h-4 w-4 mr-2"}),A.isPending?"Effacement...":"Effacer"]}),i.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{n.invalidateQueries({queryKey:["/api/admin/system/logs"]}),p(!0)},disabled:g,children:[i.jsx(or,{className:"h-4 w-4 mr-2"}),"Actualiser"]})]})]})}),i.jsxs(ee,{children:[i.jsx("div",{ref:b,className:"bg-black text-green-400 p-4 rounded-lg font-mono text-sm overflow-auto max-h-96 border",onScroll:S,children:c.length===0?i.jsx("div",{className:"text-gray-500",children:k?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(or,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Chargement des logs système..."})]}):"Aucun log disponible. Effectuez une opération pour voir les logs..."}):i.jsxs("div",{className:"space-y-1",children:[c.map((K,X)=>i.jsx("div",{className:"break-all hover:bg-gray-800 px-1 rounded",children:K},X)),i.jsx("div",{ref:y})]})}),i.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500",children:[i.jsx("div",{children:c.length>0&&i.jsxs("span",{children:[c.length," entrées •",g?i.jsx("span",{className:"text-red-600",children:" ⏸️ En pause"}):d?i.jsx("span",{className:"text-green-600",children:" 🔄 Auto-actualisation active"}):i.jsx("span",{className:"text-orange-600",children:" ✋ Mode manuel"}),v&&i.jsx("span",{className:"text-blue-600",children:" • 👤 Utilisateur actif"}),!h&&!g&&i.jsx("span",{className:"text-purple-600",children:" • 📜 Défilement désactivé"})]})}),i.jsx("div",{children:C&&typeof C=="object"&&"total"in C&&i.jsxs("span",{children:["Total serveur: ",String(C.total)]})})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-2 text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"text-blue-600",children:"ℹ️"}),i.jsx("span",{children:"Information"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"text-green-600",children:"✅"}),i.jsx("span",{children:"Succès"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"text-yellow-600",children:"⚠️"}),i.jsx("span",{children:"Avertissement"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("span",{className:"text-red-600",children:"❌"}),i.jsx("span",{children:"Erreur"})]})]}),i.jsxs("div",{className:"mt-4 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"📋 Instructions de Débogage"}),i.jsxs("div",{className:"text-sm text-amber-800 space-y-1",children:[i.jsx("p",{children:"• Les logs capturent toutes les étapes des opérations système"}),i.jsx("p",{children:"• En cas de problème en production, copiez les logs et contactez le support"}),i.jsx("p",{children:"• Tous les détails d'erreur et stack traces sont inclus pour un débogage précis"}),i.jsx("p",{children:"• Les timestamps permettent de tracer l'ordre exact des opérations"})]})]})]})]})]})})}function fAe(){const{isAdmin:e,isLoading:t}=ea(),{toast:r}=Pt(),n=dr(),[s,a]=j.useState(!1),[o,l]=j.useState(null),[c,u]=j.useState({type:"",name:"",systemPrompt:"",userPromptTemplate:"",isActive:!0}),{data:d=[],isLoading:f}=ze({queryKey:["/api/admin/prompts"],enabled:e}),h=Qe({mutationFn:b=>$e("POST","/api/admin/prompts"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/prompts"]}),a(!1),m(),r({title:"Prompt créé",description:"Le template de prompt a été créé avec succès."})},onError:b=>{r({title:"Erreur de création",description:b.message||"Impossible de créer le prompt",variant:"destructive"})}}),p=Qe({mutationFn:({id:b,data:N})=>$e("PUT",`/api/admin/prompts/${b}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/prompts"]}),a(!1),l(null),m(),r({title:"Prompt mis à jour",description:"Le template de prompt a été modifié avec succès."})},onError:b=>{r({title:"Erreur de modification",description:b.message||"Impossible de modifier le prompt",variant:"destructive"})}}),g=Qe({mutationFn:b=>$e("DELETE",`/api/admin/prompts/${b}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/admin/prompts"]}),r({title:"Prompt supprimé",description:"Le template de prompt a été supprimé avec succès."})},onError:b=>{r({title:"Erreur de suppression",description:b.message||"Impossible de supprimer le prompt",variant:"destructive"})}}),m=()=>{u({type:"",name:"",systemPrompt:"",userPromptTemplate:"",isActive:!0})},v=b=>{l(b),u({type:b.type,name:b.name,systemPrompt:b.systemPrompt,userPromptTemplate:b.userPromptTemplate,isActive:b.isActive??!0}),a(!0)},x=()=>{if(!c.type||!c.name||!c.systemPrompt||!c.userPromptTemplate){r({title:"Champs requis",description:"Veuillez remplir tous les champs obligatoires.",variant:"destructive"});return}o?p.mutate({id:o.id,data:c}):h.mutate(c)},y=b=>({keywords:"bg-blue-100 text-blue-800",categories:"bg-green-100 text-green-800",title:"bg-purple-100 text-purple-800",description:"bg-orange-100 text-orange-800",marketing:"bg-pink-100 text-pink-800",pricing:"bg-yellow-100 text-yellow-800",structure:"bg-indigo-100 text-indigo-800",chapters:"bg-teal-100 text-teal-800"})[b]||"bg-gray-100 text-gray-800";return e?i.jsx(ft,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Gestion des Prompts IA"}),i.jsx("p",{className:"text-muted-foreground",children:"Configurez les templates de prompts pour les recommandations IA"}),i.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"💡 Intégration automatique :"}),' Les prompts créés ici apparaissent automatiquement dans la page "AI Functions" et sont utilisés par le système de génération IA.']})})]}),i.jsxs(mn,{open:s,onOpenChange:a,children:[i.jsx(nl,{asChild:!0,children:i.jsxs(F,{onClick:()=>{m(),l(null)},children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Nouveau Prompt"]})}),i.jsxs(tn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{children:o?"Modifier le prompt":"Créer un nouveau prompt"}),i.jsx(Vo,{children:"Configurez les prompts système et utilisateur pour les recommandations IA."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Type *"}),i.jsx(_e,{value:c.type,onChange:b=>u({...c,type:b.target.value}),placeholder:"ex: keywords, title, description..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Nom *"}),i.jsx(_e,{value:c.name,onChange:b=>u({...c,name:b.target.value}),placeholder:"Nom du template"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Prompt Système *"}),i.jsx(bs,{rows:4,value:c.systemPrompt,onChange:b=>u({...c,systemPrompt:b.target.value}),placeholder:"Définit le rôle et le comportement de l'IA..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Template Prompt Utilisateur *"}),i.jsx(bs,{rows:6,value:c.userPromptTemplate,onChange:b=>u({...c,userPromptTemplate:b.target.value}),placeholder:"Template avec variables {bookContext}, {bookTitle}, etc..."}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Variables disponibles: ","{bookContext}",", ","{bookTitle}",", ","{type}"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:b=>u({...c,isActive:b.target.checked})}),i.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium",children:"Prompt actif"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsxs(F,{variant:"outline",onClick:()=>{a(!1),l(null),m()},children:[i.jsx(ji,{className:"w-4 h-4 mr-2"}),"Annuler"]}),i.jsxs(F,{onClick:x,disabled:h.isPending||p.isPending,children:[h.isPending||p.isPending?i.jsx(or,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Gl,{className:"w-4 h-4 mr-2"}),o?"Modifier":"Créer"]})]})]})]})]}),f?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(or,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):i.jsx("div",{className:"grid gap-4",children:d.length===0?i.jsx(Z,{children:i.jsxs(ee,{className:"py-12 text-center",children:[i.jsx(vs,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun prompt configuré"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Créez votre premier template de prompt pour les recommandations IA."}),i.jsxs(F,{onClick:()=>a(!0),children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Créer un prompt"]})]})}):d.map(b=>i.jsxs(Z,{className:"border-l-4 border-l-blue-500",children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(VL,{className:"w-5 h-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx(le,{className:"text-lg",children:b.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:b.description||"Aucune description"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(me,{className:y(b.type),children:b.type}),i.jsx(me,{variant:b.isActive?"default":"secondary",children:b.isActive?"Actif":"Inactif"})]})]})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Prompt Système"}),i.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-md line-clamp-3",children:b.systemPrompt})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Template Utilisateur"}),i.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded-md line-clamp-3",children:b.userPromptTemplate})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsxs(F,{variant:"outline",size:"sm",onClick:()=>v(b),children:[i.jsx(YG,{className:"w-4 h-4 mr-2"}),"Modifier"]}),i.jsxs($i,{children:[i.jsx(oc,{asChild:!0,children:i.jsxs(F,{variant:"outline",size:"sm",children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Supprimer"]})}),i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Confirmer la suppression"}),i.jsxs(ci,{children:['Êtes-vous sûr de vouloir supprimer le prompt "',b.name,'" ? Cette action est irréversible.']})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Annuler"}),i.jsx(ui,{onClick:()=>g.mutate(b.id),className:"bg-red-600 hover:bg-red-700",children:"Supprimer"})]})]})]})]})]})})]},b.id))})]})}):i.jsx(ft,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ds,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Accès restreint"}),i.jsx("p",{className:"text-gray-600",children:"Vous devez être administrateur pour accéder à cette page."})]})})})}function hAe(){const{toast:e}=Pt(),t=dr(),{data:r,isLoading:n}=ze({queryKey:["/api/admin/cron/jobs"],refetchInterval:3e4}),{data:s}=ze({queryKey:["/api/admin/cron/logs"],refetchInterval:1e4}),a=Qe({mutationFn:async({jobId:u,enabled:d})=>$e(`/api/admin/cron/jobs/${u}/toggle`,{method:"POST",body:JSON.stringify({enabled:d}),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{e({title:"Cron Job Updated",description:"The scheduled task has been updated successfully."}),t.invalidateQueries({queryKey:["/api/admin/cron/jobs"]})},onError:()=>{e({title:"Error",description:"Failed to update the scheduled task.",variant:"destructive"})}}),o=Qe({mutationFn:async u=>$e(`/api/admin/cron/jobs/${u}/run`,{method:"POST"}),onSuccess:()=>{e({title:"Job Started",description:"The scheduled task has been started manually."}),t.invalidateQueries({queryKey:["/api/admin/cron/jobs"]}),t.invalidateQueries({queryKey:["/api/admin/cron/logs"]})},onError:()=>{e({title:"Error",description:"Failed to start the scheduled task.",variant:"destructive"})}}),l=u=>{switch(u){case"running":return i.jsx(Lo,{className:"h-4 w-4 text-green-500"});case"error":return i.jsx(bh,{className:"h-4 w-4 text-red-500"});default:return i.jsx(Fu,{className:"h-4 w-4 text-gray-500"})}},c=(u,d)=>{if(!d)return i.jsx(me,{variant:"secondary",children:"Disabled"});switch(u){case"running":return i.jsx(me,{className:"bg-green-500",children:"Running"});case"error":return i.jsx(me,{variant:"destructive",children:"Error"});default:return i.jsx(me,{variant:"outline",children:"Stopped"})}};return i.jsx(ft,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Scheduled Tasks & Cron Jobs"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor automated background tasks"})]}),i.jsxs(F,{onClick:()=>{t.invalidateQueries({queryKey:["/api/admin/cron/jobs"]}),t.invalidateQueries({queryKey:["/api/admin/cron/logs"]})},variant:"outline",className:"flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Refresh"]})]}),i.jsxs("div",{className:"grid gap-6",children:[i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(LL,{className:"h-5 w-5"}),"Scheduled Tasks"]})}),i.jsx(ee,{children:n?i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((u,d)=>i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-1/3 mb-2"}),i.jsx("div",{className:"h-8 bg-muted rounded mb-2"}),i.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]},d))}):r&&Array.isArray(r)&&r.length>0?i.jsx("div",{className:"space-y-4",children:r.map(u=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[l(u.status),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:u.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[c(u.status,u.enabled),i.jsxs(F,{size:"sm",variant:"outline",onClick:()=>o.mutate(u.id),disabled:o.isPending,children:[i.jsx(jh,{className:"h-3 w-3 mr-1"}),"Run Now"]}),i.jsx(F,{size:"sm",variant:u.enabled?"destructive":"default",onClick:()=>a.mutate({jobId:u.id,enabled:!u.enabled}),disabled:a.isPending,children:u.enabled?i.jsxs(i.Fragment,{children:[i.jsx(WL,{className:"h-3 w-3 mr-1"}),"Disable"]}):i.jsxs(i.Fragment,{children:[i.jsx(jh,{className:"h-3 w-3 mr-1"}),"Enable"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Schedule:"}),i.jsx("p",{className:"font-mono",children:u.schedule})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Last Run:"}),i.jsx("p",{children:u.lastRun?new Date(u.lastRun).toLocaleString():"Never"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Next Run:"}),i.jsx("p",{children:u.nextRun?new Date(u.nextRun).toLocaleString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx("p",{className:"capitalize",children:u.status})]})]})]},u.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Fu,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Scheduled Tasks"}),i.jsx("p",{className:"text-muted-foreground",children:"No cron jobs are currently configured."})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(or,{className:"h-5 w-5"}),"Recent Activity Logs"]})}),i.jsx(ee,{children:s&&Array.isArray(s)&&s.length>0?i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:s.map((u,d)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:u.level==="error"?i.jsx(bh,{className:"h-4 w-4 text-red-500"}):i.jsx(Lo,{className:"h-4 w-4 text-green-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:u.job}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleString()})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:u.message})]})]},d))}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No recent activity logs available."})})})]})]})]})})}const mAe=[{value:"structure",label:"Structure de Livre",description:"Génère la structure et plan du livre"},{value:"description",label:"Description de Livre",description:"Crée des descriptions marketing attractives"},{value:"marketing",label:"Contenu Marketing",description:"Génère du contenu promotionnel"},{value:"chapters",label:"Contenu de Chapitres",description:"Développe le contenu des chapitres"},{value:"title",label:"Titre de Livre",description:"Propose des titres accrocheurs"},{value:"keywords",label:"Mots-clés",description:"Génère des mots-clés pour le référencement"},{value:"synopsis",label:"Synopsis",description:"Crée un résumé professionnel"},{value:"blurb",label:"Quatrième de Couverture",description:"Texte pour la couverture arrière"}],zE=[{value:"gpt-4o",label:"GPT-4o",maxTokens:4096},{value:"gpt-4o-mini",label:"GPT-4o Mini",maxTokens:4096},{value:"gpt-4",label:"GPT-4",maxTokens:8192},{value:"claude-3-sonnet",label:"Claude 3 Sonnet",maxTokens:4096}],pAe=[{name:"title",description:"Titre du livre",type:"text",required:!0},{name:"genre",description:"Genre du livre",type:"select",options:["Fiction","Non-fiction","Romance","Thriller","Sci-Fi","Fantasy","Biography","Self-help"],required:!1},{name:"target_audience",description:"Public cible",type:"text",required:!1},{name:"language",description:"Langue du livre",type:"select",options:["Français","English","Español","Deutsch"],required:!1},{name:"author",description:"Nom de l'auteur",type:"text",required:!1},{name:"pages",description:"Nombre de pages",type:"number",required:!1},{name:"description",description:"Description courte",type:"text",required:!1}];function gAe({template:e,onSave:t,onClose:r,isLoading:n}){var x,y,b,N,w;const[s,a]=j.useState({name:e.name||"",type:e.type||"",systemPrompt:e.systemPrompt||"",userPromptTemplate:e.userPromptTemplate||"",model:e.model||"gpt-4o",maxTokens:e.maxTokens||2e3,temperature:e.temperature||.7,isActive:e.isActive??!0,isDefault:e.isDefault??!1,variables:e.variables||[]}),[o,l]=j.useState(""),[c,u]=j.useState("config");j.useEffect(()=>{var C;let S=s.userPromptTemplate;(C=s.variables)==null||C.forEach(k=>{const P=k.type==="number"?"300":k.options?k.options[0]:`[${k.name}]`;S=S.replace(new RegExp(`{${k.name}}`,"g"),P)}),l(S)},[s.userPromptTemplate,s.variables]);const d=S=>{const C=S||{name:"",description:"",type:"text",required:!1};a(k=>({...k,variables:[...k.variables||[],C]}))},f=(S,C,k)=>{a(P=>{var A;return{...P,variables:((A=P.variables)==null?void 0:A.map((O,M)=>M===S?{...O,[C]:k}:O))||[]}})},h=S=>{a(C=>{var k;return{...C,variables:((k=C.variables)==null?void 0:k.filter((P,A)=>A!==S))||[]}})},p=(S,C=!1)=>{const k=`{${S}}`;a(C?P=>({...P,systemPrompt:P.systemPrompt+k}):P=>({...P,userPromptTemplate:P.userPromptTemplate+k}))},g=()=>{const S={...s};e.id&&(S.id=e.id),t(S)},m=zE.find(S=>S.value===s.model),v=(m==null?void 0:m.maxTokens)||4096;return i.jsx(mn,{open:!0,onOpenChange:r,children:i.jsxs(tn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(rn,{children:i.jsx(nn,{children:e.id?"Modifier la Fonctionnalité IA":"Nouvelle Fonctionnalité IA"})}),i.jsxs(ip,{value:c,onValueChange:u,children:[i.jsxs(Vd,{className:"grid w-full grid-cols-4",children:[i.jsx(qr,{value:"config",children:"Configuration"}),i.jsx(qr,{value:"prompts",children:"Prompts"}),i.jsx(qr,{value:"variables",children:"Variables"}),i.jsx(qr,{value:"preview",children:"Aperçu"})]}),i.jsxs(Wr,{value:"config",className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"name",children:"Nom de la Fonctionnalité"}),i.jsx(_e,{id:"name",value:s.name,onChange:S=>a(C=>({...C,name:S.target.value})),placeholder:"Ex: Générateur de Description"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"type",children:"Type de Fonction"}),i.jsxs(et,{value:s.type,onValueChange:S=>a(C=>({...C,type:S})),children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Sélectionner un type"})}),i.jsx(Je,{children:mAe.map(S=>i.jsx(U,{value:S.value,children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:S.label}),i.jsx("div",{className:"text-xs text-muted-foreground",children:S.description})]})},S.value))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"model",children:"Modèle IA"}),i.jsxs(et,{value:s.model,onValueChange:S=>a(C=>({...C,model:S})),children:[i.jsx(Ze,{children:i.jsx(tt,{})}),i.jsx(Je,{children:zE.map(S=>i.jsxs(U,{value:S.value,children:[S.label," (max ",S.maxTokens," tokens)"]},S.value))})]})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"maxTokens",children:"Max Tokens"}),i.jsx(_e,{id:"maxTokens",type:"number",min:"100",max:v,value:s.maxTokens,onChange:S=>a(C=>({...C,maxTokens:parseInt(S.target.value)||2e3}))})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"temperature",children:"Température"}),i.jsx(_e,{id:"temperature",type:"number",min:"0",max:"2",step:"0.1",value:s.temperature,onChange:S=>a(C=>({...C,temperature:parseFloat(S.target.value)||.7}))})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{checked:s.isActive,onCheckedChange:S=>a(C=>({...C,isActive:S}))}),i.jsx(ne,{children:"Actif"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{checked:s.isDefault,onCheckedChange:S=>a(C=>({...C,isDefault:S}))}),i.jsx(ne,{children:"Par défaut"})]})]})]}),i.jsxs(Wr,{value:"prompts",className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"systemPrompt",children:"Prompt Système"}),i.jsx("div",{className:"flex gap-2 mb-2",children:(x=s.variables)==null?void 0:x.map(S=>i.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(S.name,!0),children:S.name},S.name))}),i.jsx(bs,{id:"systemPrompt",rows:4,value:s.systemPrompt,onChange:S=>a(C=>({...C,systemPrompt:S.target.value})),placeholder:"Instructions pour l'IA concernant son rôle et comportement..."})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"userPrompt",children:"Template de Prompt Utilisateur"}),i.jsx("div",{className:"flex gap-2 mb-2",children:(y=s.variables)==null?void 0:y.map(S=>i.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(S.name,!1),children:S.name},S.name))}),i.jsx(bs,{id:"userPrompt",rows:6,value:s.userPromptTemplate,onChange:S=>a(C=>({...C,userPromptTemplate:S.target.value})),placeholder:"Template avec variables: Créez une description pour le livre '{title}' dans le genre {genre}..."})]}),i.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(UL,{className:"w-4 h-4 text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Variables Disponibles"})]}),i.jsx("div",{className:"flex flex-wrap gap-1",children:(b=s.variables)==null?void 0:b.map(S=>i.jsx(me,{variant:"secondary",className:"text-xs",children:"{"+S.name+"}"},S.name))})]})]}),i.jsxs(Wr,{value:"variables",className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Variables Personnalisées"}),i.jsxs(F,{onClick:()=>d(),size:"sm",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Nouvelle Variable"]})]}),i.jsx("div",{className:"space-y-3",children:(N=s.variables)==null?void 0:N.map((S,C)=>{var k;return i.jsx(Z,{children:i.jsxs(ee,{className:"p-4",children:[i.jsxs("div",{className:"grid grid-cols-12 gap-3 items-end",children:[i.jsxs("div",{className:"col-span-3",children:[i.jsx(ne,{className:"text-xs",children:"Nom"}),i.jsx(_e,{value:S.name,onChange:P=>f(C,"name",P.target.value),placeholder:"nom_variable"})]}),i.jsxs("div",{className:"col-span-4",children:[i.jsx(ne,{className:"text-xs",children:"Description"}),i.jsx(_e,{value:S.description,onChange:P=>f(C,"description",P.target.value),placeholder:"Description de la variable"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(ne,{className:"text-xs",children:"Type"}),i.jsxs(et,{value:S.type,onValueChange:P=>f(C,"type",P),children:[i.jsx(Ze,{children:i.jsx(tt,{})}),i.jsxs(Je,{children:[i.jsx(U,{value:"text",children:"Texte"}),i.jsx(U,{value:"number",children:"Nombre"}),i.jsx(U,{value:"select",children:"Liste"})]})]})]}),i.jsx("div",{className:"col-span-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{checked:S.required,onCheckedChange:P=>f(C,"required",P)}),i.jsx(ne,{className:"text-xs",children:"Obligatoire"})]})}),i.jsx("div",{className:"col-span-1",children:i.jsx(F,{variant:"outline",size:"sm",onClick:()=>h(C),children:i.jsx(ji,{className:"w-4 h-4"})})})]}),S.type==="select"&&i.jsxs("div",{className:"mt-3",children:[i.jsx(ne,{className:"text-xs",children:"Options (séparées par des virgules)"}),i.jsx(_e,{value:((k=S.options)==null?void 0:k.join(", "))||"",onChange:P=>f(C,"options",P.target.value.split(", ").filter(Boolean)),placeholder:"Option1, Option2, Option3"})]})]})},C)})}),i.jsx(Sl,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Variables Prédéfinies"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:pAe.map(S=>{var C;return i.jsxs(F,{variant:"outline",size:"sm",onClick:()=>d(S),disabled:(C=s.variables)==null?void 0:C.some(k=>k.name===S.name),children:[i.jsx(nr,{className:"w-3 h-3 mr-2"}),S.description]},S.name)})})]})]}),i.jsx(Wr,{value:"preview",className:"space-y-4",children:i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(Rm,{className:"w-5 h-5"}),"Aperçu de la Configuration"]})}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Prompt Système:"}),i.jsx("div",{className:"bg-gray-50 p-3 rounded text-sm",children:s.systemPrompt||"Aucun prompt système défini"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Prompt Utilisateur (avec exemples):"}),i.jsx("div",{className:"bg-gray-50 p-3 rounded text-sm",children:o||"Aucun template défini"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Modèle:"})," ",s.model]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Max Tokens:"})," ",s.maxTokens]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Température:"})," ",s.temperature]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Variables:"})," ",((w=s.variables)==null?void 0:w.length)||0]})]})]})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(F,{variant:"outline",onClick:r,children:"Annuler"}),i.jsx(F,{onClick:g,disabled:n,children:n?"Enregistrement...":"Enregistrer"})]})]})})}const vAe=[{value:"openai",label:"OpenAI"},{value:"anthropic",label:"Anthropic"},{value:"google",label:"Google"},{value:"microsoft",label:"Microsoft"}];function xAe({model:e,onSave:t,onClose:r,isLoading:n}){const[s,a]=j.useState({name:e.name||"",displayName:e.displayName||"",provider:e.provider||"openai",inputPricePer1kTokens:e.inputPricePer1kTokens||0,outputPricePer1kTokens:e.outputPricePer1kTokens||0,maxTokens:e.maxTokens||4096,contextWindow:e.contextWindow||128e3,isAvailable:e.isAvailable??!0}),o=()=>{const u={...s};e.id&&(u.id=e.id),t(u)},l=s.inputPricePer1kTokens*1e3,c=s.outputPricePer1kTokens*1e3;return i.jsx(mn,{open:!0,onOpenChange:r,children:i.jsxs(tn,{className:"max-w-2xl",children:[i.jsx(rn,{children:i.jsx(nn,{children:e.id?"Modifier le Modèle IA":"Nouveau Modèle IA"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(Z,{children:i.jsxs(ee,{className:"p-4 space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Informations Générales"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"name",children:"Nom Technique"}),i.jsx(_e,{id:"name",value:s.name,onChange:u=>a(d=>({...d,name:u.target.value})),placeholder:"gpt-4o"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"displayName",children:"Nom d'Affichage"}),i.jsx(_e,{id:"displayName",value:s.displayName,onChange:u=>a(d=>({...d,displayName:u.target.value})),placeholder:"GPT-4o"})]})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"provider",children:"Fournisseur"}),i.jsxs(et,{value:s.provider,onValueChange:u=>a(d=>({...d,provider:u})),children:[i.jsx(Ze,{children:i.jsx(tt,{})}),i.jsx(Je,{children:vAe.map(u=>i.jsx(U,{value:u.value,children:u.label},u.value))})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{checked:s.isAvailable,onCheckedChange:u=>a(d=>({...d,isAvailable:u}))}),i.jsx(ne,{children:"Modèle disponible"})]})]})}),i.jsx(Z,{children:i.jsxs(ee,{className:"p-4 space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Configuration Technique"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"maxTokens",children:"Tokens Maximum par Réponse"}),i.jsx(_e,{id:"maxTokens",type:"number",min:"100",value:s.maxTokens,onChange:u=>a(d=>({...d,maxTokens:parseInt(u.target.value)||4096}))})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"contextWindow",children:"Fenêtre de Contexte"}),i.jsx(_e,{id:"contextWindow",type:"number",min:"1000",value:s.contextWindow,onChange:u=>a(d=>({...d,contextWindow:parseInt(u.target.value)||128e3}))})]})]})]})}),i.jsx(Z,{children:i.jsxs(ee,{className:"p-4 space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Tarification"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"inputPrice",children:"Prix Input ($/1k tokens)"}),i.jsx(_e,{id:"inputPrice",type:"number",step:"0.000001",min:"0",value:s.inputPricePer1kTokens,onChange:u=>a(d=>({...d,inputPricePer1kTokens:parseFloat(u.target.value)||0}))}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["$",l.toFixed(2)," per 1M tokens"]})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"outputPrice",children:"Prix Output ($/1k tokens)"}),i.jsx(_e,{id:"outputPrice",type:"number",step:"0.000001",min:"0",value:s.outputPricePer1kTokens,onChange:u=>a(d=>({...d,outputPricePer1kTokens:parseFloat(u.target.value)||0}))}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["$",c.toFixed(2)," per 1M tokens"]})]})]}),i.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-900",children:[i.jsx("strong",{children:"Exemple de coût:"})," Pour 1000 tokens input + 500 tokens output = $",(s.inputPricePer1kTokens*1+s.outputPricePer1kTokens*.5).toFixed(4)]})})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(F,{variant:"outline",onClick:r,children:"Annuler"}),i.jsx(F,{onClick:o,disabled:n,children:n?"Enregistrement...":"Enregistrer"})]})]})})}const UE=[{value:"free",label:"Gratuit",color:"bg-gray-500"},{value:"basic",label:"Basic",color:"bg-blue-500"},{value:"premium",label:"Premium",color:"bg-purple-500"},{value:"enterprise",label:"Enterprise",color:"bg-orange-500"}],yAe=["gpt-4o","gpt-4o-mini","gpt-4","claude-3-sonnet","claude-3-haiku"];function bAe({limit:e,onSave:t,onClose:r,isLoading:n}){var p,g;const[s,a]=j.useState({subscriptionTier:e.subscriptionTier||"free",monthlyTokenLimit:e.monthlyTokenLimit,dailyRequestLimit:e.dailyRequestLimit,maxTokensPerRequest:e.maxTokensPerRequest||1e3,allowedModels:e.allowedModels||[]}),[o,l]=j.useState(e.monthlyTokenLimit===null),[c,u]=j.useState(e.dailyRequestLimit===null),d=()=>{const m={...s,monthlyTokenLimit:o?null:s.monthlyTokenLimit,dailyRequestLimit:c?null:s.dailyRequestLimit};e.id&&(m.id=e.id),t(m)},f=m=>{a(v=>({...v,allowedModels:v.allowedModels.includes(m)?v.allowedModels.filter(x=>x!==m):[...v.allowedModels,m]}))},h=UE.find(m=>m.value===s.subscriptionTier);return i.jsx(mn,{open:!0,onOpenChange:r,children:i.jsxs(tn,{className:"max-w-2xl",children:[i.jsx(rn,{children:i.jsx(nn,{children:e.id?"Modifier les Limites d'Usage":"Nouvelles Limites d'Usage"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(Z,{children:i.jsxs(ee,{className:"p-4 space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Niveau d'Abonnement"}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"tier",children:"Niveau"}),i.jsxs(et,{value:s.subscriptionTier,onValueChange:m=>a(v=>({...v,subscriptionTier:m})),children:[i.jsx(Ze,{children:i.jsx(tt,{})}),i.jsx(Je,{children:UE.map(m=>i.jsx(U,{value:m.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${m.color}`}),m.label]})},m.value))})]})]})]})}),i.jsx(Z,{children:i.jsxs(ee,{className:"p-4 space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Limites d'Usage"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(ne,{htmlFor:"monthlyTokens",children:"Tokens Mensuels"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{checked:o,onCheckedChange:l}),i.jsx(ne,{className:"text-sm",children:"Illimité"})]})]}),i.jsx(_e,{id:"monthlyTokens",type:"number",min:"0",disabled:o,value:o?"":s.monthlyTokenLimit||"",onChange:m=>a(v=>({...v,monthlyTokenLimit:parseInt(m.target.value)||0})),placeholder:"Ex: 50000"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(ne,{htmlFor:"dailyRequests",children:"Requêtes Quotidiennes"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{checked:c,onCheckedChange:u}),i.jsx(ne,{className:"text-sm",children:"Illimité"})]})]}),i.jsx(_e,{id:"dailyRequests",type:"number",min:"0",disabled:c,value:c?"":s.dailyRequestLimit||"",onChange:m=>a(v=>({...v,dailyRequestLimit:parseInt(m.target.value)||0})),placeholder:"Ex: 100"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"maxTokensPerRequest",children:"Tokens Maximum par Requête"}),i.jsx(_e,{id:"maxTokensPerRequest",type:"number",min:"100",max:"8000",value:s.maxTokensPerRequest,onChange:m=>a(v=>({...v,maxTokensPerRequest:parseInt(m.target.value)||1e3}))})]})]})]})}),i.jsx(Z,{children:i.jsxs(ee,{className:"p-4 space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Modèles Autorisés"}),i.jsx("div",{className:"space-y-3",children:yAe.map(m=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:m}),i.jsx("p",{className:"text-sm text-muted-foreground",children:m.includes("gpt-4o")?"OpenAI GPT-4o":m.includes("gpt-4")?"OpenAI GPT-4":m.includes("claude")?"Anthropic Claude":"Modèle IA"})]}),i.jsx(Fi,{checked:s.allowedModels.includes(m),onCheckedChange:()=>f(m)})]},m))}),i.jsxs("div",{className:"mt-4",children:[i.jsx(ne,{className:"text-sm font-medium",children:"Modèles sélectionnés:"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.allowedModels.map(m=>i.jsxs(me,{variant:"secondary",className:"flex items-center gap-1",children:[m,i.jsx("button",{onClick:()=>f(m),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:i.jsx(ji,{className:"w-3 h-3"})})]},m))})]})]})}),i.jsx(Z,{children:i.jsxs(ee,{className:"p-4",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Résumé de la Configuration"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Niveau:"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${h==null?void 0:h.color}`}),h==null?void 0:h.label]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Tokens/mois:"}),i.jsx("p",{className:"mt-1",children:o?"Illimité":((p=s.monthlyTokenLimit)==null?void 0:p.toLocaleString())||"0"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Requêtes/jour:"}),i.jsx("p",{className:"mt-1",children:c?"Illimité":((g=s.dailyRequestLimit)==null?void 0:g.toLocaleString())||"0"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Modèles:"}),i.jsxs("p",{className:"mt-1",children:[s.allowedModels.length," autorisé(s)"]})]})]})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(F,{variant:"outline",onClick:r,children:"Annuler"}),i.jsx(F,{onClick:d,disabled:n,children:n?"Enregistrement...":"Enregistrer"})]})]})})}function jAe(){var C,k;const{toast:e}=Pt(),{isAuthenticated:t,isLoading:r,user:n}=Si(),[s,a]=j.useState("prompts"),[o,l]=j.useState(null),[c,u]=j.useState(null),[d,f]=j.useState(null);j.useEffect(()=>{if(!r&&t&&(n==null?void 0:n.role)!=="admin"&&(n==null?void 0:n.role)!=="superadmin"){e({title:"Access Denied",description:"You need administrator privileges to access this page.",variant:"destructive"}),window.location.href="/";return}},[t,r,n,e]);const{data:h,isLoading:p}=ze({queryKey:["/api/admin/ai/prompts"],enabled:t&&((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="superadmin")}),{data:g,isLoading:m}=ze({queryKey:["/api/admin/ai/models"],enabled:t&&((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="superadmin")}),{data:v,isLoading:x}=ze({queryKey:["/api/admin/ai/limits"],enabled:t&&((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="superadmin")}),{data:y}=ze({queryKey:["/api/admin/ai/stats"],enabled:t&&((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="superadmin")}),b=Qe({mutationFn:async P=>{const A=P.id?"PUT":"POST",O=P.id?`/api/admin/ai/prompts/${P.id}`:"/api/admin/ai/prompts";return await $e(A,O)},onSuccess:()=>{os.invalidateQueries({queryKey:["/api/admin/ai/prompts"]}),l(null),e({title:"Success",description:"Prompt template saved successfully"})},onError:P=>{if(Oo(P)){window.location.href="/api/login";return}e({title:"Error",description:"Failed to save prompt template",variant:"destructive"})}}),N=Qe({mutationFn:async P=>{const A=P.id?"PUT":"POST",O=P.id?`/api/admin/ai/models/${P.id}`:"/api/admin/ai/models";return await $e(A,O)},onSuccess:()=>{os.invalidateQueries({queryKey:["/api/admin/ai/models"]}),u(null),e({title:"Success",description:"AI model saved successfully"})},onError:P=>{if(Oo(P)){window.location.href="/api/login";return}e({title:"Error",description:"Failed to save AI model",variant:"destructive"})}}),w=Qe({mutationFn:async P=>{const A=P.id?"PUT":"POST",O=P.id?`/api/admin/ai/limits/${P.id}`:"/api/admin/ai/limits";return await $e(A,O)},onSuccess:()=>{os.invalidateQueries({queryKey:["/api/admin/ai/limits"]}),f(null),e({title:"Success",description:"Usage limit saved successfully"})},onError:P=>{if(Oo(P)){window.location.href="/api/login";return}e({title:"Error",description:"Failed to save usage limit",variant:"destructive"})}}),S=Qe({mutationFn:async P=>await $e("DELETE",`/api/admin/ai/prompts/${P}`),onSuccess:()=>{os.invalidateQueries({queryKey:["/api/admin/ai/prompts"]}),e({title:"Success",description:"Prompt template deleted successfully"})}});return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):!t||(n==null?void 0:n.role)!=="admin"&&(n==null?void 0:n.role)!=="superadmin"?null:i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(OS,{}),i.jsxs("div",{className:"flex pt-16",children:[i.jsx(MS,{}),i.jsxs("main",{className:"flex-1 min-w-0 p-4 md:p-6 md:ml-64",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:i.jsx(vs,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Configuration"}),i.jsx("p",{className:"text-gray-600",children:"Gérer les prompts IA, modèles et limites d'usage"})]})]}),y&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(Z,{children:i.jsx(ee,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(Wx,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Tokens Used"}),i.jsx("p",{className:"text-lg font-semibold",children:((C=y.totalTokensUsed)==null?void 0:C.toLocaleString())||0})]})]})})}),i.jsx(Z,{children:i.jsx(ee,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(yi,{className:"w-4 h-4 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Cost"}),i.jsxs("p",{className:"text-lg font-semibold",children:["$",((k=y.totalCost)==null?void 0:k.toFixed(2))||"0.00"]})]})]})})}),i.jsx(Z,{children:i.jsx(ee,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx(or,{className:"w-4 h-4 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Requests"}),i.jsx("p",{className:"text-lg font-semibold",children:y.monthlyRequests||0})]})]})})}),i.jsx(Z,{children:i.jsx(ee,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx(On,{className:"w-4 h-4 text-orange-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Active Templates"}),i.jsx("p",{className:"text-lg font-semibold",children:(h==null?void 0:h.filter(P=>P.isActive).length)||0})]})]})})})]})]}),i.jsxs(ip,{value:s,onValueChange:a,children:[i.jsxs(Vd,{className:"grid w-full grid-cols-3",children:[i.jsx(qr,{value:"prompts",children:"Fonctionnalités IA"}),i.jsx(qr,{value:"models",children:"Modèles IA"}),i.jsx(qr,{value:"limits",children:"Limites d'Usage"})]}),i.jsx(Wr,{value:"prompts",className:"space-y-6",children:i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(le,{children:"Fonctionnalités IA Configurables"}),i.jsxs(F,{onClick:()=>l({}),children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Nouvelle Fonctionnalité"]})]})}),i.jsx(ee,{children:i.jsx("div",{className:"space-y-4",children:p?i.jsx("div",{className:"text-center py-8",children:"Loading..."}):h==null?void 0:h.map(P=>i.jsx("div",{className:"border rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-medium",children:P.name}),i.jsx(me,{variant:P.isActive?"default":"secondary",children:P.isActive?"Actif":"Inactif"}),P.isDefault&&i.jsx(me,{variant:"outline",children:"Par défaut"})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Type: ",P.type]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Modèle: ",P.model]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Max Tokens: ",P.maxTokens," | Température: ",P.temperature,P.variables&&P.variables.length>0&&i.jsxs("span",{className:"ml-2",children:["| Variables: ",P.variables.length]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(F,{variant:"outline",size:"sm",onClick:()=>l(P),children:i.jsx(_a,{className:"w-3 h-3"})}),i.jsx(F,{variant:"outline",size:"sm",onClick:()=>S.mutate(P.id),children:i.jsx(Ki,{className:"w-3 h-3"})})]})]})},P.id))})})]})}),i.jsx(Wr,{value:"models",className:"space-y-6",children:i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(le,{children:"AI Models Configuration"}),i.jsxs(F,{onClick:()=>u({}),children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Add Model"]})]})}),i.jsx(ee,{children:i.jsx("div",{className:"space-y-4",children:m?i.jsx("div",{className:"text-center py-8",children:"Loading..."}):g==null?void 0:g.map(P=>i.jsx("div",{className:"border rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-medium",children:P.displayName}),i.jsx(me,{variant:P.isAvailable?"default":"secondary",children:P.isAvailable?"Disponible":"Désactivé"})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Provider: ",P.provider]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-500",children:[i.jsxs("div",{children:["Input: $",P.inputPricePer1kTokens,"/1k tokens"]}),i.jsxs("div",{children:["Output: $",P.outputPricePer1kTokens,"/1k tokens"]}),i.jsxs("div",{children:["Max Tokens: ",P.maxTokens]}),i.jsxs("div",{children:["Context Window: ",P.contextWindow]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(F,{variant:"outline",size:"sm",onClick:()=>u(P),children:i.jsx(_a,{className:"w-3 h-3"})})})]})},P.id))})})]})}),i.jsx(Wr,{value:"limits",className:"space-y-6",children:i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(le,{children:"Usage Limits by Subscription Tier"}),i.jsxs(F,{onClick:()=>f({}),children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Add Limit"]})]})}),i.jsx(ee,{children:i.jsx("div",{className:"space-y-4",children:x?i.jsx("div",{className:"text-center py-8",children:"Loading..."}):v==null?void 0:v.map(P=>{var A;return i.jsx("div",{className:"border rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"font-medium capitalize mb-2",children:[P.subscriptionTier," Tier"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Monthly Tokens"}),i.jsx("p",{children:((A=P.monthlyTokenLimit)==null?void 0:A.toLocaleString())||"Unlimited"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Daily Requests"}),i.jsx("p",{children:P.dailyRequestLimit||"Unlimited"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Max Tokens/Request"}),i.jsx("p",{children:P.maxTokensPerRequest})]})]}),P.allowedModels&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Allowed Models:"}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:P.allowedModels.map(O=>i.jsx(me,{variant:"outline",className:"text-xs",children:O},O))})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx(F,{variant:"outline",size:"sm",onClick:()=>f(P),children:i.jsx(_a,{className:"w-3 h-3"})})})]})},P.id)})})})]})})]}),o&&i.jsx(gAe,{template:o,onSave:b.mutate,onClose:()=>l(null),isLoading:b.isPending}),c&&i.jsx(xAe,{model:c,onSave:N.mutate,onClose:()=>u(null),isLoading:N.isPending}),d&&i.jsx(bAe,{limit:d,onSave:P=>w.mutate(P),onClose:()=>f(null),isLoading:w.isPending})]})]})]})}const wAe={Livre:Pr,Projet:Kl,Auteur:Ks,Système:On},VE={Livre:"bg-blue-50 border-blue-200",Projet:"bg-green-50 border-green-200",Auteur:"bg-purple-50 border-purple-200",Système:"bg-orange-50 border-orange-200"};function NAe(){const{isAuthenticated:e,isLoading:t,user:r}=Si(),{toast:n}=Pt(),[s,a]=j.useState(null);j.useEffect(()=>{if(!t&&!e){n({title:"Accès non autorisé",description:"Connexion requise pour accéder à cette page.",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[e,t,n]);const o=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="superadmin";j.useEffect(()=>{if(!t&&e&&!o){n({title:"Accès refusé",description:"Cette page est réservée aux administrateurs.",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},1e3);return}},[e,t,o,n]);const{data:l,isLoading:c}=ze({queryKey:["/api/ai/database-fields"],enabled:e&&o}),u=async d=>{try{await navigator.clipboard.writeText(`{${d}}`),a(d),n({title:"Variable copiée",description:`{${d}} a été copiée dans le presse-papiers`}),setTimeout(()=>a(null),2e3)}catch{n({title:"Erreur de copie",description:"Impossible de copier la variable",variant:"destructive"})}};return t||c?i.jsx("div",{className:"min-h-screen bg-background ml-64 mt-16",children:i.jsx("div",{className:"container mx-auto px-6 py-8",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Chargement des variables IA..."})]})})})}):!e||!o?null:i.jsx(ft,{children:i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Variables IA"}),i.jsx("p",{className:"text-gray-600",children:"Documentation complète des variables dynamiques disponibles pour vos prompts IA"})]}),i.jsxs(Z,{className:"mb-8 border-blue-200 bg-white",children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center gap-2 text-gray-900",children:[i.jsx(UL,{className:"w-5 h-5 text-[#38b6ff]"}),"Guide d'utilisation des variables"]})}),i.jsx(ee,{className:"space-y-4",children:i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Comment utiliser les variables dans vos prompts :"}),i.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("li",{children:["• Utilisez la syntaxe ",i.jsx("code",{className:"bg-blue-100 text-[#146eb4] px-1 rounded font-mono",children:"{nom_variable}"})," dans vos templates"]}),i.jsxs("li",{children:["• Exemple : ",i.jsxs("code",{className:"bg-blue-100 text-[#146eb4] px-1 rounded font-mono",children:['"Génère une description pour le livre ',"{title}"," en ","{language}",'"']})]}),i.jsx("li",{children:"• Les variables sont automatiquement remplacées par les vraies valeurs lors de la génération"}),i.jsx("li",{children:"• Cliquez sur une variable pour la copier dans le presse-papiers"})]})]})})]}),l&&Object.entries(l).map(([d,f])=>{const h=wAe[d]||On,p=VE[d]||VE.Système;return f.length===0?null:i.jsxs(Z,{className:`mb-6 ${p} bg-white`,children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center gap-2 text-gray-900",children:[i.jsx(h,{className:"w-5 h-5 text-[#38b6ff]"}),"Variables ",d,i.jsxs(me,{variant:"secondary",className:"ml-2 bg-gray-100 text-gray-700",children:[f.length," variable",f.length>1?"s":""]})]})}),i.jsx(ee,{children:i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:f.map(g=>i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("code",{className:"text-sm font-mono bg-gray-100 text-gray-800 px-2 py-1 rounded cursor-pointer hover:bg-blue-100 transition-colors",onClick:()=>u(g.field),children:["{",g.field,"}"]}),i.jsx(F,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 hover:bg-blue-50",onClick:()=>u(g.field),children:s===g.field?i.jsx(Lo,{className:"w-3 h-3 text-green-600"}):i.jsx(Pa,{className:"w-3 h-3 text-gray-600"})})]}),i.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-1",children:g.displayName}),i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:g.description})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(me,{variant:"outline",className:"text-xs border-gray-300 text-gray-700",children:g.type}),g.options&&i.jsxs(me,{variant:"secondary",className:"text-xs bg-[#38b6ff]/10 text-[#38b6ff] border-[#38b6ff]/20",children:[g.options.length," options"]})]}),g.options&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Options disponibles :"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.options.slice(0,3).map(m=>i.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-1 py-0.5 rounded",children:m},m)),g.options.length>3&&i.jsxs("span",{className:"text-xs text-gray-600",children:["+",g.options.length-3]})]})]})]},`${g.table}-${g.field}`))})})]},d)}),(!l||Object.keys(l).length===0)&&i.jsx(Z,{className:"bg-white",children:i.jsx(ee,{className:"py-8",children:i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx(On,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Aucune variable trouvée"}),i.jsx("p",{className:"text-sm",children:"Vérifiez la configuration de la base de données"})]})})})]})})}const SAe={content:Pr,marketing:FG,seo:On,profile:Ks};function CAe(){const{user:e,isAuthenticated:t}=Si(),{toast:r}=Pt(),[n,s]=j.useState(null),[a,o]=j.useState(""),[l,c]=j.useState(""),[u,d]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(""),[m,v]=j.useState(""),[x,y]=j.useState(!1),[b,N]=j.useState(!1),{data:w,isLoading:S}=ze({queryKey:["/api/ai/functions"],enabled:t}),{data:C}=ze({queryKey:["/api/ai/database-fields"],enabled:t}),{data:k}=ze({queryKey:["/api/books"],enabled:t}),{data:P}=ze({queryKey:["/api/projects"],enabled:t});j.useEffect(()=>{n&&(d(n.defaultUserPromptTemplate),h(n.defaultModel),g(n.temperature.toString()))},[n]);const A=E=>{navigator.clipboard.writeText(E),r({title:"Copied!",description:"Text has been copied to clipboard"})},O=async()=>{if(n){y(!0);try{const E=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({functionKey:n.key,bookId:n.requiresBookContext?a:void 0,projectId:n.requiresProjectContext?l:void 0,customPrompt:u!==n.defaultUserPromptTemplate?u:void 0,customModel:f!==n.defaultModel?f:void 0,customTemperature:parseFloat(p)!==n.temperature?parseFloat(p):void 0})});if(!E.ok)throw new Error("Error during generation");const I=await E.json();v(I.content),r({title:"Content Generated!",description:"AI content has been generated successfully"})}catch{r({title:"Error",description:"Unable to generate content",variant:"destructive"})}finally{y(!1)}}},M=()=>{if(!C||!n)return[];const E=[],I=C;return n.requiresBookContext&&E.push(...I.Livre||[]),n.requiresProjectContext&&E.push(...I.Projet||[]),E.push(...I.Auteur||[]),E.push(...I.Système||[]),E};if(!t)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs(Z,{className:"w-96",children:[i.jsx(oe,{children:i.jsx(le,{children:"Login Required"})}),i.jsxs(ee,{children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"You must be logged in to access AI functions."}),i.jsx(F,{onClick:()=>window.location.href="/api/login",children:"Sign In"})]})]})});if(S)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading AI functions..."})]})});const T=(w||[]).reduce((E,I)=>(E[I.category]||(E[I.category]=[]),E[I.category].push(I),E),{});return i.jsx(ft,{children:i.jsxs("div",{className:"container mx-auto px-6 py-8 pt-24",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"AI Functions"}),i.jsxs(mn,{open:b,onOpenChange:N,children:[i.jsx(nl,{asChild:!0,children:i.jsxs(F,{variant:"outline",size:"sm",className:"h-8 px-3",children:[i.jsx(zG,{className:"h-4 w-4 mr-2"}),"Configuration Guide"]})}),i.jsxs(tn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsxs(rn,{children:[i.jsx(nn,{className:"text-xl font-semibold",children:"AI Functions Configuration Guide"}),i.jsx(Vo,{children:"Complete guide to configure and use AI functions effectively"})]}),i.jsx("div",{className:"space-y-4 mt-4",children:i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"1. System Overview:"}),i.jsx("p",{className:"ml-4",children:"AI Functions use dynamic variables extracted from your database (books, projects, authors) to generate personalized content with configurable AI models and prompts."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"2. Configuration Process:"}),i.jsxs("div",{className:"ml-4 space-y-1",children:[i.jsxs("p",{children:["• ",i.jsx("strong",{children:"Variables:"})," View available variables at /admin/ai-variables",i.jsx("br",{}),"  (37 Book, 5 Project, 10 Author, 4 System variables)"]}),i.jsxs("p",{children:["• ",i.jsx("strong",{children:"Prompts:"})," Create templates at /admin/ai-config",i.jsx("br",{}),"  using ","{variable_name}"," format"]}),i.jsxs("p",{children:["• ",i.jsx("strong",{children:"Models:"})," Configure gpt-4o, gpt-4o-mini",i.jsx("br",{}),"  with pricing and limits"]}),i.jsxs("p",{children:["• ",i.jsx("strong",{children:"Usage Limits:"})," Set token quotas by subscription tier",i.jsx("br",{}),"  (Free: 1K, Basic: 10K, Premium: 100K tokens/month)"]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"3. Usage Workflow:"}),i.jsxs("p",{className:"ml-4",children:["• Select an AI function",i.jsx("br",{}),"• Choose a book/project for context",i.jsx("br",{}),"• Variables auto-populate",i.jsx("br",{}),"• Generate content with real data substitution"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"4. Variable Examples:"}),i.jsxs("p",{className:"ml-4",children:["• ","{title}"," - Book title",i.jsx("br",{}),"• ","{genre}"," - Book genre",i.jsx("br",{}),"• ","{author_name}"," - Author name",i.jsx("br",{}),"• ","{pages}"," - Page count",i.jsx("br",{}),"• ","{price}"," - Book price"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:"5. Best Practices:"}),i.jsxs("p",{className:"ml-4",children:["• Use gpt-4o-mini for simple tasks to save costs",i.jsx("br",{}),"• Combine multiple variables for richer context",i.jsx("br",{}),"• Test with real book data",i.jsx("br",{}),"• Monitor usage limits"]})]})]})})]})]})]}),i.jsx("p",{className:"text-muted-foreground",children:"Generate intelligent content for your publishing projects using configurable AI functions"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Available Functions"})}),i.jsx(ee,{className:"p-0",children:i.jsx("div",{className:"space-y-4 p-6",children:Object.entries(T).map(([E,I])=>{const L=SAe[E]||On;return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(L,{className:"w-4 h-4"}),i.jsx("h3",{className:"font-semibold capitalize",children:E})]}),i.jsx("div",{className:"space-y-2 ml-6",children:I.map(q=>i.jsx(F,{variant:(n==null?void 0:n.key)===q.key?"default":"ghost",className:"w-full justify-start text-left h-auto p-3",onClick:()=>s(q),children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:q.name}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:q.description}),i.jsx("div",{className:"flex gap-1 mt-2",children:q.availableForTiers.map(_=>i.jsx(me,{variant:"secondary",className:"text-xs",children:_},_))})]})},q.key))})]},E)})})})]})}),i.jsx("div",{className:"lg:col-span-2",children:n?i.jsxs(ip,{defaultValue:"configuration",className:"space-y-6",children:[i.jsxs(Vd,{className:"grid w-full grid-cols-3",children:[i.jsx(qr,{value:"configuration",children:"Configuration"}),i.jsx(qr,{value:"advanced",children:"Advanced Settings"}),i.jsx(qr,{value:"results",children:"Results"})]}),i.jsx(Wr,{value:"configuration",className:"space-y-6",children:i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:n.name}),i.jsx("p",{className:"text-muted-foreground",children:n.description})]}),i.jsxs(ee,{className:"space-y-6",children:[n.requiresBookContext&&i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"book-select",children:"Select a Book"}),i.jsxs(et,{value:a,onValueChange:o,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Choose a book..."})}),i.jsx(Je,{children:(k||[]).map(E=>i.jsx(U,{value:E.id,children:E.title},E.id))})]})]}),n.requiresProjectContext&&i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"project-select",children:"Select a Project"}),i.jsxs(et,{value:l,onValueChange:c,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Choose a project..."})}),i.jsx(Je,{children:(P||[]).map(E=>i.jsx(U,{value:E.id,children:E.name},E.id))})]})]}),i.jsxs("div",{children:[i.jsx(ne,{children:"Available Variables"}),i.jsx("div",{className:"border rounded-lg p-4 bg-muted/50 mt-2",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:M().map(E=>i.jsx(F,{variant:"outline",size:"sm",className:"h-auto p-2 text-left justify-start",onClick:()=>A(`{${E.field}}`),children:i.jsxs("div",{children:[i.jsx("code",{className:"text-xs font-mono",children:`{${E.field}}`}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:E.displayName})]})},`${E.table}-${E.field}`))})})]}),i.jsxs(F,{onClick:O,disabled:x||n.requiresBookContext&&!a||n.requiresProjectContext&&!l,className:"w-full",children:[i.jsx(jh,{className:"w-4 h-4 mr-2"}),x?"Generating...":"Generate Content"]})]})]})}),i.jsx(Wr,{value:"advanced",className:"space-y-6",children:i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Advanced Settings"})}),i.jsxs(ee,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"custom-prompt",children:"Custom Prompt"}),i.jsx(bs,{id:"custom-prompt",value:u,onChange:E=>d(E.target.value),rows:6,className:"mt-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"custom-model",children:"AI Model"}),i.jsx(_e,{id:"custom-model",value:f,onChange:E=>h(E.target.value),className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"custom-temperature",children:"Temperature"}),i.jsx(_e,{id:"custom-temperature",type:"number",min:"0",max:"2",step:"0.1",value:p,onChange:E=>g(E.target.value),className:"mt-2"})]})]})]})]})}),i.jsx(Wr,{value:"results",className:"space-y-6",children:i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(le,{children:"Generated Content"}),m&&i.jsxs(F,{variant:"outline",size:"sm",onClick:()=>A(m),children:[i.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Copy"]})]})}),i.jsx(ee,{children:m?i.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:i.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:m})}):i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(jh,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No content generated yet"}),i.jsx("p",{className:"text-sm",children:"Use the Configuration tab to generate content"})]})})]})})]}):i.jsx(Z,{children:i.jsxs(ee,{className:"text-center py-12",children:[i.jsx(On,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a Function"}),i.jsx("p",{className:"text-muted-foreground",children:"Choose an AI function from the left panel to get started"})]})})})]})]})})}var sp=e=>e.type==="checkbox",Cl=e=>e instanceof Date,Sn=e=>e==null;const VU=e=>typeof e=="object";var yr=e=>!Sn(e)&&!Array.isArray(e)&&VU(e)&&!Cl(e),PAe=e=>yr(e)&&e.target?sp(e.target)?e.target.checked:e.target.value:e,kAe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,_Ae=(e,t)=>e.has(kAe(t)),AAe=e=>{const t=e.constructor&&e.constructor.prototype;return yr(t)&&t.hasOwnProperty("isPrototypeOf")},JC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(JC&&(e instanceof Blob||n))&&(r||yr(e)))if(t=r?[]:{},!r&&!AAe(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=cn(e[s]));else return e;return t}var ib=e=>Array.isArray(e)?e.filter(Boolean):[],Sr=e=>e===void 0,De=(e,t,r)=>{if(!t||!yr(e))return r;const n=ib(t.split(/[,[\].]+?/)).reduce((s,a)=>Sn(s)?s:s[a],e);return Sr(n)||n===e?Sr(e[t])?r:e[t]:n},_s=e=>typeof e=="boolean",eP=e=>/^\w*$/.test(e),qU=e=>ib(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ft=(e,t,r)=>{let n=-1;const s=eP(t)?[t]:qU(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=yr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const qE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ua={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};R.createContext(null);var TAe=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==cs.all&&(t._proxyFormState[o]=!n||cs.all),e[o]}});return s},Rs=e=>typeof e=="string",EAe=(e,t,r,n,s)=>Rs(e)?(n&&t.watch.add(e),De(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),De(r,a))):(n&&(t.watchAll=!0),r),WU=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Jf=e=>Array.isArray(e)?e:[e],WE=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},LN=e=>Sn(e)||!VU(e);function lo(e,t){if(LN(e)||LN(t))return e===t;if(Cl(e)&&Cl(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const a=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Cl(a)&&Cl(o)||yr(a)&&yr(o)||Array.isArray(a)&&Array.isArray(o)?!lo(a,o):a!==o)return!1}}return!0}var wn=e=>yr(e)&&!Object.keys(e).length,tP=e=>e.type==="file",us=e=>typeof e=="function",sx=e=>{if(!JC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},HU=e=>e.type==="select-multiple",rP=e=>e.type==="radio",OAe=e=>rP(e)||sp(e),E0=e=>sx(e)&&e.isConnected;function MAe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Sr(e)?n++:e[t[n++]];return e}function IAe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Sr(e[t]))return!1;return!0}function Or(e,t){const r=Array.isArray(t)?t:eP(t)?[t]:qU(t),n=r.length===1?e:MAe(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(yr(n)&&wn(n)||Array.isArray(n)&&IAe(n))&&Or(e,r.slice(0,-1)),e}var KU=e=>{for(const t in e)if(us(e[t]))return!0;return!1};function ax(e,t={}){const r=Array.isArray(e);if(yr(e)||r)for(const n in e)Array.isArray(e[n])||yr(e[n])&&!KU(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ax(e[n],t[n])):Sn(e[n])||(t[n]=!0);return t}function GU(e,t,r){const n=Array.isArray(e);if(yr(e)||n)for(const s in e)Array.isArray(e[s])||yr(e[s])&&!KU(e[s])?Sr(t)||LN(r[s])?r[s]=Array.isArray(e[s])?ax(e[s],[]):{...ax(e[s])}:GU(e[s],Sn(t)?{}:t[s],r[s]):r[s]=!lo(e[s],t[s]);return r}var jf=(e,t)=>GU(e,t,ax(t));const HE={value:!1,isValid:!1},KE={value:!0,isValid:!0};var QU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Sr(e[0].attributes.value)?Sr(e[0].value)||e[0].value===""?KE:{value:e[0].value,isValid:!0}:KE:HE}return HE},YU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Sr(e)?e:t?e===""?NaN:e&&+e:r&&Rs(e)?new Date(e):n?n(e):e;const GE={isValid:!1,value:null};var XU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,GE):GE;function QE(e){const t=e.ref;return tP(t)?t.files:rP(t)?XU(e.refs).value:HU(t)?[...t.selectedOptions].map(({value:r})=>r):sp(t)?QU(e.refs).value:YU(Sr(t.value)?e.ref.value:t.value,e)}var DAe=(e,t,r,n)=>{const s={};for(const a of e){const o=De(t,a);o&&Ft(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ox=e=>e instanceof RegExp,wf=e=>Sr(e)?e:ox(e)?e.source:yr(e)?ox(e.value)?e.value.source:e.value:e,YE=e=>({isOnSubmit:!e||e===cs.onSubmit,isOnBlur:e===cs.onBlur,isOnChange:e===cs.onChange,isOnAll:e===cs.all,isOnTouch:e===cs.onTouched});const XE="AsyncFunction";var $Ae=e=>!!e&&!!e.validate&&!!(us(e.validate)&&e.validate.constructor.name===XE||yr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===XE)),RAe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ZE=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const eh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=De(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(eh(l,t))break}else if(yr(l)&&eh(l,t))break}}};function JE(e,t,r){const n=De(e,r);if(n||eP(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=De(t,a),l=De(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:r}}var LAe=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return wn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||cs.all))},FAe=(e,t,r)=>!e||!t||e===t||Jf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),BAe=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,zAe=(e,t)=>!ib(De(e,t)).length&&Or(e,t),UAe=(e,t,r)=>{const n=Jf(De(e,r));return Ft(n,"root",t[r]),Ft(e,r,n),e},xg=e=>Rs(e);function eO(e,t,r="validate"){if(xg(e)||Array.isArray(e)&&e.every(xg)||_s(e)&&!e)return{type:r,message:xg(e)?e:"",ref:t}}var Ic=e=>yr(e)&&!ox(e)?e:{value:e,message:""},tO=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:x}=e._f,y=De(r,m);if(!x||t.has(m))return{};const b=l?l[0]:o,N=M=>{s&&b.reportValidity&&(b.setCustomValidity(_s(M)?"":M||""),b.reportValidity())},w={},S=rP(o),C=sp(o),k=S||C,P=(v||tP(o))&&Sr(o.value)&&Sr(y)||sx(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,A=WU.bind(null,m,n,w),O=(M,T,E,I=ua.maxLength,L=ua.minLength)=>{const q=M?T:E;w[m]={type:M?I:L,message:q,ref:o,...A(M?I:L,q)}};if(a?!Array.isArray(y)||!y.length:c&&(!k&&(P||Sn(y))||_s(y)&&!y||C&&!QU(l).isValid||S&&!XU(l).isValid)){const{value:M,message:T}=xg(c)?{value:!!c,message:c}:Ic(c);if(M&&(w[m]={type:ua.required,message:T,ref:b,...A(ua.required,T)},!n))return N(T),w}if(!P&&(!Sn(f)||!Sn(h))){let M,T;const E=Ic(h),I=Ic(f);if(!Sn(y)&&!isNaN(y)){const L=o.valueAsNumber||y&&+y;Sn(E.value)||(M=L>E.value),Sn(I.value)||(T=L<I.value)}else{const L=o.valueAsDate||new Date(y),q=G=>new Date(new Date().toDateString()+" "+G),_=o.type=="time",$=o.type=="week";Rs(E.value)&&y&&(M=_?q(y)>q(E.value):$?y>E.value:L>new Date(E.value)),Rs(I.value)&&y&&(T=_?q(y)<q(I.value):$?y<I.value:L<new Date(I.value))}if((M||T)&&(O(!!M,E.message,I.message,ua.max,ua.min),!n))return N(w[m].message),w}if((u||d)&&!P&&(Rs(y)||a&&Array.isArray(y))){const M=Ic(u),T=Ic(d),E=!Sn(M.value)&&y.length>+M.value,I=!Sn(T.value)&&y.length<+T.value;if((E||I)&&(O(E,M.message,T.message),!n))return N(w[m].message),w}if(p&&!P&&Rs(y)){const{value:M,message:T}=Ic(p);if(ox(M)&&!y.match(M)&&(w[m]={type:ua.pattern,message:T,ref:o,...A(ua.pattern,T)},!n))return N(T),w}if(g){if(us(g)){const M=await g(y,r),T=eO(M,b);if(T&&(w[m]={...T,...A(ua.validate,T.message)},!n))return N(T.message),w}else if(yr(g)){let M={};for(const T in g){if(!wn(M)&&!n)break;const E=eO(await g[T](y,r),b,T);E&&(M={...E,...A(T,E.message)},N(E.message),n&&(w[m]=M))}if(!wn(M)&&(w[m]={ref:b,...M},!n))return w}}return N(!0),w};const VAe={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function qAe(e={}){let t={...VAe,...e},r={submitCount:0,isDirty:!1,isLoading:us(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=yr(t.defaultValues)||yr(t.values)?cn(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:cn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:WE(),state:WE()},p=YE(t.mode),g=YE(t.reValidateMode),m=t.criteriaMode===cs.all,v=z=>Q=>{clearTimeout(u),u=setTimeout(z,Q)},x=async z=>{if(!t.disabled&&(d.isValid||f.isValid||z)){const Q=t.resolver?wn((await P()).errors):await O(n,!0);Q!==r.isValid&&h.state.next({isValid:Q})}},y=(z,Q)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((z||Array.from(l.mount)).forEach(ie=>{ie&&(Q?Ft(r.validatingFields,ie,Q):Or(r.validatingFields,ie))}),h.state.next({validatingFields:r.validatingFields,isValidating:!wn(r.validatingFields)}))},b=(z,Q=[],ie,ke,Ne=!0,ge=!0)=>{if(ke&&ie&&!t.disabled){if(o.action=!0,ge&&Array.isArray(De(n,z))){const Ee=ie(De(n,z),ke.argA,ke.argB);Ne&&Ft(n,z,Ee)}if(ge&&Array.isArray(De(r.errors,z))){const Ee=ie(De(r.errors,z),ke.argA,ke.argB);Ne&&Ft(r.errors,z,Ee),zAe(r.errors,z)}if((d.touchedFields||f.touchedFields)&&ge&&Array.isArray(De(r.touchedFields,z))){const Ee=ie(De(r.touchedFields,z),ke.argA,ke.argB);Ne&&Ft(r.touchedFields,z,Ee)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=jf(s,a)),h.state.next({name:z,isDirty:T(z,Q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ft(a,z,Q)},N=(z,Q)=>{Ft(r.errors,z,Q),h.state.next({errors:r.errors})},w=z=>{r.errors=z,h.state.next({errors:r.errors,isValid:!1})},S=(z,Q,ie,ke)=>{const Ne=De(n,z);if(Ne){const ge=De(a,z,Sr(ie)?De(s,z):ie);Sr(ge)||ke&&ke.defaultChecked||Q?Ft(a,z,Q?ge:QE(Ne._f)):L(z,ge),o.mount&&x()}},C=(z,Q,ie,ke,Ne)=>{let ge=!1,Ee=!1;const pt={name:z};if(!t.disabled){if(!ie||ke){(d.isDirty||f.isDirty)&&(Ee=r.isDirty,r.isDirty=pt.isDirty=T(),ge=Ee!==pt.isDirty);const yt=lo(De(s,z),Q);Ee=!!De(r.dirtyFields,z),yt?Or(r.dirtyFields,z):Ft(r.dirtyFields,z,!0),pt.dirtyFields=r.dirtyFields,ge=ge||(d.dirtyFields||f.dirtyFields)&&Ee!==!yt}if(ie){const yt=De(r.touchedFields,z);yt||(Ft(r.touchedFields,z,ie),pt.touchedFields=r.touchedFields,ge=ge||(d.touchedFields||f.touchedFields)&&yt!==ie)}ge&&Ne&&h.state.next(pt)}return ge?pt:{}},k=(z,Q,ie,ke)=>{const Ne=De(r.errors,z),ge=(d.isValid||f.isValid)&&_s(Q)&&r.isValid!==Q;if(t.delayError&&ie?(c=v(()=>N(z,ie)),c(t.delayError)):(clearTimeout(u),c=null,ie?Ft(r.errors,z,ie):Or(r.errors,z)),(ie?!lo(Ne,ie):Ne)||!wn(ke)||ge){const Ee={...ke,...ge&&_s(Q)?{isValid:Q}:{},errors:r.errors,name:z};r={...r,...Ee},h.state.next(Ee)}},P=async z=>{y(z,!0);const Q=await t.resolver(a,t.context,DAe(z||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(z),Q},A=async z=>{const{errors:Q}=await P(z);if(z)for(const ie of z){const ke=De(Q,ie);ke?Ft(r.errors,ie,ke):Or(r.errors,ie)}else r.errors=Q;return Q},O=async(z,Q,ie={valid:!0})=>{for(const ke in z){const Ne=z[ke];if(Ne){const{_f:ge,...Ee}=Ne;if(ge){const pt=l.array.has(ge.name),yt=Ne._f&&$Ae(Ne._f);yt&&d.validatingFields&&y([ke],!0);const tr=await tO(Ne,l.disabled,a,m,t.shouldUseNativeValidation&&!Q,pt);if(yt&&d.validatingFields&&y([ke]),tr[ge.name]&&(ie.valid=!1,Q))break;!Q&&(De(tr,ge.name)?pt?UAe(r.errors,tr,ge.name):Ft(r.errors,ge.name,tr[ge.name]):Or(r.errors,ge.name))}!wn(Ee)&&await O(Ee,Q,ie)}}return ie.valid},M=()=>{for(const z of l.unMount){const Q=De(n,z);Q&&(Q._f.refs?Q._f.refs.every(ie=>!E0(ie)):!E0(Q._f.ref))&&X(z)}l.unMount=new Set},T=(z,Q)=>!t.disabled&&(z&&Q&&Ft(a,z,Q),!lo(B(),s)),E=(z,Q,ie)=>EAe(z,l,{...o.mount?a:Sr(Q)?s:Rs(z)?{[z]:Q}:Q},ie,Q),I=z=>ib(De(o.mount?a:s,z,t.shouldUnregister?De(s,z,[]):[])),L=(z,Q,ie={})=>{const ke=De(n,z);let Ne=Q;if(ke){const ge=ke._f;ge&&(!ge.disabled&&Ft(a,z,YU(Q,ge)),Ne=sx(ge.ref)&&Sn(Q)?"":Q,HU(ge.ref)?[...ge.ref.options].forEach(Ee=>Ee.selected=Ne.includes(Ee.value)):ge.refs?sp(ge.ref)?ge.refs.length>1?ge.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(Ne)?!!Ne.find(pt=>pt===Ee.value):Ne===Ee.value)):ge.refs[0]&&(ge.refs[0].checked=!!Ne):ge.refs.forEach(Ee=>Ee.checked=Ee.value===Ne):tP(ge.ref)?ge.ref.value="":(ge.ref.value=Ne,ge.ref.type||h.state.next({name:z,values:cn(a)})))}(ie.shouldDirty||ie.shouldTouch)&&C(z,Ne,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&re(z)},q=(z,Q,ie)=>{for(const ke in Q){const Ne=Q[ke],ge=`${z}.${ke}`,Ee=De(n,ge);(l.array.has(z)||yr(Ne)||Ee&&!Ee._f)&&!Cl(Ne)?q(ge,Ne,ie):L(ge,Ne,ie)}},_=(z,Q,ie={})=>{const ke=De(n,z),Ne=l.array.has(z),ge=cn(Q);Ft(a,z,ge),Ne?(h.array.next({name:z,values:cn(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&ie.shouldDirty&&h.state.next({name:z,dirtyFields:jf(s,a),isDirty:T(z,ge)})):ke&&!ke._f&&!Sn(ge)?q(z,ge,ie):L(z,ge,ie),ZE(z,l)&&h.state.next({...r}),h.state.next({name:o.mount?z:void 0,values:cn(a)})},$=async z=>{o.mount=!0;const Q=z.target;let ie=Q.name,ke=!0;const Ne=De(n,ie),ge=Ee=>{ke=Number.isNaN(Ee)||Cl(Ee)&&isNaN(Ee.getTime())||lo(Ee,De(a,ie,Ee))};if(Ne){let Ee,pt;const yt=Q.type?QE(Ne._f):PAe(z),tr=z.type===qE.BLUR||z.type===qE.FOCUS_OUT,fr=!RAe(Ne._f)&&!t.resolver&&!De(r.errors,ie)&&!Ne._f.deps||BAe(tr,De(r.touchedFields,ie),r.isSubmitted,g,p),Ln=ZE(ie,l,tr);Ft(a,ie,yt),tr?(Ne._f.onBlur&&Ne._f.onBlur(z),c&&c(0)):Ne._f.onChange&&Ne._f.onChange(z);const Yi=C(ie,yt,tr),Yd=!wn(Yi)||Ln;if(!tr&&h.state.next({name:ie,type:z.type,values:cn(a)}),fr)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?tr&&x():tr||x()),Yd&&h.state.next({name:ie,...Ln?{}:Yi});if(!tr&&Ln&&h.state.next({...r}),t.resolver){const{errors:lp}=await P([ie]);if(ge(yt),ke){const lb=JE(r.errors,n,ie),cb=JE(lp,n,lb.name||ie);Ee=cb.error,ie=cb.name,pt=wn(lp)}}else y([ie],!0),Ee=(await tO(Ne,l.disabled,a,m,t.shouldUseNativeValidation))[ie],y([ie]),ge(yt),ke&&(Ee?pt=!1:(d.isValid||f.isValid)&&(pt=await O(n,!0)));ke&&(Ne._f.deps&&re(Ne._f.deps),k(ie,pt,Ee,Yi))}},G=(z,Q)=>{if(De(r.errors,Q)&&z.focus)return z.focus(),1},re=async(z,Q={})=>{let ie,ke;const Ne=Jf(z);if(t.resolver){const ge=await A(Sr(z)?z:Ne);ie=wn(ge),ke=z?!Ne.some(Ee=>De(ge,Ee)):ie}else z?(ke=(await Promise.all(Ne.map(async ge=>{const Ee=De(n,ge);return await O(Ee&&Ee._f?{[ge]:Ee}:Ee)}))).every(Boolean),!(!ke&&!r.isValid)&&x()):ke=ie=await O(n);return h.state.next({...!Rs(z)||(d.isValid||f.isValid)&&ie!==r.isValid?{}:{name:z},...t.resolver||!z?{isValid:ie}:{},errors:r.errors}),Q.shouldFocus&&!ke&&eh(n,G,z?Ne:l.mount),ke},B=z=>{const Q={...o.mount?a:s};return Sr(z)?Q:Rs(z)?De(Q,z):z.map(ie=>De(Q,ie))},ae=(z,Q)=>({invalid:!!De((Q||r).errors,z),isDirty:!!De((Q||r).dirtyFields,z),error:De((Q||r).errors,z),isValidating:!!De(r.validatingFields,z),isTouched:!!De((Q||r).touchedFields,z)}),Se=z=>{z&&Jf(z).forEach(Q=>Or(r.errors,Q)),h.state.next({errors:z?r.errors:{}})},Ce=(z,Q,ie)=>{const ke=(De(n,z,{_f:{}})._f||{}).ref,Ne=De(r.errors,z)||{},{ref:ge,message:Ee,type:pt,...yt}=Ne;Ft(r.errors,z,{...yt,...Q,ref:ke}),h.state.next({name:z,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&ke&&ke.focus&&ke.focus()},Fe=(z,Q)=>us(z)?h.state.subscribe({next:ie=>z(E(void 0,Q),ie)}):E(z,Q,!0),ye=z=>h.state.subscribe({next:Q=>{FAe(z.name,Q.name,z.exact)&&LAe(Q,z.formState||d,Ar,z.reRenderRoot)&&z.callback({values:{...a},...r,...Q})}}).unsubscribe,K=z=>(o.mount=!0,f={...f,...z.formState},ye({...z,formState:f})),X=(z,Q={})=>{for(const ie of z?Jf(z):l.mount)l.mount.delete(ie),l.array.delete(ie),Q.keepValue||(Or(n,ie),Or(a,ie)),!Q.keepError&&Or(r.errors,ie),!Q.keepDirty&&Or(r.dirtyFields,ie),!Q.keepTouched&&Or(r.touchedFields,ie),!Q.keepIsValidating&&Or(r.validatingFields,ie),!t.shouldUnregister&&!Q.keepDefaultValue&&Or(s,ie);h.state.next({values:cn(a)}),h.state.next({...r,...Q.keepDirty?{isDirty:T()}:{}}),!Q.keepIsValid&&x()},ue=({disabled:z,name:Q})=>{(_s(z)&&o.mount||z||l.disabled.has(Q))&&(z?l.disabled.add(Q):l.disabled.delete(Q))},fe=(z,Q={})=>{let ie=De(n,z);const ke=_s(Q.disabled)||_s(t.disabled);return Ft(n,z,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:z}},name:z,mount:!0,...Q}}),l.mount.add(z),ie?ue({disabled:_s(Q.disabled)?Q.disabled:t.disabled,name:z}):S(z,!0,Q.value),{...ke?{disabled:Q.disabled||t.disabled}:{},...t.progressive?{required:!!Q.required,min:wf(Q.min),max:wf(Q.max),minLength:wf(Q.minLength),maxLength:wf(Q.maxLength),pattern:wf(Q.pattern)}:{},name:z,onChange:$,onBlur:$,ref:Ne=>{if(Ne){fe(z,Q),ie=De(n,z);const ge=Sr(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,Ee=OAe(ge),pt=ie._f.refs||[];if(Ee?pt.find(yt=>yt===ge):ge===ie._f.ref)return;Ft(n,z,{_f:{...ie._f,...Ee?{refs:[...pt.filter(E0),ge,...Array.isArray(De(s,z))?[{}]:[]],ref:{type:ge.type,name:z}}:{ref:ge}}}),S(z,!1,void 0,ge)}else ie=De(n,z,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||Q.shouldUnregister)&&!(_Ae(l.array,z)&&o.action)&&l.unMount.add(z)}}},Y=()=>t.shouldFocusError&&eh(n,G,l.mount),Ye=z=>{_s(z)&&(h.state.next({disabled:z}),eh(n,(Q,ie)=>{const ke=De(n,ie);ke&&(Q.disabled=ke._f.disabled||z,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(Ne=>{Ne.disabled=ke._f.disabled||z}))},0,!1))},Be=(z,Q)=>async ie=>{let ke;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let Ne=cn(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:Ee}=await P();r.errors=ge,Ne=Ee}else await O(n);if(l.disabled.size)for(const ge of l.disabled)Ft(Ne,ge,void 0);if(Or(r.errors,"root"),wn(r.errors)){h.state.next({errors:{}});try{await z(Ne,ie)}catch(ge){ke=ge}}else Q&&await Q({...r.errors},ie),Y(),setTimeout(Y);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wn(r.errors)&&!ke,submitCount:r.submitCount+1,errors:r.errors}),ke)throw ke},Tt=(z,Q={})=>{De(n,z)&&(Sr(Q.defaultValue)?_(z,cn(De(s,z))):(_(z,Q.defaultValue),Ft(s,z,cn(Q.defaultValue))),Q.keepTouched||Or(r.touchedFields,z),Q.keepDirty||(Or(r.dirtyFields,z),r.isDirty=Q.defaultValue?T(z,cn(De(s,z))):T()),Q.keepError||(Or(r.errors,z),d.isValid&&x()),h.state.next({...r}))},At=(z,Q={})=>{const ie=z?cn(z):s,ke=cn(ie),Ne=wn(z),ge=Ne?s:ke;if(Q.keepDefaultValues||(s=ie),!Q.keepValues){if(Q.keepDirtyValues){const Ee=new Set([...l.mount,...Object.keys(jf(s,a))]);for(const pt of Array.from(Ee))De(r.dirtyFields,pt)?Ft(ge,pt,De(a,pt)):_(pt,De(ge,pt))}else{if(JC&&Sr(z))for(const Ee of l.mount){const pt=De(n,Ee);if(pt&&pt._f){const yt=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(sx(yt)){const tr=yt.closest("form");if(tr){tr.reset();break}}}}for(const Ee of l.mount)_(Ee,De(ge,Ee))}a=cn(ge),h.array.next({values:{...ge}}),h.state.next({values:{...ge}})}l={mount:Q.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Q.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:Q.keepDirty?r.isDirty:!!(Q.keepDefaultValues&&!lo(z,s)),isSubmitted:Q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:Q.keepDirtyValues?Q.keepDefaultValues&&a?jf(s,a):r.dirtyFields:Q.keepDefaultValues&&z?jf(s,z):Q.keepDirty?r.dirtyFields:{},touchedFields:Q.keepTouched?r.touchedFields:{},errors:Q.keepErrors?r.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Qt=(z,Q)=>At(us(z)?z(a):z,Q),Yr=(z,Q={})=>{const ie=De(n,z),ke=ie&&ie._f;if(ke){const Ne=ke.refs?ke.refs[0]:ke.ref;Ne.focus&&(Ne.focus(),Q.shouldSelect&&us(Ne.select)&&Ne.select())}},Ar=z=>{r={...r,...z}},Xr={control:{register:fe,unregister:X,getFieldState:ae,handleSubmit:Be,setError:Ce,_subscribe:ye,_runSchema:P,_getWatch:E,_getDirty:T,_setValid:x,_setFieldArray:b,_setDisabledField:ue,_setErrors:w,_getFieldArray:I,_reset:At,_resetDefaultValues:()=>us(t.defaultValues)&&t.defaultValues().then(z=>{Qt(z,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Ye,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(z){o=z},get _defaultValues(){return s},get _names(){return l},set _names(z){l=z},get _formState(){return r},get _options(){return t},set _options(z){t={...t,...z}}},subscribe:K,trigger:re,register:fe,handleSubmit:Be,watch:Fe,setValue:_,getValues:B,reset:Qt,resetField:Tt,clearErrors:Se,unregister:X,setError:Ce,setFocus:Yr,getFieldState:ae};return{...Xr,formControl:Xr}}function Kd(e={}){const t=R.useRef(void 0),r=R.useRef(void 0),[n,s]=R.useState({isDirty:!1,isValidating:!1,isLoading:us(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:us(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:qAe(e),formState:n},e.formControl&&e.defaultValues&&!us(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,R.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),R.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),R.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),R.useEffect(()=>{e.values&&!lo(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),R.useEffect(()=>{e.errors&&!wn(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),R.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),R.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=TAe(n,a),t.current}const rO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=De(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ZU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?rO(n.ref,r,e):n.refs&&n.refs.forEach(s=>rO(s,r,e))}},WAe=(e,t)=>{t.shouldUseNativeValidation&&ZU(e,t);const r={};for(const n in e){const s=De(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(HAe(t.names||Object.keys(e),n)){const o=Object.assign({},De(r,n));Ft(o,"root",a),Ft(r,n,o)}else Ft(r,n,a)}return r},HAe=(e,t)=>e.some(r=>r.startsWith(t+"."));var KAe=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=WU(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},nP=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&ZU({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:WAe(KAe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const ce=Symbol.for("drizzle:entityKind");function Nr(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ce))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(ce in r&&r[ce]===t[ce])return!0;r=Object.getPrototypeOf(r)}return!1}var EO;EO=ce;class pd{constructor(t,r){W(this,"name");W(this,"keyAsName");W(this,"primary");W(this,"notNull");W(this,"default");W(this,"defaultFn");W(this,"onUpdateFn");W(this,"hasDefault");W(this,"isUnique");W(this,"uniqueName");W(this,"uniqueType");W(this,"dataType");W(this,"columnType");W(this,"enumValues");W(this,"generated");W(this,"generatedIdentity");W(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}W(pd,EO,"Column");var OO;OO=ce;class JU{constructor(t,r,n){W(this,"config");W(this,"$default",this.$defaultFn);W(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}W(JU,OO,"ColumnBuilder");const pu=Symbol.for("drizzle:Name");var MO;MO=ce;class eV{constructor(t,r){W(this,"reference");W(this,"_onUpdate","no action");W(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:s,foreignColumns:a}=t();return{name:n,columns:s,foreignTable:a[0].table,foreignColumns:a}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new tV(t,this)}}W(eV,MO,"PgForeignKeyBuilder");var IO;IO=ce;class tV{constructor(t,r){W(this,"reference");W(this,"onUpdate");W(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),s=r.map(l=>l.name),a=n.map(l=>l.name),o=[this.table[pu],...s,n[0].table[pu],...a];return t??`${o.join("_")}_fk`}}W(tV,IO,"PgForeignKey");function GAe(e,...t){return e(...t)}function rV(e){return new sV(e)}function nV(e,t){return`${e[pu]}_${t.join("_")}_unique`}var DO;DO=ce;class iV{constructor(t,r){W(this,"columns");W(this,"nullsNotDistinctConfig",!1);this.name=r,this.columns=t}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(t){return new aV(t,this.columns,this.nullsNotDistinctConfig,this.name)}}W(iV,DO,"PgUniqueConstraintBuilder");var $O;$O=ce;class sV{constructor(t){W(this,"name");this.name=t}on(...t){return new iV(t,this.name)}}W(sV,$O,"PgUniqueOnConstraintBuilder");var RO;RO=ce;class aV{constructor(t,r,n,s){W(this,"columns");W(this,"name");W(this,"nullsNotDistinct",!1);this.table=t,this.columns=r,this.name=s??nV(this.table,this.columns.map(a=>a.name)),this.nullsNotDistinct=n}getName(){return this.name}}W(aV,RO,"PgUniqueConstraint");function nO(e,t,r){for(let n=t;n<e.length;n++){const s=e[n];if(s==="\\"){n++;continue}if(s==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(s===","||s==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function oV(e,t=0){const r=[];let n=t,s=!1;for(;n<e.length;){const a=e[n];if(a===","){(s||n===t)&&r.push(""),s=!0,n++;continue}if(s=!1,a==="\\"){n+=2;continue}if(a==='"'){const[c,u]=nO(e,n+1,!0);r.push(c),n=u;continue}if(a==="}")return[r,n+1];if(a==="{"){const[c,u]=oV(e,n+1);r.push(c),n=u;continue}const[o,l]=nO(e,n,!1);r.push(o),n=l}return[r,n]}function QAe(e){const[t]=oV(e,1);return t}function lV(e){return`{${e.map(t=>Array.isArray(t)?lV(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var LO,FO;class xt extends(FO=JU,LO=ce,FO){constructor(){super(...arguments);W(this,"foreignKeyConfigs",[])}array(r){return new uV(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>GAe((o,l)=>{const c=new eV(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},s,a))}buildExtraConfigColumn(r){return new cV(r,this.config)}}W(xt,LO,"PgColumnBuilder");var BO,zO;class nt extends(zO=pd,BO=ce,zO){constructor(t,r){r.uniqueName||(r.uniqueName=nV(t,[r.name])),super(t,r),this.table=t}}W(nt,BO,"PgColumn");var UO,VO;class cV extends(VO=nt,UO=ce,VO){constructor(){super(...arguments);W(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});W(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}W(cV,UO,"ExtraConfigColumn");var qO;qO=ce;class yg{constructor(t,r,n,s){W(this,"name");W(this,"keyAsName");W(this,"type");W(this,"indexConfig");this.name=t,this.keyAsName=r,this.type=n,this.indexConfig=s}}W(yg,qO,"IndexedColumn");var WO,HO;class uV extends(HO=xt,WO=ce,HO){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new FN(t,this.config,r)}}W(uV,WO,"PgArrayBuilder");var KO,GO;const yx=class yx extends(GO=nt,KO=ce,GO){constructor(r,n,s,a){super(r,n);W(this,"size");this.baseColumn=s,this.range=a,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=QAe(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const s=r.map(a=>a===null?null:Nr(this.baseColumn,yx)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?s:lV(s)}};W(yx,KO,"PgArray");let FN=yx;const BN=Symbol.for("drizzle:isPgEnum");function YAe(e){return!!e&&typeof e=="function"&&BN in e&&e[BN]===!0}var QO,YO;class dV extends(YO=xt,QO=ce,YO){constructor(t,r){super(t,"string","PgEnumColumn"),this.config.enum=r}build(t){return new fV(t,this.config)}}W(dV,QO,"PgEnumColumnBuilder");var XO,ZO;class fV extends(ZO=nt,XO=ce,ZO){constructor(r,n){super(r,n);W(this,"enum",this.config.enum);W(this,"enumValues",this.config.enum.enumValues);this.enum=n.enum}getSQLType(){return this.enum.enumName}}W(fV,XO,"PgEnumColumn");function Gd(e,t){return XAe(e,t,void 0)}function XAe(e,t,r){const n=Object.assign(s=>new dV(s??"",n),{enumName:e,enumValues:t,schema:r,[BN]:!0});return n}var JO;JO=ce;class iP{constructor(t,r,n,s=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:s}}}W(iP,JO,"Subquery");const ZAe={startActiveSpan(e,t){return t()}},gu=Symbol.for("drizzle:ViewBaseConfig"),O0=Symbol.for("drizzle:Schema"),iO=Symbol.for("drizzle:Columns"),sO=Symbol.for("drizzle:ExtraConfigColumns"),M0=Symbol.for("drizzle:OriginalName"),I0=Symbol.for("drizzle:BaseName"),lx=Symbol.for("drizzle:IsAlias"),aO=Symbol.for("drizzle:ExtraConfigBuilder"),hV=Symbol.for("drizzle:IsDrizzleTable");var eM,tM,rM,nM,iM,sM,aM,oM,lM,cM;cM=ce,lM=pu,oM=M0,aM=O0,sM=iO,iM=sO,nM=I0,rM=lx,tM=hV,eM=aO;class Cn{constructor(t,r,n){W(this,lM);W(this,oM);W(this,aM);W(this,sM);W(this,iM);W(this,nM);W(this,rM,!1);W(this,tM,!0);W(this,eM);this[pu]=this[M0]=t,this[O0]=r,this[I0]=n}}W(Cn,cM,"Table"),W(Cn,"Symbol",{Name:pu,Schema:O0,OriginalName:M0,Columns:iO,ExtraConfigColumns:sO,BaseName:I0,IsAlias:lx,ExtraConfigBuilder:aO});function mV(e){return typeof e=="object"&&e!==null&&hV in e}function JAe(e){return e!=null&&typeof e.getSQL=="function"}function e2e(e){var r;const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),(r=n.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}var uM;uM=ce;class Ei{constructor(t){W(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new gr([this])}}W(Ei,uM,"StringChunk");var dM;dM=ce;const gl=class gl{constructor(t){W(this,"decoder",pV);W(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return ZAe.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;return e2e(t.map(d=>{var f;if(Nr(d,Ei))return{sql:d.value.join(""),params:[]};if(Nr(d,cx))return{sql:a(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Ei("(")];for(const[p,g]of d.entries())h.push(g),p<d.length-1&&h.push(new Ei(", "));return h.push(new Ei(")")),this.buildQueryFromSourceParams(h,n)}if(Nr(d,gl))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:c||d.shouldInlineParams});if(Nr(d,Cn)){const h=d[Cn.Symbol.Schema],p=d[Cn.Symbol.Name];return{sql:h===void 0||d[lx]?a(p):a(h)+"."+a(p),params:[]}}if(Nr(d,pd)){const h=s.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:a(h),params:[]};const p=d.table[Cn.Symbol.Schema];return{sql:d.table[lx]||p===void 0?a(d.table[Cn.Symbol.Name])+"."+a(h):a(p)+"."+a(d.table[Cn.Symbol.Name])+"."+a(h),params:[]}}if(Nr(d,xV)){const h=d[gu].schema,p=d[gu].name;return{sql:h===void 0||d[gu].isAlias?a(p):a(h)+"."+a(p),params:[]}}if(Nr(d,sP)){if(Nr(d.value,ux))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Nr(h,gl))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let p=["none"];return l&&(p=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:p}}return Nr(d,ux)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Nr(d,gl.Aliased)&&d.fieldAlias!==void 0?{sql:a(d.fieldAlias),params:[]}:Nr(d,iP)?d._.isWith?{sql:a(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Ei("("),d._.sql,new Ei(") "),new cx(d._.alias)],n):YAe(d)?d.schema?{sql:a(d.schema)+"."+a(d.enumName),params:[]}:{sql:a(d.enumName),params:[]}:JAe(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Ei("("),d.getSQL(),new Ei(")")],n):c?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new gl.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};W(gl,dM,"SQL");let gr=gl;var fM;fM=ce;class cx{constructor(t){W(this,"brand");this.value=t}getSQL(){return new gr([this])}}W(cx,fM,"Name");const pV={mapFromDriverValue:e=>e},gV={mapToDriverValue:e=>e};({...pV,...gV});var hM;hM=ce;class sP{constructor(t,r=gV){W(this,"brand");this.value=t,this.encoder=r}getSQL(){return new gr([this])}}W(sP,hM,"Param");function It(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new Ei(e[0]));for(const[n,s]of t.entries())r.push(s,new Ei(e[n+1]));return new gr(r)}(e=>{function t(){return new gr([])}e.empty=t;function r(c){return new gr(c)}e.fromList=r;function n(c){return new gr([new Ei(c)])}e.raw=n;function s(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new gr(d)}e.join=s;function a(c){return new cx(c)}e.identifier=a;function o(c){return new ux(c)}e.placeholder=o;function l(c,u){return new sP(c,u)}e.param=l})(It||(It={}));(e=>{var r;r=ce;const n=class n{constructor(a,o){W(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};W(n,r,"SQL.Aliased");let t=n;e.Aliased=t})(gr||(gr={}));var mM;mM=ce;class ux{constructor(t){this.name=t}getSQL(){return new gr([this])}}W(ux,mM,"Placeholder");const vV=Symbol.for("drizzle:IsDrizzleView");var pM,gM,vM;vM=ce,gM=gu,pM=vV;class xV{constructor({name:t,schema:r,selectedFields:n,query:s}){W(this,gM);W(this,pM,!0);this[gu]={name:t,originalName:t,schema:r,selectedFields:n,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new gr([this])}}W(xV,vM,"View");function t2e(e){return typeof e=="object"&&e!==null&&vV in e}pd.prototype.getSQL=function(){return new gr([this])};Cn.prototype.getSQL=function(){return new gr([this])};iP.prototype.getSQL=function(){return new gr([this])};function r2e(e){return e[Cn.Symbol.Columns]}function n2e(e){return e[gu].selectedFields}function Qr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var xM,yM;class ap extends(yM=xt,xM=ce,yM){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}W(ap,xM,"PgIntColumnBaseBuilder");var bM,jM;class yV extends(jM=ap,bM=ce,jM){constructor(t){super(t,"number","PgBigInt53")}build(t){return new bV(t,this.config)}}W(yV,bM,"PgBigInt53Builder");var wM,NM;class bV extends(NM=nt,wM=ce,NM){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}W(bV,wM,"PgBigInt53");var SM,CM;class jV extends(CM=ap,SM=ce,CM){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new wV(t,this.config)}}W(jV,SM,"PgBigInt64Builder");var PM,kM;class wV extends(kM=nt,PM=ce,kM){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}W(wV,PM,"PgBigInt64");function i2e(e,t){const{name:r,config:n}=Qr(e,t);return n.mode==="number"?new yV(r):new jV(r)}var _M,AM;class NV extends(AM=xt,_M=ce,AM){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new SV(t,this.config)}}W(NV,_M,"PgBigSerial53Builder");var TM,EM;class SV extends(EM=nt,TM=ce,EM){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}W(SV,TM,"PgBigSerial53");var OM,MM;class CV extends(MM=xt,OM=ce,MM){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new PV(t,this.config)}}W(CV,OM,"PgBigSerial64Builder");var IM,DM;class PV extends(DM=nt,IM=ce,DM){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}W(PV,IM,"PgBigSerial64");function s2e(e,t){const{name:r,config:n}=Qr(e,t);return n.mode==="number"?new NV(r):new CV(r)}var $M,RM;class kV extends(RM=xt,$M=ce,RM){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new _V(t,this.config)}}W(kV,$M,"PgBooleanBuilder");var LM,FM;class _V extends(FM=nt,LM=ce,FM){getSQLType(){return"boolean"}}W(_V,LM,"PgBoolean");function Ot(e){return new kV(e??"")}var BM,zM;class AV extends(zM=xt,BM=ce,zM){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new TV(t,this.config)}}W(AV,BM,"PgCharBuilder");var UM,VM;class TV extends(VM=nt,UM=ce,VM){constructor(){super(...arguments);W(this,"length",this.config.length);W(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}W(TV,UM,"PgChar");function a2e(e,t={}){const{name:r,config:n}=Qr(e,t);return new AV(r,n)}var qM,WM;class EV extends(WM=xt,qM=ce,WM){constructor(t){super(t,"string","PgCidr")}build(t){return new OV(t,this.config)}}W(EV,qM,"PgCidrBuilder");var HM,KM;class OV extends(KM=nt,HM=ce,KM){getSQLType(){return"cidr"}}W(OV,HM,"PgCidr");function o2e(e){return new EV(e??"")}var GM,QM;class MV extends(QM=xt,GM=ce,QM){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new IV(t,this.config)}}W(MV,GM,"PgCustomColumnBuilder");var YM,XM;class IV extends(XM=nt,YM=ce,XM){constructor(r,n){super(r,n);W(this,"sqlName");W(this,"mapTo");W(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}W(IV,YM,"PgCustomColumn");function l2e(e){return(t,r)=>{const{name:n,config:s}=Qr(t,r);return new MV(n,s,e)}}var ZM,JM;class Qd extends(JM=xt,ZM=ce,JM){defaultNow(){return this.default(It`now()`)}}W(Qd,ZM,"PgDateColumnBaseBuilder");var eI,tI;class DV extends(tI=Qd,eI=ce,tI){constructor(t){super(t,"date","PgDate")}build(t){return new $V(t,this.config)}}W(DV,eI,"PgDateBuilder");var rI,nI;class $V extends(nI=nt,rI=ce,nI){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}W($V,rI,"PgDate");var iI,sI;class RV extends(sI=Qd,iI=ce,sI){constructor(t){super(t,"string","PgDateString")}build(t){return new LV(t,this.config)}}W(RV,iI,"PgDateStringBuilder");var aI,oI;class LV extends(oI=nt,aI=ce,oI){getSQLType(){return"date"}}W(LV,aI,"PgDateString");function qs(e,t){const{name:r,config:n}=Qr(e,t);return(n==null?void 0:n.mode)==="date"?new DV(r):new RV(r)}var lI,cI;class FV extends(cI=xt,lI=ce,cI){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new BV(t,this.config)}}W(FV,lI,"PgDoublePrecisionBuilder");var uI,dI;class BV extends(dI=nt,uI=ce,dI){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}W(BV,uI,"PgDoublePrecision");function c2e(e){return new FV(e??"")}var fI,hI;class zV extends(hI=xt,fI=ce,hI){constructor(t){super(t,"string","PgInet")}build(t){return new UV(t,this.config)}}W(zV,fI,"PgInetBuilder");var mI,pI;class UV extends(pI=nt,mI=ce,pI){getSQLType(){return"inet"}}W(UV,mI,"PgInet");function u2e(e){return new zV(e??"")}var gI,vI;class VV extends(vI=ap,gI=ce,vI){constructor(t){super(t,"number","PgInteger")}build(t){return new qV(t,this.config)}}W(VV,gI,"PgIntegerBuilder");var xI,yI;class qV extends(yI=nt,xI=ce,yI){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}W(qV,xI,"PgInteger");function St(e){return new VV(e??"")}var bI,jI;class WV extends(jI=xt,bI=ce,jI){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new HV(t,this.config)}}W(WV,bI,"PgIntervalBuilder");var wI,NI;class HV extends(NI=nt,wI=ce,NI){constructor(){super(...arguments);W(this,"fields",this.config.intervalConfig.fields);W(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}W(HV,wI,"PgInterval");function d2e(e,t={}){const{name:r,config:n}=Qr(e,t);return new WV(r,n)}var SI,CI;class KV extends(CI=xt,SI=ce,CI){constructor(t){super(t,"json","PgJson")}build(t){return new GV(t,this.config)}}W(KV,SI,"PgJsonBuilder");var PI,kI;class GV extends(kI=nt,PI=ce,kI){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}W(GV,PI,"PgJson");function f2e(e){return new KV(e??"")}var _I,AI;class QV extends(AI=xt,_I=ce,AI){constructor(t){super(t,"json","PgJsonb")}build(t){return new YV(t,this.config)}}W(QV,_I,"PgJsonbBuilder");var TI,EI;class YV extends(EI=nt,TI=ce,EI){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}W(YV,TI,"PgJsonb");function Ws(e){return new QV(e??"")}var OI,MI;class XV extends(MI=xt,OI=ce,MI){constructor(t){super(t,"array","PgLine")}build(t){return new ZV(t,this.config)}}W(XV,OI,"PgLineBuilder");var II,DI;class ZV extends(DI=nt,II=ce,DI){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(s)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}W(ZV,II,"PgLine");var $I,RI;class JV extends(RI=xt,$I=ce,RI){constructor(t){super(t,"json","PgLineABC")}build(t){return new e9(t,this.config)}}W(JV,$I,"PgLineABCBuilder");var LI,FI;class e9 extends(FI=nt,LI=ce,FI){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,s]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(s)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}W(e9,LI,"PgLineABC");function h2e(e,t){const{name:r,config:n}=Qr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new XV(r):new JV(r)}var BI,zI;class t9 extends(zI=xt,BI=ce,zI){constructor(t){super(t,"string","PgMacaddr")}build(t){return new r9(t,this.config)}}W(t9,BI,"PgMacaddrBuilder");var UI,VI;class r9 extends(VI=nt,UI=ce,VI){getSQLType(){return"macaddr"}}W(r9,UI,"PgMacaddr");function m2e(e){return new t9(e??"")}var qI,WI;class n9 extends(WI=xt,qI=ce,WI){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new i9(t,this.config)}}W(n9,qI,"PgMacaddr8Builder");var HI,KI;class i9 extends(KI=nt,HI=ce,KI){getSQLType(){return"macaddr8"}}W(i9,HI,"PgMacaddr8");function p2e(e){return new n9(e??"")}var GI,QI;class s9 extends(QI=xt,GI=ce,QI){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new a9(t,this.config)}}W(s9,GI,"PgNumericBuilder");var YI,XI;class a9 extends(XI=nt,YI=ce,XI){constructor(r,n){super(r,n);W(this,"precision");W(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}W(a9,YI,"PgNumeric");function o9(e,t){const{name:r,config:n}=Qr(e,t);return new s9(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}const Ht=o9;var ZI,JI;class l9 extends(JI=xt,ZI=ce,JI){constructor(t){super(t,"array","PgPointTuple")}build(t){return new c9(t,this.config)}}W(l9,ZI,"PgPointTupleBuilder");var eD,tD;class c9 extends(tD=nt,eD=ce,tD){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}W(c9,eD,"PgPointTuple");var rD,nD;class u9 extends(nD=xt,rD=ce,nD){constructor(t){super(t,"json","PgPointObject")}build(t){return new d9(t,this.config)}}W(u9,rD,"PgPointObjectBuilder");var iD,sD;class d9 extends(sD=nt,iD=ce,sD){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}W(d9,iD,"PgPointObject");function g2e(e,t){const{name:r,config:n}=Qr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new l9(r):new u9(r)}function v2e(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function oO(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let s=0;s<8;s++)n.setUint8(s,e[t+s]);return n.getFloat64(0,!0)}function f9(e){const t=v2e(e);let r=0;const n=t[r];r+=1;const s=new DataView(t.buffer),a=s.getUint32(r,n===1);if(r+=4,a&536870912&&(s.getUint32(r,n===1),r+=4),(a&65535)===1){const o=oO(t,r);r+=8;const l=oO(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var aD,oD;class h9 extends(oD=xt,aD=ce,oD){constructor(t){super(t,"array","PgGeometry")}build(t){return new m9(t,this.config)}}W(h9,aD,"PgGeometryBuilder");var lD,cD;class m9 extends(cD=nt,lD=ce,cD){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return f9(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}W(m9,lD,"PgGeometry");var uD,dD;class p9 extends(dD=xt,uD=ce,dD){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new g9(t,this.config)}}W(p9,uD,"PgGeometryObjectBuilder");var fD,hD;class g9 extends(hD=nt,fD=ce,hD){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=f9(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}W(g9,fD,"PgGeometryObject");function x2e(e,t){const{name:r,config:n}=Qr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new h9(r):new p9(r)}var mD,pD;class v9 extends(pD=xt,mD=ce,pD){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new x9(t,this.config)}}W(v9,mD,"PgRealBuilder");var gD,vD;class x9 extends(vD=nt,gD=ce,vD){constructor(r,n){super(r,n);W(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}W(x9,gD,"PgReal");function y2e(e){return new v9(e??"")}var xD,yD;class y9 extends(yD=xt,xD=ce,yD){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new b9(t,this.config)}}W(y9,xD,"PgSerialBuilder");var bD,jD;class b9 extends(jD=nt,bD=ce,jD){getSQLType(){return"serial"}}W(b9,bD,"PgSerial");function b2e(e){return new y9(e??"")}var wD,ND;class j9 extends(ND=ap,wD=ce,ND){constructor(t){super(t,"number","PgSmallInt")}build(t){return new w9(t,this.config)}}W(j9,wD,"PgSmallIntBuilder");var SD,CD;class w9 extends(CD=nt,SD=ce,CD){constructor(){super(...arguments);W(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}W(w9,SD,"PgSmallInt");function j2e(e){return new j9(e??"")}var PD,kD;class N9 extends(kD=xt,PD=ce,kD){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new S9(t,this.config)}}W(N9,PD,"PgSmallSerialBuilder");var _D,AD;class S9 extends(AD=nt,_D=ce,AD){getSQLType(){return"smallserial"}}W(S9,_D,"PgSmallSerial");function w2e(e){return new N9(e??"")}var TD,ED;class C9 extends(ED=xt,TD=ce,ED){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new P9(t,this.config)}}W(C9,TD,"PgTextBuilder");var OD,MD;class P9 extends(MD=nt,OD=ce,MD){constructor(){super(...arguments);W(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}W(P9,OD,"PgText");function ut(e,t={}){const{name:r,config:n}=Qr(e,t);return new C9(r,n)}var ID,DD;class k9 extends(DD=Qd,ID=ce,DD){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new _9(t,this.config)}}W(k9,ID,"PgTimeBuilder");var $D,RD;class _9 extends(RD=nt,$D=ce,RD){constructor(r,n){super(r,n);W(this,"withTimezone");W(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}W(_9,$D,"PgTime");function N2e(e,t={}){const{name:r,config:n}=Qr(e,t);return new k9(r,n.withTimezone??!1,n.precision)}var LD,FD;class A9 extends(FD=Qd,LD=ce,FD){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new T9(t,this.config)}}W(A9,LD,"PgTimestampBuilder");var BD,zD;class T9 extends(zD=nt,BD=ce,zD){constructor(r,n){super(r,n);W(this,"withTimezone");W(this,"precision");W(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));W(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}W(T9,BD,"PgTimestamp");var UD,VD;class E9 extends(VD=Qd,UD=ce,VD){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new O9(t,this.config)}}W(E9,UD,"PgTimestampStringBuilder");var qD,WD;class O9 extends(WD=nt,qD=ce,WD){constructor(r,n){super(r,n);W(this,"withTimezone");W(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}W(O9,qD,"PgTimestampString");function We(e,t={}){const{name:r,config:n}=Qr(e,t);return(n==null?void 0:n.mode)==="string"?new E9(r,n.withTimezone??!1,n.precision):new A9(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var HD,KD;class M9 extends(KD=xt,HD=ce,KD){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(It`gen_random_uuid()`)}build(t){return new I9(t,this.config)}}W(M9,HD,"PgUUIDBuilder");var GD,QD;class I9 extends(QD=nt,GD=ce,QD){getSQLType(){return"uuid"}}W(I9,GD,"PgUUID");function S2e(e){return new M9(e??"")}var YD,XD;class D9 extends(XD=xt,YD=ce,XD){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new $9(t,this.config)}}W(D9,YD,"PgVarcharBuilder");var ZD,JD;class $9 extends(JD=nt,ZD=ce,JD){constructor(){super(...arguments);W(this,"length",this.config.length);W(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}W($9,ZD,"PgVarchar");function H(e,t={}){const{name:r,config:n}=Qr(e,t);return new D9(r,n)}var e$,t$;class R9 extends(t$=xt,e$=ce,t$){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new L9(t,this.config)}}W(R9,e$,"PgBinaryVectorBuilder");var r$,n$;class L9 extends(n$=nt,r$=ce,n$){constructor(){super(...arguments);W(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}W(L9,r$,"PgBinaryVector");function C2e(e,t){const{name:r,config:n}=Qr(e,t);return new R9(r,n)}var i$,s$;class F9 extends(s$=xt,i$=ce,s$){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new B9(t,this.config)}}W(F9,i$,"PgHalfVectorBuilder");var a$,o$;class B9 extends(o$=nt,a$=ce,o$){constructor(){super(...arguments);W(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}W(B9,a$,"PgHalfVector");function P2e(e,t){const{name:r,config:n}=Qr(e,t);return new F9(r,n)}var l$,c$;class z9 extends(c$=xt,l$=ce,c$){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new U9(t,this.config)}}W(z9,l$,"PgSparseVectorBuilder");var u$,d$;class U9 extends(d$=nt,u$=ce,d$){constructor(){super(...arguments);W(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}W(U9,u$,"PgSparseVector");function k2e(e,t){const{name:r,config:n}=Qr(e,t);return new z9(r,n)}var f$,h$;class V9 extends(h$=xt,f$=ce,h$){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new q9(t,this.config)}}W(V9,f$,"PgVectorBuilder");var m$,p$;class q9 extends(p$=nt,m$=ce,p$){constructor(){super(...arguments);W(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}W(q9,m$,"PgVector");function _2e(e,t){const{name:r,config:n}=Qr(e,t);return new V9(r,n)}function A2e(){return{bigint:i2e,bigserial:s2e,boolean:Ot,char:a2e,cidr:o2e,customType:l2e,date:qs,doublePrecision:c2e,inet:u2e,integer:St,interval:d2e,json:f2e,jsonb:Ws,line:h2e,macaddr:m2e,macaddr8:p2e,numeric:o9,point:g2e,geometry:x2e,real:y2e,serial:b2e,smallint:j2e,smallserial:w2e,text:ut,time:N2e,timestamp:We,uuid:S2e,varchar:H,bit:C2e,halfvec:P2e,sparsevec:k2e,vector:_2e}}const zN=Symbol.for("drizzle:PgInlineForeignKeys"),lO=Symbol.for("drizzle:EnableRLS");var g$,v$,x$,y$,b$;class th extends(b$=Cn,y$=ce,x$=zN,v$=lO,g$=Cn.Symbol.ExtraConfigBuilder,b$){constructor(){super(...arguments);W(this,x$,[]);W(this,v$,!1);W(this,g$)}}W(th,y$,"PgTable"),W(th,"Symbol",Object.assign({},Cn.Symbol,{InlineForeignKeys:zN,EnableRLS:lO}));function T2e(e,t,r,n,s=e){const a=new th(e,n,s),o=typeof t=="function"?t(A2e()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.build(a);return a[zN].push(...h.buildForeignKeys(p,a)),[d,p]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.buildExtraConfigColumn(a);return[d,p]})),u=Object.assign(a,l);return u[Cn.Symbol.Columns]=l,u[Cn.Symbol.ExtraConfigColumns]=c,r&&(u[th.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[th.Symbol.EnableRLS]=!0,u)})}const zt=(e,t,r)=>T2e(e,t,r,void 0);var j$;j$=ce;class W9{constructor(t,r){this.unique=t,this.name=r}on(...t){return new bg(t.map(r=>{if(Nr(r,gr))return r;r=r;const n=new yg(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...t){return new bg(t.map(r=>{if(Nr(r,gr))return r;r=r;const n=new yg(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(t,...r){return new bg(r.map(n=>{if(Nr(n,gr))return n;n=n;const s=new yg(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),s}),this.unique,!0,this.name,t)}}W(W9,j$,"PgIndexBuilderOn");var w$;w$=ce;class bg{constructor(t,r,n,s,a="btree"){W(this,"config");this.config={name:s,columns:t,unique:r,only:n,method:a}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new H9(this.config,t)}}W(bg,w$,"PgIndexBuilder");var N$;N$=ce;class H9{constructor(t,r){W(this,"config");this.config={...t,table:r}}}W(H9,N$,"PgIndex");function K9(e){return new W9(!1,e)}var bt;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(bt||(bt={}));var UN;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(UN||(UN={}));const Te=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ga=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},pe=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),E2e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class vi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof vi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}vi.create=e=>new vi(e);const gd=(e,t)=>{let r;switch(e.code){case pe.invalid_type:e.received===Te.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,bt.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:r=`Unrecognized key(s) in object: ${bt.joinValues(e.keys,", ")}`;break;case pe.invalid_union:r="Invalid input";break;case pe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${bt.joinValues(e.options)}`;break;case pe.invalid_enum_value:r=`Invalid enum value. Expected ${bt.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:r="Invalid function arguments";break;case pe.invalid_return_type:r="Invalid function return type";break;case pe.invalid_date:r="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:bt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case pe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case pe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case pe.custom:r="Invalid input";break;case pe.invalid_intersection_types:r="Intersection results could not be merged";break;case pe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:r="Number must be finite";break;default:r=t.defaultError,bt.assertNever(e)}return{message:r}};let G9=gd;function O2e(e){G9=e}function dx(){return G9}const fx=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},M2e=[];function Pe(e,t){const r=dx(),n=fx({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===gd?void 0:gd].filter(s=>!!s)});e.common.issues.push(n)}class gn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ge;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return gn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ge;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Ge=Object.freeze({status:"aborted"}),Jc=e=>({status:"dirty",value:e}),Mn=e=>({status:"valid",value:e}),VN=e=>e.status==="aborted",qN=e=>e.status==="dirty",uc=e=>e.status==="valid",cm=e=>typeof Promise<"u"&&e instanceof Promise;function hx(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Q9(e,t,r,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Le;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Le||(Le={}));var Ef,Of;class Xs{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cO=(e,t)=>{if(uc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new vi(e.common.issues);return this._error=r,this._error}}};function it(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class lt{get description(){return this._def.description}_getType(t){return ga(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ga(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new gn,ctx:{common:t.parent.common,data:t.data,parsedType:ga(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(cm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ga(t)},a=this._parseSync({data:t,path:s.path,parent:s});return cO(s,a)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ga(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return uc(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>uc(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ga(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(cm(s)?s:Promise.resolve(s));return cO(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:pe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new ws({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Hs.create(this,this._def)}nullable(){return Ko.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ps.create(this)}promise(){return xd.create(this,this._def)}or(t){return hm.create([this,t],this._def)}and(t){return mm.create(this,t,this._def)}transform(t){return new ws({...it(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ym({...it(this._def),innerType:this,defaultValue:r,typeName:Ke.ZodDefault})}brand(){return new aP({typeName:Ke.ZodBranded,type:this,...it(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new bm({...it(this._def),innerType:this,catchValue:r,typeName:Ke.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return op.create(this,t)}readonly(){return jm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const I2e=/^c[^\s-]{8,}$/i,D2e=/^[0-9a-z]+$/,$2e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,R2e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L2e=/^[a-z0-9_-]{21}$/i,F2e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,B2e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,z2e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,U2e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let D0;const V2e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q2e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,W2e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,H2e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,K2e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,G2e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Y9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Q2e=new RegExp(`^${Y9}$`);function X9(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Y2e(e){return new RegExp(`^${X9(e)}$`)}function Z9(e){let t=`${Y9}T${X9(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function X2e(e,t){return!!((t==="v4"||!t)&&V2e.test(e)||(t==="v6"||!t)&&W2e.test(e))}function Z2e(e,t){if(!F2e.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function J2e(e,t){return!!((t==="v4"||!t)&&q2e.test(e)||(t==="v6"||!t)&&H2e.test(e))}class ds extends lt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const a=this._getOrReturnCtx(t);return Pe(a,{code:pe.invalid_type,expected:Te.string,received:a.parsedType}),Ge}const n=new gn;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Pe(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pe(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")z2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"email",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")D0||(D0=new RegExp(U2e,"u")),D0.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"emoji",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")R2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"uuid",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")L2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"nanoid",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")I2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cuid",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")D2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cuid2",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")$2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"ulid",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Pe(s,{validation:"url",code:pe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"regex",code:pe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Z9(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Q2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Y2e(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?B2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"duration",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?X2e(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"ip",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Z2e(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"jwt",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?J2e(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"cidr",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?K2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"base64",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?G2e.test(t.data)||(s=this._getOrReturnCtx(t,s),Pe(s,{validation:"base64url",code:pe.invalid_string,message:a.message}),n.dirty()):bt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:pe.invalid_string,...Le.errToObj(n)})}_addCheck(t){return new ds({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Le.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Le.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Le.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Le.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Le.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Le.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Le.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Le.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Le.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Le.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Le.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Le.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Le.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Le.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Le.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Le.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Le.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Le.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Le.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Le.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Le.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Le.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Le.errToObj(r)})}nonempty(t){return this.min(1,Le.errToObj(t))}trim(){return new ds({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ds({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ds.create=e=>{var t;return new ds({checks:[],typeName:Ke.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...it(e)})};function eTe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class qo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const a=this._getOrReturnCtx(t);return Pe(a,{code:pe.invalid_type,expected:Te.number,received:a.parsedType}),Ge}let n;const s=new gn;for(const a of this._def.checks)a.kind==="int"?bt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?eTe(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Pe(n,{code:pe.not_finite,message:a.message}),s.dirty()):bt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Le.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Le.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Le.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Le.toString(r))}setLimit(t,r,n,s){return new qo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Le.toString(s)}]})}_addCheck(t){return new qo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Le.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Le.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&bt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}qo.create=e=>new qo({checks:[],typeName:Ke.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class Wo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let n;const s=new gn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Pe(n,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):bt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:pe.invalid_type,expected:Te.bigint,received:r.parsedType}),Ge}gte(t,r){return this.setLimit("min",t,!0,Le.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Le.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Le.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Le.toString(r))}setLimit(t,r,n,s){return new Wo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Le.toString(s)}]})}_addCheck(t){return new Wo({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Wo.create=e=>{var t;return new Wo({checks:[],typeName:Ke.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...it(e)})};class um extends lt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const n=this._getOrReturnCtx(t);return Pe(n,{code:pe.invalid_type,expected:Te.boolean,received:n.parsedType}),Ge}return Mn(t.data)}}um.create=e=>new um({typeName:Ke.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...it(e)});class dc extends lt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const a=this._getOrReturnCtx(t);return Pe(a,{code:pe.invalid_type,expected:Te.date,received:a.parsedType}),Ge}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Pe(a,{code:pe.invalid_date}),Ge}const n=new gn;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Pe(s,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):bt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dc({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Le.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Le.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}dc.create=e=>new dc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ke.ZodDate,...it(e)});class mx extends lt{_parse(t){if(this._getType(t)!==Te.symbol){const n=this._getOrReturnCtx(t);return Pe(n,{code:pe.invalid_type,expected:Te.symbol,received:n.parsedType}),Ge}return Mn(t.data)}}mx.create=e=>new mx({typeName:Ke.ZodSymbol,...it(e)});class dm extends lt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:pe.invalid_type,expected:Te.undefined,received:n.parsedType}),Ge}return Mn(t.data)}}dm.create=e=>new dm({typeName:Ke.ZodUndefined,...it(e)});class fm extends lt{_parse(t){if(this._getType(t)!==Te.null){const n=this._getOrReturnCtx(t);return Pe(n,{code:pe.invalid_type,expected:Te.null,received:n.parsedType}),Ge}return Mn(t.data)}}fm.create=e=>new fm({typeName:Ke.ZodNull,...it(e)});class vd extends lt{constructor(){super(...arguments),this._any=!0}_parse(t){return Mn(t.data)}}vd.create=e=>new vd({typeName:Ke.ZodAny,...it(e)});class Rl extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Mn(t.data)}}Rl.create=e=>new Rl({typeName:Ke.ZodUnknown,...it(e)});class Ua extends lt{_parse(t){const r=this._getOrReturnCtx(t);return Pe(r,{code:pe.invalid_type,expected:Te.never,received:r.parsedType}),Ge}}Ua.create=e=>new Ua({typeName:Ke.ZodNever,...it(e)});class px extends lt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Pe(n,{code:pe.invalid_type,expected:Te.void,received:n.parsedType}),Ge}return Mn(t.data)}}px.create=e=>new px({typeName:Ke.ZodVoid,...it(e)});class ps extends lt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Te.array)return Pe(r,{code:pe.invalid_type,expected:Te.array,received:r.parsedType}),Ge;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Pe(r,{code:o?pe.too_big:pe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Pe(r,{code:pe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Pe(r,{code:pe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Xs(r,o,r.path,l)))).then(o=>gn.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new Xs(r,o,r.path,l)));return gn.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new ps({...this._def,minLength:{value:t,message:Le.toString(r)}})}max(t,r){return new ps({...this._def,maxLength:{value:t,message:Le.toString(r)}})}length(t,r){return new ps({...this._def,exactLength:{value:t,message:Le.toString(r)}})}nonempty(t){return this.min(1,t)}}ps.create=(e,t)=>new ps({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...it(t)});function Dc(e){if(e instanceof ar){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Hs.create(Dc(n))}return new ar({...e._def,shape:()=>t})}else return e instanceof ps?new ps({...e._def,type:Dc(e.element)}):e instanceof Hs?Hs.create(Dc(e.unwrap())):e instanceof Ko?Ko.create(Dc(e.unwrap())):e instanceof Zs?Zs.create(e.items.map(t=>Dc(t))):e}class ar extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=bt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Te.object){const u=this._getOrReturnCtx(t);return Pe(u,{code:pe.invalid_type,expected:Te.object,received:u.parsedType}),Ge}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ua&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Xs(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ua){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Pe(s,{code:pe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Xs(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>gn.mergeObjectSync(n,u)):gn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Le.errToObj,new ar({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Le.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new ar({...this._def,unknownKeys:"strip"})}passthrough(){return new ar({...this._def,unknownKeys:"passthrough"})}extend(t){return new ar({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ar({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ke.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ar({...this._def,catchall:t})}pick(t){const r={};return bt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ar({...this._def,shape:()=>r})}omit(t){const r={};return bt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ar({...this._def,shape:()=>r})}deepPartial(){return Dc(this)}partial(t){const r={};return bt.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new ar({...this._def,shape:()=>r})}required(t){const r={};return bt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Hs;)a=a._def.innerType;r[n]=a}}),new ar({...this._def,shape:()=>r})}keyof(){return J9(bt.objectKeys(this.shape))}}ar.create=(e,t)=>new ar({shape:()=>e,unknownKeys:"strip",catchall:Ua.create(),typeName:Ke.ZodObject,...it(t)});ar.strictCreate=(e,t)=>new ar({shape:()=>e,unknownKeys:"strict",catchall:Ua.create(),typeName:Ke.ZodObject,...it(t)});ar.lazycreate=(e,t)=>new ar({shape:e,unknownKeys:"strip",catchall:Ua.create(),typeName:Ke.ZodObject,...it(t)});class hm extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new vi(l.ctx.common.issues));return Pe(r,{code:pe.invalid_union,unionErrors:o}),Ge}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new vi(c));return Pe(r,{code:pe.invalid_union,unionErrors:l}),Ge}}get options(){return this._def.options}}hm.create=(e,t)=>new hm({options:e,typeName:Ke.ZodUnion,...it(t)});const fa=e=>e instanceof gm?fa(e.schema):e instanceof ws?fa(e.innerType()):e instanceof vm?[e.value]:e instanceof Ho?e.options:e instanceof xm?bt.objectValues(e.enum):e instanceof ym?fa(e._def.innerType):e instanceof dm?[void 0]:e instanceof fm?[null]:e instanceof Hs?[void 0,...fa(e.unwrap())]:e instanceof Ko?[null,...fa(e.unwrap())]:e instanceof aP||e instanceof jm?fa(e.unwrap()):e instanceof bm?fa(e._def.innerType):[];class sb extends lt{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.object)return Pe(r,{code:pe.invalid_type,expected:Te.object,received:r.parsedType}),Ge;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Pe(r,{code:pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const a of r){const o=fa(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new sb({typeName:Ke.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...it(n)})}}function WN(e,t){const r=ga(e),n=ga(t);if(e===t)return{valid:!0,data:e};if(r===Te.object&&n===Te.object){const s=bt.objectKeys(t),a=bt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=WN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Te.array&&n===Te.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=WN(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Te.date&&n===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class mm extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(VN(a)||VN(o))return Ge;const l=WN(a.value,o.value);return l.valid?((qN(a)||qN(o))&&r.dirty(),{status:r.value,value:l.data}):(Pe(n,{code:pe.invalid_intersection_types}),Ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}mm.create=(e,t,r)=>new mm({left:e,right:t,typeName:Ke.ZodIntersection,...it(r)});class Zs extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.array)return Pe(n,{code:pe.invalid_type,expected:Te.array,received:n.parsedType}),Ge;if(n.data.length<this._def.items.length)return Pe(n,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&n.data.length>this._def.items.length&&(Pe(n,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Xs(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>gn.mergeArray(r,o)):gn.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Zs({...this._def,rest:t})}}Zs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zs({items:e,typeName:Ke.ZodTuple,rest:null,...it(t)})};class pm extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.object)return Pe(n,{code:pe.invalid_type,expected:Te.object,received:n.parsedType}),Ge;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new Xs(n,l,n.path,l)),value:o._parse(new Xs(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?gn.mergeObjectAsync(r,s):gn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof lt?new pm({keyType:t,valueType:r,typeName:Ke.ZodRecord,...it(n)}):new pm({keyType:ds.create(),valueType:t,typeName:Ke.ZodRecord,...it(r)})}}class gx extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.map)return Pe(n,{code:pe.invalid_type,expected:Te.map,received:n.parsedType}),Ge;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Xs(n,l,n.path,[u,"key"])),value:a._parse(new Xs(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}gx.create=(e,t,r)=>new gx({valueType:t,keyType:e,typeName:Ke.ZodMap,...it(r)});class fc extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.set)return Pe(n,{code:pe.invalid_type,expected:Te.set,received:n.parsedType}),Ge;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Pe(n,{code:pe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Pe(n,{code:pe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ge;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Xs(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new fc({...this._def,minSize:{value:t,message:Le.toString(r)}})}max(t,r){return new fc({...this._def,maxSize:{value:t,message:Le.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}fc.create=(e,t)=>new fc({valueType:e,minSize:null,maxSize:null,typeName:Ke.ZodSet,...it(t)});class vu extends lt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.function)return Pe(r,{code:pe.invalid_type,expected:Te.function,received:r.parsedType}),Ge;function n(l,c){return fx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,dx(),gd].filter(u=>!!u),issueData:{code:pe.invalid_arguments,argumentsError:c}})}function s(l,c){return fx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,dx(),gd].filter(u=>!!u),issueData:{code:pe.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof xd){const l=this;return Mn(async function(...c){const u=new vi([]),d=await l._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(n(c,p)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,a).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const l=this;return Mn(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new vi([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,a);if(!f.success)throw new vi([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new vu({...this._def,args:Zs.create(t).rest(Rl.create())})}returns(t){return new vu({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new vu({args:t||Zs.create([]).rest(Rl.create()),returns:r||Rl.create(),typeName:Ke.ZodFunction,...it(n)})}}class gm extends lt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}gm.create=(e,t)=>new gm({getter:e,typeName:Ke.ZodLazy,...it(t)});class vm extends lt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Pe(r,{received:r.data,code:pe.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:t.data}}get value(){return this._def.value}}vm.create=(e,t)=>new vm({value:e,typeName:Ke.ZodLiteral,...it(t)});function J9(e,t){return new Ho({values:e,typeName:Ke.ZodEnum,...it(t)})}class Ho extends lt{constructor(){super(...arguments),Ef.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{expected:bt.joinValues(n),received:r.parsedType,code:pe.invalid_type}),Ge}if(hx(this,Ef)||Q9(this,Ef,new Set(this._def.values)),!hx(this,Ef).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Pe(r,{received:r.data,code:pe.invalid_enum_value,options:n}),Ge}return Mn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ho.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ho.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ef=new WeakMap;Ho.create=J9;class xm extends lt{constructor(){super(...arguments),Of.set(this,void 0)}_parse(t){const r=bt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const s=bt.objectValues(r);return Pe(n,{expected:bt.joinValues(s),received:n.parsedType,code:pe.invalid_type}),Ge}if(hx(this,Of)||Q9(this,Of,new Set(bt.getValidEnumValues(this._def.values))),!hx(this,Of).has(t.data)){const s=bt.objectValues(r);return Pe(n,{received:n.data,code:pe.invalid_enum_value,options:s}),Ge}return Mn(t.data)}get enum(){return this._def.values}}Of=new WeakMap;xm.create=(e,t)=>new xm({values:e,typeName:Ke.ZodNativeEnum,...it(t)});class xd extends lt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.promise&&r.common.async===!1)return Pe(r,{code:pe.invalid_type,expected:Te.promise,received:r.parsedType}),Ge;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return Mn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}xd.create=(e,t)=>new xd({type:e,typeName:Ke.ZodPromise,...it(t)});class ws extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{Pe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ge;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ge:c.status==="dirty"||r.value==="dirty"?Jc(c.value):c});{if(r.value==="aborted")return Ge;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ge:l.status==="dirty"||r.value==="dirty"?Jc(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ge:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ge:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!uc(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>uc(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);bt.assertNever(s)}}ws.create=(e,t,r)=>new ws({schema:e,typeName:Ke.ZodEffects,effect:t,...it(r)});ws.createWithPreprocess=(e,t,r)=>new ws({schema:t,effect:{type:"preprocess",transform:e},typeName:Ke.ZodEffects,...it(r)});class Hs extends lt{_parse(t){return this._getType(t)===Te.undefined?Mn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Hs.create=(e,t)=>new Hs({innerType:e,typeName:Ke.ZodOptional,...it(t)});class Ko extends lt{_parse(t){return this._getType(t)===Te.null?Mn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ko.create=(e,t)=>new Ko({innerType:e,typeName:Ke.ZodNullable,...it(t)});class ym extends lt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ym.create=(e,t)=>new ym({innerType:e,typeName:Ke.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...it(t)});class bm extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return cm(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vi(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new vi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}bm.create=(e,t)=>new bm({innerType:e,typeName:Ke.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...it(t)});class vx extends lt{_parse(t){if(this._getType(t)!==Te.nan){const n=this._getOrReturnCtx(t);return Pe(n,{code:pe.invalid_type,expected:Te.nan,received:n.parsedType}),Ge}return{status:"valid",value:t.data}}}vx.create=e=>new vx({typeName:Ke.ZodNaN,...it(e)});const tTe=Symbol("zod_brand");class aP extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class op extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ge:a.status==="dirty"?(r.dirty(),Jc(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ge:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new op({in:t,out:r,typeName:Ke.ZodPipeline})}}class jm extends lt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(uc(s)&&(s.value=Object.freeze(s.value)),s);return cm(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}jm.create=(e,t)=>new jm({innerType:e,typeName:Ke.ZodReadonly,...it(t)});function uO(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function eq(e,t={},r){return e?vd.create().superRefine((n,s)=>{var a,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=uO(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=uO(t,n),u=(o=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:u})}}):vd.create()}const rTe={object:ar.lazycreate};var Ke;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const nTe=(e,t={message:`Input not instance of ${e.name}`})=>eq(r=>r instanceof e,t),tq=ds.create,rq=qo.create,iTe=vx.create,sTe=Wo.create,nq=um.create,aTe=dc.create,oTe=mx.create,lTe=dm.create,cTe=fm.create,uTe=vd.create,dTe=Rl.create,fTe=Ua.create,hTe=px.create,mTe=ps.create,pTe=ar.create,gTe=ar.strictCreate,vTe=hm.create,xTe=sb.create,yTe=mm.create,bTe=Zs.create,jTe=pm.create,wTe=gx.create,NTe=fc.create,STe=vu.create,CTe=gm.create,PTe=vm.create,kTe=Ho.create,_Te=xm.create,ATe=xd.create,dO=ws.create,TTe=Hs.create,ETe=Ko.create,OTe=ws.createWithPreprocess,MTe=op.create,ITe=()=>tq().optional(),DTe=()=>rq().optional(),$Te=()=>nq().optional(),RTe={string:e=>ds.create({...e,coerce:!0}),number:e=>qo.create({...e,coerce:!0}),boolean:e=>um.create({...e,coerce:!0}),bigint:e=>Wo.create({...e,coerce:!0}),date:e=>dc.create({...e,coerce:!0})},LTe=Ge;var Ut=Object.freeze({__proto__:null,defaultErrorMap:gd,setErrorMap:O2e,getErrorMap:dx,makeIssue:fx,EMPTY_PATH:M2e,addIssueToContext:Pe,ParseStatus:gn,INVALID:Ge,DIRTY:Jc,OK:Mn,isAborted:VN,isDirty:qN,isValid:uc,isAsync:cm,get util(){return bt},get objectUtil(){return UN},ZodParsedType:Te,getParsedType:ga,ZodType:lt,datetimeRegex:Z9,ZodString:ds,ZodNumber:qo,ZodBigInt:Wo,ZodBoolean:um,ZodDate:dc,ZodSymbol:mx,ZodUndefined:dm,ZodNull:fm,ZodAny:vd,ZodUnknown:Rl,ZodNever:Ua,ZodVoid:px,ZodArray:ps,ZodObject:ar,ZodUnion:hm,ZodDiscriminatedUnion:sb,ZodIntersection:mm,ZodTuple:Zs,ZodRecord:pm,ZodMap:gx,ZodSet:fc,ZodFunction:vu,ZodLazy:gm,ZodLiteral:vm,ZodEnum:Ho,ZodNativeEnum:xm,ZodPromise:xd,ZodEffects:ws,ZodTransformer:ws,ZodOptional:Hs,ZodNullable:Ko,ZodDefault:ym,ZodCatch:bm,ZodNaN:vx,BRAND:tTe,ZodBranded:aP,ZodPipeline:op,ZodReadonly:jm,custom:eq,Schema:lt,ZodSchema:lt,late:rTe,get ZodFirstPartyTypeKind(){return Ke},coerce:RTe,any:uTe,array:mTe,bigint:sTe,boolean:nq,date:aTe,discriminatedUnion:xTe,effect:dO,enum:kTe,function:STe,instanceof:nTe,intersection:yTe,lazy:CTe,literal:PTe,map:wTe,nan:iTe,nativeEnum:_Te,never:fTe,null:cTe,nullable:ETe,number:rq,object:pTe,oboolean:$Te,onumber:DTe,optional:TTe,ostring:ITe,pipeline:MTe,preprocess:OTe,promise:ATe,record:jTe,set:NTe,strictObject:gTe,string:tq,symbol:oTe,transformer:dO,tuple:bTe,undefined:lTe,union:vTe,unknown:dTe,void:hTe,NEVER:LTe,ZodIssueCode:pe,quotelessJson:E2e,ZodError:vi});const sr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function vr(e,t){return t.includes(e.columnType)}function FTe(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const BTe=Ut.union([Ut.string(),Ut.number(),Ut.boolean(),Ut.null()]),zTe=Ut.union([BTe,Ut.record(Ut.any()),Ut.array(Ut.any())]),UTe=Ut.custom(e=>e instanceof Buffer);function iq(e,t){const r=(t==null?void 0:t.zodInstance)??Ut,n=(t==null?void 0:t.coerce)??{};let s;return FTe(e)&&(s=e.enumValues.length?r.enum(e.enumValues):r.string()),s||(vr(e,["PgGeometry","PgPointTuple"])?s=r.tuple([r.number(),r.number()]):vr(e,["PgGeometryObject","PgPointObject"])?s=r.object({x:r.number(),y:r.number()}):vr(e,["PgHalfVector","PgVector"])?(s=r.array(r.number()),s=e.dimensions?s.length(e.dimensions):s):vr(e,["PgLine"])?s=r.tuple([r.number(),r.number(),r.number()]):vr(e,["PgLineABC"])?s=r.object({a:r.number(),b:r.number(),c:r.number()}):vr(e,["PgArray"])?(s=r.array(iq(e.baseColumn,r)),s=e.size?s.length(e.size):s):e.dataType==="array"?s=r.array(r.any()):e.dataType==="number"?s=VTe(e,r,n):e.dataType==="bigint"?s=qTe(e,r,n):e.dataType==="boolean"?s=n===!0||n.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?s=n===!0||n.date?r.coerce.date():r.date():e.dataType==="string"?s=WTe(e,r,n):e.dataType==="json"?s=zTe:e.dataType==="custom"?s=r.any():e.dataType==="buffer"&&(s=UTe)),s||(s=r.any()),s}function VTe(e,t,r){let n=e.getSQLType().includes("unsigned"),s,a,o=!1;vr(e,["MySqlTinyInt","SingleStoreTinyInt"])?(s=n?0:sr.INT8_MIN,a=n?sr.INT8_UNSIGNED_MAX:sr.INT8_MAX,o=!0):vr(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=n?0:sr.INT16_MIN,a=n?sr.INT16_UNSIGNED_MAX:sr.INT16_MAX,o=!0):vr(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=n?0:sr.INT24_MIN,a=n?sr.INT24_UNSIGNED_MAX:sr.INT24_MAX,o=vr(e,["MySqlMediumInt","SingleStoreMediumInt"])):vr(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=n?0:sr.INT32_MIN,a=n?sr.INT32_UNSIGNED_MAX:sr.INT32_MAX,o=!0):vr(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=n?0:sr.INT48_MIN,a=n?sr.INT48_UNSIGNED_MAX:sr.INT48_MAX):vr(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||vr(e,["MySqlSerial","SingleStoreSerial"]),s=n?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):vr(e,["MySqlYear","SingleStoreYear"])?(s=1901,a=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(s).max(a),o?l.int():l}function qTe(e,t,r){const n=e.getSQLType().includes("unsigned"),s=n?0n:sr.INT64_MIN,a=n?sr.INT64_UNSIGNED_MAX:sr.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(s).max(a)}function WTe(e,t,r){if(vr(e,["PgUUID"]))return t.string().uuid();let n,s,a=!1;vr(e,["PgVarchar","SQLiteText"])?n=e.length:vr(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??sr.INT16_UNSIGNED_MAX:vr(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?n=sr.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?n=sr.INT24_UNSIGNED_MAX:e.textType==="text"?n=sr.INT16_UNSIGNED_MAX:n=sr.INT8_UNSIGNED_MAX),vr(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,a=!0),vr(e,["PgBinaryVector"])&&(s=/^[01]+$/,n=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=s?o.regex(s):o,n&&a?o.length(n):n?o.max(n):o}function sq(e){return mV(e)?r2e(e):n2e(e)}function aq(e,t,r,n){const s={};for(const[a,o]of Object.entries(e)){if(!Nr(o,pd)&&!Nr(o,gr)&&!Nr(o,gr.Aliased)&&typeof o=="object"){const f=mV(o)||t2e(o)?sq(o):o;s[a]=aq(f,t[a]??{},r,n);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){s[a]=l;continue}const c=Nr(o,pd)?o:void 0,u=c?iq(c,n):Ut.any(),d=typeof l=="function"?l(u):u;r.never(c)||(s[a]=d,c&&(r.nullable(c)&&(s[a]=s[a].nullable()),r.optional(c)&&(s[a]=s[a].optional())))}return Ut.object(s)}const HTe={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},br=(e,t)=>{const r=sq(e);return aq(r,{},HTe)};zt("sessions",{sid:H("sid").primaryKey(),sess:Ws("sess").notNull(),expire:We("expire").notNull()},e=>[K9("IDX_session_expire").on(e.expire)]);const KTe=Gd("user_role",["user","admin","superadmin"]),vn=zt("users",{id:H("id").primaryKey().default(It`gen_random_uuid()`),email:H("email").unique(),firstName:H("first_name"),lastName:H("last_name"),profileImageUrl:H("profile_image_url"),role:KTe("role").default("user"),subscriptionTier:H("subscription_tier").default("free"),stripeCustomerId:H("stripe_customer_id"),stripeSubscriptionId:H("stripe_subscription_id"),isActive:Ot("is_active").default(!0),lastLoginAt:We("last_login_at"),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),GTe=Gd("project_status",["draft","in_review","published","archived"]),ab=Gd("format",["ebook","paperback","hardcover"]),oP=zt("projects",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),title:ut("title").notNull(),subtitle:ut("subtitle"),description:ut("description"),categories:ut("categories").array(),keywords:ut("keywords").array(),status:GTe("status").default("draft"),useAi:Ot("use_ai").default(!1),aiPrompt:ut("ai_prompt"),aiContentType:H("ai_content_type"),formats:ut("formats").array(),publicationInfo:Ws("publication_info"),coverImageUrl:H("cover_image_url"),totalSales:St("total_sales").default(0),totalRevenue:Ht("total_revenue",{precision:10,scale:2}).default("0.00"),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow(),language:H("language").default("English"),seriesTitle:H("series_title"),seriesNumber:St("series_number"),editionNumber:H("edition_number"),authorPrefix:H("author_prefix"),authorFirstName:H("author_first_name"),authorMiddleName:H("author_middle_name"),authorLastName:H("author_last_name"),authorSuffix:H("author_suffix"),publishingRights:H("publishing_rights").default("owned"),hasExplicitContent:Ot("has_explicit_content").default(!1),readingAgeMin:H("reading_age_min"),readingAgeMax:H("reading_age_max"),primaryMarketplace:H("primary_marketplace").default("Amazon.com"),isLowContentBook:Ot("is_low_content_book").default(!1),isLargePrintBook:Ot("is_large_print_book").default(!1),publicationDate:qs("publication_date"),previouslyPublished:Ot("previously_published").default(!1),previousPublicationDate:qs("previous_publication_date"),releaseOption:H("release_option").default("immediate"),scheduledReleaseDate:qs("scheduled_release_date"),name:ut("name")}),QTe=Gd("book_status",["draft","writing","editing","design","formatting","marketing","in_review","published","archived"]),il=zt("books",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),projectId:H("project_id").references(()=>oP.id,{onDelete:"cascade"}),title:ut("title").notNull(),subtitle:ut("subtitle"),description:ut("description"),categories:ut("categories").array(),keywords:ut("keywords").array(),status:QTe("status").default("draft"),language:H("language").default("English"),seriesTitle:H("series_title"),seriesNumber:St("series_number"),editionNumber:H("edition_number"),authorPrefix:H("author_prefix"),authorFirstName:H("author_first_name"),authorMiddleName:H("author_middle_name"),authorLastName:H("author_last_name"),authorSuffix:H("author_suffix"),publishingRights:H("publishing_rights").default("owned"),hasExplicitContent:Ot("has_explicit_content").default(!1),readingAgeMin:H("reading_age_min"),readingAgeMax:H("reading_age_max"),primaryMarketplace:H("primary_marketplace").default("Amazon.com"),isLowContentBook:Ot("is_low_content_book").default(!1),isLargePrintBook:Ot("is_large_print_book").default(!1),publicationDate:qs("publication_date"),previouslyPublished:Ot("previously_published").default(!1),previousPublicationDate:qs("previous_publication_date"),releaseOption:H("release_option").default("immediate"),scheduledReleaseDate:qs("scheduled_release_date"),useAI:Ot("use_ai").default(!1),aiPrompt:ut("ai_prompt"),aiContentType:H("ai_content_type"),format:ab("format").notNull(),publicationInfo:Ws("publication_info"),coverImageUrl:H("cover_image_url"),isbn:H("isbn").unique(),isbnPlaceholder:H("isbn_placeholder").unique(),totalSales:St("total_sales").default(0),totalRevenue:Ht("total_revenue",{precision:10,scale:2}).default("0.00"),monthlyRevenue:Ht("monthly_revenue",{precision:10,scale:2}).default("0.00"),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),YTe=zt("contributors",{id:H("id").primaryKey().default(It`gen_random_uuid()`),projectId:H("project_id"),bookId:H("book_id").references(()=>il.id,{onDelete:"cascade"}),name:ut("name").notNull(),role:H("role").notNull(),prefix:H("prefix"),firstName:H("first_name").notNull(),middleName:H("middle_name"),lastName:H("last_name").notNull(),suffix:H("suffix"),createdAt:We("created_at").defaultNow()}),XTe=zt("sales_data",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),bookId:H("book_id").notNull().references(()=>il.id,{onDelete:"cascade"}),reportDate:We("report_date").notNull(),format:ab("format").notNull(),marketplace:H("marketplace").notNull(),unitsSold:St("units_sold").default(0),revenue:Ht("revenue",{precision:10,scale:2}).default("0.00"),royalty:Ht("royalty",{precision:10,scale:2}).default("0.00"),fileName:H("file_name"),createdAt:We("created_at").defaultNow()}),ZTe=zt("ai_generations",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),projectId:H("project_id").references(()=>oP.id,{onDelete:"cascade"}),bookId:H("book_id").references(()=>il.id,{onDelete:"cascade"}),type:H("type").notNull(),prompt:ut("prompt").notNull(),response:ut("response").notNull(),tokensUsed:St("tokens_used").default(0),model:H("model").default("gpt-4o"),cost:Ht("cost",{precision:10,scale:4}).default("0.0000"),createdAt:We("created_at").defaultNow()}),JTe=zt("ai_prompt_templates",{id:H("id").primaryKey().default(It`gen_random_uuid()`),name:H("name").notNull().unique(),type:H("type").notNull(),systemPrompt:ut("system_prompt").notNull(),userPromptTemplate:ut("user_prompt_template").notNull(),model:H("model").default("gpt-4o"),maxTokens:St("max_tokens").default(2e3),temperature:Ht("temperature",{precision:3,scale:2}).default("0.7"),isActive:Ot("is_active").default(!0),isDefault:Ot("is_default").default(!1),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),eEe=zt("ai_models",{id:H("id").primaryKey().default(It`gen_random_uuid()`),name:H("name").notNull().unique(),displayName:H("display_name").notNull(),provider:H("provider").default("openai"),inputPricePer1kTokens:Ht("input_price_per_1k_tokens",{precision:10,scale:6}),outputPricePer1kTokens:Ht("output_price_per_1k_tokens",{precision:10,scale:6}),maxTokens:St("max_tokens").default(4096),contextWindow:St("context_window").default(128e3),isAvailable:Ot("is_available").default(!0),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),tEe=zt("ai_usage_limits",{id:H("id").primaryKey().default(It`gen_random_uuid()`),subscriptionTier:H("subscription_tier").notNull().unique(),monthlyTokenLimit:St("monthly_token_limit"),dailyRequestLimit:St("daily_request_limit"),maxTokensPerRequest:St("max_tokens_per_request").default(4e3),allowedModels:ut("allowed_models").array(),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),rEe=zt("series",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),title:ut("title").notNull(),language:H("language").notNull().default("english"),readingOrder:H("reading_order").notNull().default("unordered"),description:ut("description"),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),nEe=zt("marketplace_categories",{id:H("id").primaryKey().default(It`gen_random_uuid()`),marketplace:H("marketplace").notNull(),categoryPath:ut("category_path").notNull(),parentPath:ut("parent_path"),level:St("level").notNull().default(1),displayName:H("display_name").notNull(),isSelectable:Ot("is_selectable").default(!0),sortOrder:St("sort_order").default(0),isActive:Ot("is_active").default(!0),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),iEe=zt("content_recommendations",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),bookId:H("book_id").notNull().references(()=>il.id,{onDelete:"cascade"}),recommendationType:H("recommendation_type").notNull(),title:H("title").notNull(),suggestion:ut("suggestion").notNull(),reasoning:ut("reasoning"),confidence:Ht("confidence",{precision:3,scale:2}).default("0.5"),isApplied:Ot("is_applied").default(!1),isUseful:Ot("is_useful"),metadata:Ws("metadata"),aiModel:H("ai_model").default("gpt-4o"),tokensUsed:St("tokens_used").default(0),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),sEe=zt("system_config",{key:H("key").primaryKey(),value:ut("value"),description:ut("description"),updatedBy:H("updated_by").references(()=>vn.id),updatedAt:We("updated_at").defaultNow()}),aEe=zt("admin_audit_log",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),action:H("action").notNull(),resource:H("resource").notNull(),resourceId:H("resource_id"),details:Ws("details"),ipAddress:H("ip_address"),userAgent:ut("user_agent"),createdAt:We("created_at").defaultNow()}),oq=zt("blog_categories",{id:H("id").primaryKey().default(It`gen_random_uuid()`),name:H("name").notNull().unique(),slug:H("slug").notNull().unique(),description:ut("description"),color:H("color").default("#3B82F6"),isActive:Ot("is_active").default(!0),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),lq=zt("blog_posts",{id:H("id").primaryKey().default(It`gen_random_uuid()`),title:H("title").notNull(),slug:H("slug").notNull().unique(),excerpt:ut("excerpt"),content:ut("content").notNull(),featuredImage:H("featured_image"),authorId:H("author_id").notNull().references(()=>vn.id),categoryId:H("category_id").references(()=>oq.id),status:H("status").default("draft"),publishedAt:We("published_at"),metaTitle:H("meta_title"),metaDescription:ut("meta_description"),tags:ut("tags").array(),viewCount:St("view_count").default(0),isCommentEnabled:Ot("is_comment_enabled").default(!0),isFeatured:Ot("is_featured").default(!1),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),oEe=zt("blog_comments",{id:H("id").primaryKey().default(It`gen_random_uuid()`),postId:H("post_id").notNull().references(()=>lq.id,{onDelete:"cascade"}),authorId:H("author_id").references(()=>vn.id),authorName:H("author_name"),authorEmail:H("author_email"),content:ut("content").notNull(),status:H("status").default("pending"),parentId:H("parent_id"),isVerified:Ot("is_verified").default(!1),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),cq=zt("authors",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),prefix:H("prefix"),firstName:H("first_name").notNull(),middleName:H("middle_name"),lastName:H("last_name").notNull(),suffix:H("suffix"),fullName:H("full_name").notNull(),isActive:Ot("is_active").default(!0),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),lEe=zt("author_biographies",{id:H("id").primaryKey().default(It`gen_random_uuid()`),authorId:H("author_id").notNull().references(()=>cq.id,{onDelete:"cascade"}),language:H("language").notNull(),biography:ut("biography"),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()}),cEe=Gd("import_status",["pending","processing","completed","failed"]),lP=Gd("import_file_type",["payments","prior_month_royalties","kenp_read","dashboard","royalties_estimator","orders","unknown"]),ob=zt("kdp_imports",{id:H("id").primaryKey().default(It`gen_random_uuid()`),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),fileName:H("file_name").notNull(),fileType:H("file_type").notNull(),fileSize:St("file_size").notNull(),detectedType:lP("detected_type"),status:cEe("status").default("pending"),progress:St("progress").default(0),totalRecords:St("total_records").default(0),processedRecords:St("processed_records").default(0),errorRecords:St("error_records").default(0),duplicateRecords:St("duplicate_records").default(0),rawData:Ws("raw_data"),mappingConfig:Ws("mapping_config"),errorLog:ut("error_log").array().default([]),summary:Ws("summary"),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow(),completedAt:We("completed_at")}),uq=zt("marketplaces",{id:H("id").primaryKey().default(It`gen_random_uuid()`),rawName:H("raw_name").notNull().unique(),code:H("code").notNull().unique(),country:H("country"),languageHint:H("language_hint"),currency:H("currency"),createdAt:We("created_at").defaultNow()});zt("book_identifiers",{id:H("id").primaryKey().default(It`gen_random_uuid()`),bookId:H("book_id").references(()=>il.id,{onDelete:"cascade"}),type:H("type").notNull(),value:H("value").notNull(),marketplaceId:H("marketplace_id").references(()=>uq.id),isActive:Ot("is_active").default(!0),createdAt:We("created_at").defaultNow()},e=>({uniqueIdentifier:rV("unique_identifier").on(e.type,e.value)}));const dq=zt("product_variants",{id:H("id").primaryKey().default(It`gen_random_uuid()`),bookId:H("book_id").notNull().references(()=>il.id,{onDelete:"cascade"}),format:ab("format").notNull(),marketplaceId:H("marketplace_id").references(()=>uq.id),asin:H("asin"),isbn:H("isbn"),price:Ht("price",{precision:10,scale:2}),currency:H("currency"),isActive:Ot("is_active").default(!0),createdAt:We("created_at").defaultNow()},e=>({uniqueVariant:rV("unique_variant").on(e.bookId,e.format,e.marketplaceId)})),uEe=zt("sales_events",{id:H("id").primaryKey().default(It`gen_random_uuid()`),variantId:H("variant_id").notNull().references(()=>dq.id,{onDelete:"cascade"}),importId:H("import_id").notNull().references(()=>ob.id,{onDelete:"cascade"}),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),eventDate:qs("event_date"),reportingPeriod:H("reporting_period"),unitsSold:St("units_sold").default(0),unitsRefunded:St("units_refunded").default(0),netUnitsSold:St("net_units_sold").default(0),originalCurrency:H("original_currency").notNull(),originalRoyalty:Ht("original_royalty",{precision:12,scale:4}),originalListPrice:Ht("original_list_price",{precision:10,scale:2}),originalOfferPrice:Ht("original_offer_price",{precision:10,scale:2}),deliveryCost:Ht("delivery_cost",{precision:10,scale:2}),manufacturingCost:Ht("manufacturing_cost",{precision:10,scale:2}),royaltyRate:H("royalty_rate"),transactionType:H("transaction_type"),fileSize:Ht("file_size",{precision:6,scale:2}),sourceType:lP("source_type"),sheetName:H("sheet_name"),rowIndex:St("row_index"),isDuplicate:Ot("is_duplicate").default(!1),duplicateOfId:H("duplicate_of_id").references(()=>uEe.id),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()});zt("kenp_reads",{id:H("id").primaryKey().default(It`gen_random_uuid()`),variantId:H("variant_id").notNull().references(()=>dq.id,{onDelete:"cascade"}),importId:H("import_id").notNull().references(()=>ob.id,{onDelete:"cascade"}),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),readDate:qs("read_date"),reportingPeriod:H("reporting_period"),kenpPages:St("kenp_pages").default(0),originalCurrency:H("original_currency"),originalRoyalty:Ht("original_royalty",{precision:12,scale:4}),sourceType:lP("source_type"),isDuplicate:Ot("is_duplicate").default(!1),createdAt:We("created_at").defaultNow()});const dEe=zt("kdp_import_data",{id:H("id").primaryKey().default(It`gen_random_uuid()`),importId:H("import_id").notNull().references(()=>ob.id,{onDelete:"cascade"}),userId:H("user_id").notNull().references(()=>vn.id,{onDelete:"cascade"}),asin:H("asin"),isbn:H("isbn"),title:ut("title"),authorName:H("author_name"),marketplace:H("marketplace"),salesDate:qs("sales_date"),unitsSold:St("units_sold").default(0),unitsRefunded:St("units_refunded").default(0),netUnitsSold:St("net_units_sold").default(0),currency:H("currency"),listPrice:Ht("list_price",{precision:10,scale:2}),offerPrice:Ht("offer_price",{precision:10,scale:2}),royalty:Ht("royalty",{precision:10,scale:2}),royaltyRate:H("royalty_rate"),earnings:Ht("earnings",{precision:10,scale:2}),kenpRead:St("kenp_read").default(0),transactionType:H("transaction_type"),paymentStatus:H("payment_status"),format:ab("format"),fileSize:Ht("file_size",{precision:6,scale:2}),deliveryCost:Ht("delivery_cost",{precision:10,scale:2}),manufacturingCost:Ht("manufacturing_cost",{precision:10,scale:2}),rowIndex:St("row_index"),sheetName:H("sheet_name"),rawRowData:Ws("raw_row_data"),isProcessed:Ot("is_processed").default(!1),isDuplicate:Ot("is_duplicate").default(!1),matchedBookId:H("matched_book_id").references(()=>il.id),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()});br(vn).omit({id:!0,createdAt:!0,updatedAt:!0});const fq=br(oP).omit({id:!0,createdAt:!0,updatedAt:!0,totalSales:!0,totalRevenue:!0}),fEe=br(il).omit({id:!0,createdAt:!0,updatedAt:!0,totalSales:!0,totalRevenue:!0,monthlyRevenue:!0}).extend({contributors:Ut.array(Ut.object({name:Ut.string().min(1,"Name is required"),role:Ut.string().min(1,"Role is required"),prefix:Ut.string().optional(),firstName:Ut.string().optional(),middleName:Ut.string().optional(),lastName:Ut.string().optional(),suffix:Ut.string().optional()})).optional()});br(iEe).omit({id:!0,createdAt:!0,updatedAt:!0});br(YTe).omit({id:!0,createdAt:!0});br(XTe).omit({id:!0,createdAt:!0});br(ZTe).omit({id:!0,createdAt:!0});br(JTe).omit({id:!0,createdAt:!0,updatedAt:!0});br(eEe).omit({id:!0,createdAt:!0,updatedAt:!0});br(tEe).omit({id:!0,createdAt:!0,updatedAt:!0});br(sEe);br(aEe).omit({id:!0,createdAt:!0});zt("exchange_rates",{id:H("id").primaryKey().default(It`gen_random_uuid()`),fromCurrency:H("from_currency",{length:3}).notNull(),toCurrency:H("to_currency",{length:3}).notNull(),rate:Ht("rate",{precision:12,scale:6}).notNull(),date:H("date",{length:10}).notNull(),createdAt:We("created_at").defaultNow(),updatedAt:We("updated_at").defaultNow()},e=>[K9("idx_exchange_rates_currencies_date").on(e.fromCurrency,e.toCurrency,e.date)]);br(rEe).omit({id:!0,createdAt:!0,updatedAt:!0});br(cq).omit({id:!0,fullName:!0,createdAt:!0,updatedAt:!0});br(lEe).omit({id:!0,createdAt:!0,updatedAt:!0});br(nEe).omit({id:!0,createdAt:!0,updatedAt:!0});br(oq).omit({id:!0,createdAt:!0,updatedAt:!0});br(lq).omit({id:!0,createdAt:!0,updatedAt:!0,viewCount:!0});br(oEe).omit({id:!0,createdAt:!0,updatedAt:!0});br(ob).omit({id:!0,createdAt:!0,updatedAt:!0,completedAt:!0});br(dEe).omit({id:!0,createdAt:!0,updatedAt:!0});const hEe=fq.pick({name:!0,description:!0}).extend({attachExistingBook:Ut.boolean().optional(),selectedBookId:Ut.string().optional(),createNewBook:Ut.boolean().optional()});function fO(){const[,e]=$n(),[t,r]=j.useState(!1),{toast:n}=Pt(),s=dr(),a=Kd({resolver:nP(hEe),defaultValues:{name:"",description:"",attachExistingBook:!1,createNewBook:!1}}),{data:o=[]}=ze({queryKey:["/api/books"],enabled:t}),l=o.sort((d,f)=>{const h=d.projectId?1:0,p=f.projectId?1:0;return h!==p?h-p:d.title.localeCompare(f.title)}),c=Qe({mutationFn:async d=>{console.log("Creating project:",d);const f=await $e("POST","/api/projects",{name:d.name,description:d.description});if(console.log("Project created:",f),d.attachExistingBook&&d.selectedBookId){const h=o.find(p=>p.id===d.selectedBookId);if(h!=null&&h.projectId)throw new Error("This book is already attached to another project. Please select a different book.");await $e("PATCH",`/api/books/${d.selectedBookId}`,{projectId:f.id})}else if(d.createNewBook)return e(`/books/create?projectId=${f.id}`),f;return f},onSuccess:d=>{s.invalidateQueries({queryKey:["/api/projects"]}),n({title:"Project Created",description:"Your project has been created successfully."}),a.getValues("createNewBook")||e("/projects")},onError:d=>{console.error("Project creation error:",d),n({title:"Error",description:d.message||"Failed to create project",variant:"destructive"})}}),u=d=>{a.setValue("name",d),d.trim()&&!t&&r(!0)};return i.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-background",children:[i.jsx(OS,{}),i.jsxs("div",{className:"flex",children:[i.jsx(MS,{}),i.jsx("main",{className:"flex-1 ml-64 pt-16",children:i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs(F,{variant:"ghost",onClick:()=>e("/projects"),className:"mb-4",children:[i.jsx(En,{className:"mr-2 h-4 w-4"}),"Back to Projects"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(zL,{className:"h-8 w-8 text-primary"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Create New Project"}),i.jsx("p",{className:"text-muted-foreground",children:"Create a project to organize your KDP books"})]})]})]}),i.jsxs(Z,{className:"max-w-2xl",children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Project Information"}),i.jsx(Ue,{children:"A project allows you to group multiple books (ebook, paperback, audiobook) under the same theme or series."})]}),i.jsx(ee,{children:i.jsxs("form",{onSubmit:a.handleSubmit(d=>c.mutate(d)),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"name",children:"Project Name *"}),i.jsx(_e,{...a.register("name"),placeholder:"Ex: Google Analytics Guide, Fantasy Romance Series...",onChange:d=>u(d.target.value),className:"mt-1"}),a.formState.errors.name&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.formState.errors.name.message})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"description",children:"Description (Optional)"}),i.jsx(bs,{...a.register("description"),placeholder:"Briefly describe your project...",rows:3,className:"resize-none mt-1"})]}),t&&i.jsxs(Z,{className:"border-dashed",children:[i.jsxs(oe,{className:"pb-4",children:[i.jsxs(le,{className:"text-lg flex items-center gap-2",children:[i.jsx(Pr,{className:"h-5 w-5"}),"Project Books"]}),i.jsx(Ue,{children:"You can attach an existing book or create a new book for this project."})]}),i.jsxs(ee,{className:"space-y-4",children:[Array.isArray(o)&&o.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Sa,{id:"attachExisting",checked:a.watch("attachExistingBook"),onCheckedChange:d=>{a.setValue("attachExistingBook",!!d),d&&a.setValue("createNewBook",!1)}}),i.jsx(ne,{htmlFor:"attachExisting",children:"Attach an existing book"})]}),a.watch("attachExistingBook")&&i.jsxs(et,{value:a.watch("selectedBookId")||"",onValueChange:d=>a.setValue("selectedBookId",d),children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select a book"})}),i.jsx(Je,{children:l.map(d=>{const f=!!d.projectId,h=f?`${d.title} (Already attached to a project)`:`${d.title} (${d.format})`;return i.jsx(U,{value:d.id,disabled:f,className:f?"opacity-50 cursor-not-allowed":"",children:h},d.id)})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Sa,{id:"createNew",checked:a.watch("createNewBook"),onCheckedChange:d=>{a.setValue("createNewBook",!!d),d&&(a.setValue("attachExistingBook",!1),a.setValue("selectedBookId",""))}}),i.jsx(ne,{htmlFor:"createNew",children:"Create a new book for this project"})]}),!a.watch("attachExistingBook")&&!a.watch("createNewBook")&&i.jsx("div",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded",children:"💡 You can add books later from the project page"})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-4",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>e("/projects"),children:"Cancel"}),i.jsx(F,{type:"submit",disabled:c.isPending,className:"bg-primary hover:bg-primary/90",children:c.isPending?i.jsxs(i.Fragment,{children:[i.jsx(ao,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(nr,{className:"mr-2 h-4 w-4"}),a.watch("createNewBook")?"Create and Add Book":"Create Project"]})})]})]})})]})]})})]})]})}const mEe=fq.pick({name:!0,description:!0});function pEe(){const[e,t]=$n(),{toast:r}=Pt(),n=dr(),s=e.split("/").pop(),a=Kd({resolver:nP(mEe),defaultValues:{name:"",description:""}}),{data:o,isLoading:l}=ze({queryKey:["/api/projects",s],enabled:!!s});j.useEffect(()=>{o&&a.reset({name:o.name||"",description:o.description||""})},[o,a]);const c=Qe({mutationFn:async u=>{console.log("Updating project:",s,u);const d=await $e("PUT",`/api/projects/${s}`,{name:u.name,description:u.description});return console.log("Project updated:",d),d},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/projects"]}),n.invalidateQueries({queryKey:["/api/projects",s]}),r.success({title:"Project Updated",description:"Your project has been updated successfully."}),t("/projects")},onError:u=>{console.error("Project update error:",u),r.error({title:"Error",description:u.message||"Failed to update project"})}});return l?i.jsx(ft,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(ao,{className:"w-8 h-8 animate-spin"})})}):o?i.jsx(ft,{children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[i.jsx(En,{className:"w-5 h-5 text-gray-600 cursor-pointer hover:text-gray-800",onClick:()=>t("/projects")}),i.jsx(zL,{className:"w-6 h-6 text-blue-500"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Project"}),i.jsx("p",{className:"text-gray-600",children:"Update your project details"})]})]}),i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border",children:i.jsx("div",{className:"p-6",children:i.jsxs("form",{onSubmit:a.handleSubmit(u=>c.mutate(u)),children:[i.jsx("div",{className:"space-y-6",children:i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Project Information"}),i.jsx(Ue,{children:"Basic details about your project"})]}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"name",children:"Project Name"}),i.jsx(_e,{id:"name",...a.register("name"),placeholder:"Enter project name...",className:"mt-1"}),a.formState.errors.name&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.formState.errors.name.message})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"description",children:"Description"}),i.jsx(bs,{id:"description",...a.register("description"),placeholder:"Describe your project...",rows:4,className:"mt-1"}),a.formState.errors.description&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.formState.errors.description.message})]})]})]})}),i.jsxs("div",{className:"flex justify-between items-center pt-6 border-t mt-6",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>t("/projects"),children:"Cancel"}),i.jsx(F,{type:"submit",disabled:c.isPending,className:"bg-blue-500 hover:bg-blue-600",children:c.isPending?i.jsxs(i.Fragment,{children:[i.jsx(ao,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Project"})]})]})})})]})}):i.jsx(ft,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Project Not Found"}),i.jsxs(F,{onClick:()=>t("/projects"),variant:"outline",children:[i.jsx(En,{className:"w-4 h-4 mr-2"}),"Back to Projects"]})]})})}var cP="Radio",[gEe,hq]=Kr(cP),[vEe,xEe]=gEe(cP),mq=j.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=j.useState(null),p=ht(t,v=>h(v)),g=j.useRef(!1),m=f?u||!!f.closest("form"):!0;return i.jsxs(vEe,{scope:r,checked:s,disabled:o,children:[i.jsx(Re.button,{type:"button",role:"radio","aria-checked":s,"data-state":vq(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:je(e.onClick,v=>{s||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&i.jsx(yEe,{control:f,bubbles:!g.current,name:n,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});mq.displayName=cP;var pq="RadioIndicator",gq=j.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,a=xEe(pq,r);return i.jsx(Gn,{present:n||a.checked,children:i.jsx(Re.span,{"data-state":vq(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});gq.displayName=pq;var yEe=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,a=j.useRef(null),o=oy(r),l=Qx(t);return j.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vq(e){return e?"checked":"unchecked"}var bEe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],uP="RadioGroup",[jEe,jOe]=Kr(uP,[_d,hq]),xq=_d(),yq=hq(),[wEe,NEe]=jEe(uP),bq=j.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=xq(r),g=Fm(u),[m,v]=Wi({prop:a,defaultProp:s,onChange:f});return i.jsx(wEe,{scope:r,name:n,required:o,disabled:l,value:m,onValueChange:v,children:i.jsx(bS,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:i.jsx(Re.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});bq.displayName=uP;var jq="RadioGroupItem",wq=j.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,a=NEe(jq,r),o=a.disabled||n,l=xq(r),c=yq(r),u=j.useRef(null),d=ht(t,u),f=a.value===s.value,h=j.useRef(!1);return j.useEffect(()=>{const p=m=>{bEe.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),i.jsx(jS,{asChild:!0,...l,focusable:!o,active:f,children:i.jsx(mq,{disabled:o,required:a.required,checked:f,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:je(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:je(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});wq.displayName=jq;var SEe="RadioGroupIndicator",Nq=j.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=yq(r);return i.jsx(gq,{...s,...n,ref:t})});Nq.displayName=SEe;var Sq=bq,Cq=wq,CEe=Nq;const Ll=j.forwardRef(({className:e,...t},r)=>i.jsx(Sq,{className:xe("grid gap-2",e),...t,ref:r}));Ll.displayName=Sq.displayName;const ni=j.forwardRef(({className:e,...t},r)=>i.jsx(Cq,{ref:r,className:xe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(CEe,{className:"flex items-center justify-center",children:i.jsx(BL,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ni.displayName=Cq.displayName;var dP="Collapsible",[PEe,wOe]=Kr(dP),[kEe,fP]=PEe(dP),Pq=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c=!1,u]=Wi({prop:n,defaultProp:s,onChange:o});return i.jsx(kEe,{scope:r,disabled:a,contentId:zi(),open:c,onOpenToggle:j.useCallback(()=>u(d=>!d),[u]),children:i.jsx(Re.div,{"data-state":mP(c),"data-disabled":a?"":void 0,...l,ref:t})})});Pq.displayName=dP;var kq="CollapsibleTrigger",_q=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=fP(kq,r);return i.jsx(Re.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":mP(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:je(e.onClick,s.onOpenToggle)})});_q.displayName=kq;var hP="CollapsibleContent",Aq=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=fP(hP,e.__scopeCollapsible);return i.jsx(Gn,{present:r||s.open,children:({present:a})=>i.jsx(_Ee,{...n,ref:t,present:a})})});Aq.displayName=hP;var _Ee=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=fP(hP,r),[l,c]=j.useState(n),u=j.useRef(null),d=ht(t,u),f=j.useRef(0),h=f.current,p=j.useRef(0),g=p.current,m=o.open||l,v=j.useRef(m),x=j.useRef(void 0);return j.useEffect(()=>{const y=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(y)},[]),_r(()=>{const y=u.current;if(y){x.current=x.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const b=y.getBoundingClientRect();f.current=b.height,p.current=b.width,v.current||(y.style.transitionDuration=x.current.transitionDuration,y.style.animationName=x.current.animationName),c(n)}},[o.open,n]),i.jsx(Re.div,{"data-state":mP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&s})});function mP(e){return e?"open":"closed"}var AEe=Pq;const TEe=AEe,EEe=_q,OEe=Aq,MEe=e=>{switch(e){case"keywords":return i.jsx(Y1,{className:"w-4 h-4"});case"categories":return i.jsx(ZG,{className:"w-4 h-4"});case"title":return i.jsx(Fo,{className:"w-4 h-4"});case"description":return i.jsx(Fo,{className:"w-4 h-4"});case"marketing":return i.jsx(bi,{className:"w-4 h-4"});case"pricing":return i.jsx(yi,{className:"w-4 h-4"});default:return i.jsx(Kg,{className:"w-4 h-4"})}},IEe=e=>e>=.8?"text-green-600 border-green-200 bg-green-50":e>=.6?"text-yellow-600 border-yellow-200 bg-yellow-50":"text-red-600 border-red-200 bg-red-50";function DEe({bookId:e,isVisible:t,onToggle:r}){const[n,s]=j.useState(new Set),{toast:a}=Pt(),o=dr(),{data:l=[],isLoading:c,error:u}=ze({queryKey:["/api/books",e,"recommendations"],enabled:!!e&&t}),d=Qe({mutationFn:()=>$e("POST",`/api/books/${e}/recommendations/generate`),onSuccess:v=>{o.setQueryData(["/api/books",e,"recommendations"],v),a({title:"Recommendations Generated",description:`Generated ${v.length} new recommendations using AI.`})},onError:v=>{a({title:"Generation Failed",description:v.message||"Failed to generate recommendations",variant:"destructive"})}}),f=Qe({mutationFn:({recommendationId:v,isUseful:x,isApplied:y})=>$e("PUT",`/api/recommendations/${v}/feedback`),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/books",e,"recommendations"]})},onError:v=>{a({title:"Feedback Failed",description:v.message||"Failed to submit feedback",variant:"destructive"})}}),h=Qe({mutationFn:v=>$e("DELETE",`/api/recommendations/${v}`),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/books",e,"recommendations"]}),a({title:"Recommendation Removed",description:"Recommendation deleted successfully."})},onError:v=>{a({title:"Delete Failed",description:v.message||"Failed to delete recommendation",variant:"destructive"})}}),p=v=>{s(x=>{const y=new Set(x);return y.has(v)?y.delete(v):y.add(v),y})},g=(v,x)=>{f.mutate({recommendationId:v.id,isUseful:x,isApplied:v.isApplied??!1})},m=v=>{f.mutate({recommendationId:v.id,isUseful:v.isUseful??!0,isApplied:!0})};return t?i.jsxs("div",{className:"w-80 border-l bg-gray-50 flex flex-col h-full",children:[i.jsxs("div",{className:"p-4 border-b bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kg,{className:"w-5 h-5 text-blue-600"}),i.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Recommendations"})]}),i.jsx(F,{variant:"ghost",size:"sm",onClick:r,className:"p-1",children:i.jsx(ji,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Get intelligent suggestions to improve your book's success"}),i.jsx(F,{onClick:()=>d.mutate(),disabled:d.isPending,className:"w-full",size:"sm",children:d.isPending?i.jsxs(i.Fragment,{children:[i.jsx(or,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(or,{className:"w-4 h-4 mr-2"}),"Generate Recommendations"]})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[c&&i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(or,{className:"w-6 h-6 animate-spin text-gray-400"})}),u&&i.jsx(Z,{className:"border-red-200 bg-red-50",children:i.jsx(ee,{className:"p-4",children:i.jsx("p",{className:"text-sm text-red-600",children:"Failed to load recommendations. Try generating new ones."})})}),l.length===0&&!c&&!u&&i.jsx(Z,{className:"border-blue-200 bg-blue-50",children:i.jsxs(ee,{className:"p-4 text-center",children:[i.jsx(Kg,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"No recommendations yet"}),i.jsx("p",{className:"text-xs text-blue-600",children:"Generate AI recommendations to get intelligent suggestions for improving your book."})]})}),l.map(v=>i.jsx(Z,{className:"border-gray-200",children:i.jsxs(TEe,{open:n.has(v.id),onOpenChange:()=>p(v.id),children:[i.jsx(EEe,{asChild:!0,children:i.jsx(oe,{className:"p-3 cursor-pointer hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"mt-0.5",children:MEe(v.recommendationType)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(le,{className:"text-sm font-medium text-gray-900 truncate",children:v.title}),i.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[i.jsxs(me,{variant:"outline",className:`text-xs ${IEe(Number(v.confidence)||.7)}`,children:[i.jsx(XG,{className:"w-3 h-3 mr-1"}),Math.round((Number(v.confidence)||.7)*100),"%"]}),n.has(v.id)?i.jsx(Ux,{className:"w-4 h-4 text-gray-400"}):i.jsx(FL,{className:"w-4 h-4 text-gray-400"})]})]}),i.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:v.suggestion})]})]})})}),i.jsx(OEe,{children:i.jsxs(ee,{className:"p-3 pt-0",children:[i.jsx(Sl,{className:"mb-3"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Suggestion"}),i.jsx("p",{className:"text-sm text-gray-900 leading-relaxed",children:v.suggestion})]}),v.reasoning&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Reasoning"}),i.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:v.reasoning})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[v.isApplied&&i.jsxs(me,{variant:"default",className:"text-xs bg-green-100 text-green-700",children:[i.jsx(ba,{className:"w-3 h-3 mr-1"}),"Applied"]}),v.isUseful===!0&&i.jsxs(me,{variant:"outline",className:"text-xs border-green-200 text-green-700",children:[i.jsx(o_,{className:"w-3 h-3 mr-1"}),"Helpful"]}),v.isUseful===!1&&i.jsxs(me,{variant:"outline",className:"text-xs border-red-200 text-red-700",children:[i.jsx(a_,{className:"w-3 h-3 mr-1"}),"Not helpful"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[!v.isApplied&&i.jsxs(F,{variant:"outline",size:"sm",onClick:()=>m(v),disabled:f.isPending,className:"h-6 px-2 text-xs",children:[i.jsx(ba,{className:"w-3 h-3 mr-1"}),"Apply"]}),v.isUseful===void 0&&i.jsxs(i.Fragment,{children:[i.jsx(F,{variant:"ghost",size:"sm",onClick:()=>g(v,!0),disabled:f.isPending,className:"h-6 w-6 p-0 text-green-600 hover:bg-green-50",children:i.jsx(o_,{className:"w-3 h-3"})}),i.jsx(F,{variant:"ghost",size:"sm",onClick:()=>g(v,!1),disabled:f.isPending,className:"h-6 w-6 p-0 text-red-600 hover:bg-red-50",children:i.jsx(a_,{className:"w-3 h-3"})})]}),i.jsx(F,{variant:"ghost",size:"sm",onClick:()=>h.mutate(v.id),disabled:h.isPending,className:"h-6 w-6 p-0 text-gray-400 hover:text-red-600 hover:bg-red-50",children:i.jsx(ji,{className:"w-3 h-3"})})]})]})]})]})})]})},v.id))]})]}):null}const $Ee=fEe.extend({projectId:Ut.string().min(1,"Project selection is required")}),REe=["English","German","French","Spanish","Italian","Portuguese","Dutch","Japanese","Afrikaans","Arabic (Beta)","Basque","Breton","Catalan","Chinese (Traditional) (Beta)","Cornish","Corsican","Danish","Eastern Frisian","Finnish","Frisian","Galician","Gujarati","Hindi","Icelandic","Irish","Luxembourgish","Malayalam","Manx","Marathi","Northern Frisian","Norwegian","Nynorsk Norwegian","Romanian","Scots","Scottish Gaelic","Swedish","Tamil","Welsh"],hO=["Amazon.com","Amazon.co.uk","Amazon.de","Amazon.fr","Amazon.es","Amazon.it","Amazon.nl","Amazon.pl","Amazon.se","Amazon.co.jp","Amazon.ca","Amazon.com.au"],$0={mostPopular:[{id:"5x8",label:"5 x 8 in",metric:"12.7 x 20.32 cm"},{id:"5.25x8",label:"5.25 x 8 in",metric:"13.34 x 20.32 cm"},{id:"5.5x8.5",label:"5.5 x 8.5 in",metric:"13.97 x 21.59 cm"},{id:"6x9",label:"6 x 9 in",metric:"15.24 x 22.86 cm"}],moreStandard:[{id:"5.06x7.81",label:"5.06 x 7.81 in",metric:"12.85 x 19.84 cm"},{id:"6.14x9.21",label:"6.14 x 9.21 in",metric:"15.6 x 23.39 cm"},{id:"6.69x9.61",label:"6.69 x 9.61 in",metric:"16.99 x 24.4 cm"},{id:"7x10",label:"7 x 10 in",metric:"17.78 x 25.4 cm"},{id:"7.44x9.69",label:"7.44 x 9.69 in",metric:"18.9 x 24.61 cm"},{id:"7.5x9.25",label:"7.5 x 9.25 in",metric:"19.05 x 23.5 cm"},{id:"8x10",label:"8 x 10 in",metric:"20.32 x 25.4 cm"},{id:"8.5x11",label:"8.5 x 11 in",metric:"21.59 x 27.94 cm"}],nonStandard:[{id:"8.27x11.69",label:"8.27 x 11.69 in",metric:"21 x 29.7 cm"},{id:"8.25x6",label:"8.25 x 6 in",metric:"20.96 x 15.24 cm"},{id:"8.25x8.25",label:"8.25 x 8.25 in",metric:"20.96 x 20.96 cm"},{id:"8.5x8.5",label:"8.5 x 8.5 in",metric:"21.59 x 21.59 cm"}]},LEe=({marketplaceCategories:e,selectedCategories:t,tempUISelections:r,setTempUISelections:n,onCategorySelect:s,onCategoryRemove:a,resetTrigger:o,instanceId:l})=>{const c=j.useMemo(()=>{if(e.length===0)return 3;const x=Math.min(...e.map(b=>b.level));if(x>=4){const b=new Set;return e.forEach(N=>{const S=N.categoryPath.replace(/^Books > /,"").replace(/kindle_ebook > |print_kdp_paperback > /,"").split(" > ");for(let C=1;C<=S.length;C++)b.add(C+1)}),Math.max(...b)-1}const y=Math.max(...e.map(b=>b.level));return Math.max(y-x,1)},[e]),[u,d]=j.useState([]),[f,h]=j.useState(""),[p,g]=j.useState(!1);j.useEffect(()=>{d(new Array(c).fill(""))},[c]),j.useEffect(()=>{o!==void 0&&d(new Array(c).fill(""))},[o,c]),j.useEffect(()=>{if(e.length===0||p)return;const x=l?parseInt(l.split("-")[1]):0,y=r[x]||t[x];if(f===y)return;if(h(y||""),!y){u.some(N=>N!=="")&&d(new Array(c).fill(""));return}const b=e.find(N=>N.categoryPath===y);if(b){if((u.filter(w=>w!=="").pop()||"")===y)return;setTimeout(()=>{const w=b.categoryPath.split(" > "),S=new Array(c).fill("");if(Math.min(...e.map(P=>P.level))>=4){const A=b.categoryPath.replace(/^Books > /,"").replace(/kindle_ebook > |print_kdp_paperback > /,"").split(" > ");for(let O=0;O<Math.min(A.length,c);O++){const T="Books > "+(b.categoryPath.includes("kindle_ebook")?"kindle_ebook":"print_kdp_paperback")+" > "+A.slice(0,O+1).join(" > ");S[O]=T}}else for(let P=0;P<Math.min(w.length-1,c);P++){const A=w.slice(0,P+2).join(" > ");S[P]=A}JSON.stringify(S)!==JSON.stringify(u)&&d(S)},10)}},[t,e,l,f,p,r]);const m=(x,y)=>{const b=e.length>0?Math.min(...e.map(N=>N.level)):3;if(b>=4){const N=new Set;e.forEach(S=>{const k=S.categoryPath.replace(/^Books > /,"").replace(/kindle_ebook > |print_kdp_paperback > /,"").split(" > ");for(let P=1;P<=k.length;P++){const A="Books > "+(S.categoryPath.includes("kindle_ebook")?"kindle_ebook > ":"print_kdp_paperback > ")+k.slice(0,P).join(" > ");N.add(A)}});const w=Array.from(N).map(S=>{const C=S.split(" > "),k=C[C.length-1],P=C.slice(0,-1).join(" > ");return{id:S,categoryPath:S,displayName:k,level:C.length-1,parentPath:P,isSelectable:e.some(A=>A.categoryPath===S),sortOrder:0}});return x===2?w.filter(S=>S.level===2).sort((S,C)=>S.displayName.localeCompare(C.displayName)):w.filter(S=>S.level===x&&S.parentPath===y).sort((S,C)=>S.displayName.localeCompare(C.displayName))}return x===b?e.filter(N=>N.level===b).sort((N,w)=>N.sortOrder-w.sortOrder):e.filter(N=>N.level===x&&N.parentPath===y).sort((N,w)=>N.sortOrder-w.sortOrder)},v=()=>{const x=u.filter(b=>b!=="").pop()||"";return x?e.filter(b=>!(b.categoryPath.startsWith(x+" > ")||b.categoryPath===x)||!b.isSelectable?!1:!e.some(S=>S.parentPath===b.categoryPath)).sort((b,N)=>b.level!==N.level?N.level-b.level:b.displayName.localeCompare(N.displayName)):[]};return i.jsxs("div",{className:"grid grid-cols-2 gap-4 min-w-[600px]",children:[i.jsx("div",{className:"space-y-4",children:Array.from({length:c},(x,y)=>{const b=e.length>0?Math.min(...e.map(k=>k.level)):3,N=b>=4?y+2:y+b,w=y===0?void 0:u[y-1];if(!(y===0||w&&w!==""))return null;const C=m(N,w);return C.length===0?null:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{className:"text-sm font-medium",children:y===0?"Category":"Subcategory"}),i.jsxs(et,{value:u[y]||"",onValueChange:k=>{const P=[...u];P[y]=k;for(let A=y+1;A<c;A++)P[A]="";d(P)},children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:y===0?"Select category":"Select subcategory"})}),i.jsx(Je,{children:C.map(k=>i.jsx(U,{value:k.categoryPath,children:i.jsx("span",{className:"text-left",children:k.displayName})},k.id))})]})]},`level-${N}`)})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{className:"text-sm font-medium",children:"Placement"}),i.jsx("div",{className:"bg-gray-50 rounded border p-4 h-fit",children:i.jsxs("div",{className:"grid grid-cols-1 gap-3 max-h-80 overflow-y-auto",children:[v().map(x=>{const y=l?parseInt(l.split("-")[1]):0,b=r[y];return i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Sa,{id:`leaf-category-${x.id}`,checked:b===x.categoryPath,onCheckedChange:N=>{console.log("Placement checkbox clicked:",{checked:N,categoryPath:x.categoryPath,tempUISelections:r});const w=l?parseInt(l.split("-")[1]):0;if(N){const S=[...r];S[w]=x.categoryPath,n(S),console.log("Added to temp selections:",x.categoryPath);const C=e.find(k=>k.categoryPath===x.categoryPath);console.log("Found category data:",C),C&&(g(!0),setTimeout(()=>{console.log("Reconstructing navigation for level:",C.level);const k=C.categoryPath.split(" > ");console.log("Category path parts:",k);const P=new Array(c).fill("");if(Math.min(...e.map(M=>M.level))>=4){const T=C.categoryPath.replace(/^Books > /,"").replace(/kindle_ebook > |print_kdp_paperback > /,"").split(" > ");for(let E=0;E<Math.min(T.length,c);E++){const L="Books > "+(C.categoryPath.includes("kindle_ebook")?"kindle_ebook":"print_kdp_paperback")+" > "+T.slice(0,E+1).join(" > ");P[E]=L,console.log(`Virtual hierarchy level ${E+2}:`,L)}}else for(let M=0;M<Math.min(k.length-1,c);M++){const T=k.slice(0,M+2).join(" > ");P[M]=T,console.log(`Setting level ${M+2}:`,T)}d(P),setTimeout(()=>g(!1),500)},50))}else{console.log("Unchecking category from temp selections:",x.categoryPath);const S=[...r];S[w]=void 0,n(S.filter(Boolean))}},className:"mt-0.5"}),i.jsx(ne,{htmlFor:`leaf-category-${x.id}`,className:"text-sm cursor-pointer leading-5",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:x.displayName}),i.jsx("span",{className:"text-xs text-gray-500 mt-0.5",children:x.categoryPath.replace(/^Books > /,"").replace(/kindle_ebook > |print_kdp_paperback > /,"")})]})})]},x.id)}),v().length===0&&i.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:u.some(x=>x!=="")?"No final categories available in this branch.":"Navigate through categories to see placement options."})]})})]})]})};function mO(){var NP;const{bookId:e}=Om(),[t,r]=$n(),[n,s]=j.useState([]),[a,o]=j.useState([]),[l,c]=j.useState([]),[u,d]=j.useState("details"),[f,h]=j.useState(!1),[p,g]=j.useState(!1),[m,v]=j.useState([]),[x,y]=j.useState([]),[b,N]=j.useState(null),[w,S]=j.useState(!1),[C,k]=j.useState(!1),[P,A]=j.useState(""),[O,M]=j.useState(!1),[T,E]=j.useState([]),[I,L]=j.useState(!1),[q,_]=j.useState({}),[$,G]=j.useState(!1),[re,B]=j.useState(""),[ae,Se]=j.useState([]),[Ce,Fe]=j.useState(!1),[ye,K]=j.useState("6x9"),[X,ue]=j.useState(null),[fe,Y]=j.useState(""),[Ye,Be]=j.useState(""),[Tt,At]=j.useState(!1),[Qt,Yr]=j.useState(!1),[Ar,ia]=j.useState(0),Xr=4e3,[z,Q]=j.useState(!1),[ie,ke]=j.useState(""),[Ne,ge]=j.useState(""),[Ee,pt]=j.useState(!1),{toast:yt}=Pt(),tr=dr(),fr=!e,Ln=(D,J)=>{try{const de=document.getElementById("description-editor");if(!de){console.error("Description editor not found");return}if(de.focus(),typeof document.execCommand!="function"){console.error("execCommand is not supported in this browser"),yt({title:"Erreur",description:"Cette fonctionnalité n'est pas supportée dans votre navigateur",variant:"destructive"});return}document.execCommand(D,!1,J)||console.warn(`execCommand failed for command: ${D}`),Yd()}catch(de){console.error("Error applying description formatting:",de),yt({title:"Erreur",description:"Erreur lors de l'application du formatage",variant:"destructive"})}},Yi=D=>{const J=document.createElement("div");J.textContent=D,J.innerHTML,J.innerHTML="";const Oe=new DOMParser().parseFromString(D,"text/html");for(;J.firstChild;)J.removeChild(J.firstChild);const ct=["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN","A"],jt=(gt,xn)=>{if(gt.nodeType===Node.TEXT_NODE)xn.appendChild(document.createTextNode(gt.textContent||""));else if(gt.nodeType===Node.ELEMENT_NODE){const Ci=gt;if(ct.includes(Ci.tagName)){const Tr=document.createElement(Ci.tagName.toLowerCase());if(Ci.tagName==="A"&&Ci.getAttribute("href")){const Br=Ci.getAttribute("href");Br&&(Br.startsWith("http://")||Br.startsWith("https://")||Br.startsWith("mailto:"))&&Tr.setAttribute("href",Br)}xn.appendChild(Tr);for(let Br of Array.from(gt.childNodes))jt(Br,Tr)}else for(let Tr of Array.from(gt.childNodes))jt(Tr,xn)}};for(let gt of Array.from(Oe.body.childNodes))jt(gt,J);return J.querySelectorAll("*").forEach(gt=>{var Ci;const xn=gt.getAttribute("style");if(xn)if(xn.includes("--tw-")||xn.includes("--gradient")||xn.includes("--ring")||xn.includes("--shadow"))gt.removeAttribute("style");else{const Tr=xn.split(";").filter(Br=>{var Xd;const Ga=(Xd=Br.trim().split(":")[0])==null?void 0:Xd.trim();return["color","font-weight","font-style","text-decoration"].includes(Ga)}).join("; ");Tr?gt.setAttribute("style",Tr):gt.removeAttribute("style")}gt.tagName!=="BR"&&!((Ci=gt.textContent)!=null&&Ci.trim())&&gt.children.length===0&&gt.remove()}),J.innerHTML},Yd=()=>{const D=document.getElementById("description-editor");if(!D)return;const J=D.innerHTML,de=Yi(J),Oe=D.innerText||D.textContent||"";ia(Oe.length),ge(de),te.setValue("description",de)},lp=D=>{try{switch(console.log("Applying description format:",D),D){case"heading4":Ln("formatBlock","h4");break;case"heading5":Ln("formatBlock","h5");break;case"heading6":Ln("formatBlock","h6");break;case"normal":Ln("formatBlock","div");break;default:console.warn("Unknown format type:",D)}}catch(J){console.error("Error in handleDescriptionFormatChange:",J),yt({title:"Erreur",description:"Erreur lors du changement de format",variant:"destructive"})}},lb=()=>{ie&&(Ln("createLink",ie),ke(""),Q(!1))},vP=new URLSearchParams(window.location.search).get("projectId");console.log("BookEdit Debug:",{bookId:e,isCreating:fr,location:t,preSelectedProjectId:vP,fullUrl:window.location.href,search:window.location.search});const{data:he,isLoading:xP,error:yP}=ze({queryKey:[`/api/books/${e}`],enabled:!fr,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0});console.log("Query State:",{book:he,bookLoading:xP,error:yP,isCreating:fr});const te=Kd({resolver:nP($Ee),defaultValues:{title:"",subtitle:"",description:"",language:"English",authorPrefix:"",authorFirstName:"",authorMiddleName:"",authorLastName:"",authorSuffix:"",publishingRights:"owned",hasExplicitContent:!1,primaryMarketplace:"Amazon.com",isLowContentBook:!1,isLargePrintBook:!1,previouslyPublished:!1,releaseOption:"immediate",useAI:!1,format:"ebook",status:"draft",projectId:vP||"",categories:[],keywords:[]}});j.useEffect(()=>{const D=document.createElement("style");return D.textContent=`
      #description-editor:empty:before {
        content: attr(data-placeholder);
        color: #9ca3af;
        pointer-events: none;
      }
      #description-editor h4 { font-size: 1.25rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor h5 { font-size: 1.125rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor h6 { font-size: 1rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor ul { list-style-type: disc; margin-left: 1.5rem; }
      #description-editor ol { list-style-type: decimal; margin-left: 1.5rem; }
      #description-editor li { margin: 0.25rem 0; }
      #description-editor a { color: #3b82f6; text-decoration: underline; }
      #description-editor p { margin: 0.5rem 0; }
    `,document.head.appendChild(D),()=>{document.head.removeChild(D)}},[]);const Nc=()=>{const D=sessionStorage.getItem("returnToBookEdit");console.log("saveFormDataToSession called:",{returnToBookEdit:D,bookId:e||"new",shouldSave:D===(e||"new")});const de={...te.watch(),description:Ne,keywords:a,categories:l,contributors:n,isPartOfSeries:w,selectedAuthorId:P},Oe=`bookFormData_${e||"new"}`;console.log("Saving form data to sessionStorage:",{storageKey:Oe,data:de}),sessionStorage.setItem(Oe,JSON.stringify(de))};j.useEffect(()=>{let D;const J=()=>{const Oe=sessionStorage.getItem("returnToBookEdit");console.log("Auto-save check:",{returnToBookEdit:Oe,currentBookId:e||"new",shouldSave:Oe===(e||"new")}),Oe===(e||"new")&&(Nc(),console.log("Auto-saved form data to sessionStorage"))},de=te.watch(()=>{clearTimeout(D),D=setTimeout(J,500)});return D=setTimeout(J,500),()=>{clearTimeout(D),de.unsubscribe()}},[te,a,l,n,w,P,e]),j.useEffect(()=>{const D=`bookFormData_${e||"new"}`,J=()=>{sessionStorage.getItem("returnToBookEdit")||sessionStorage.removeItem(D)},de=()=>{sessionStorage.getItem("returnToBookEdit")||sessionStorage.removeItem(D)};return window.addEventListener("beforeunload",J),window.addEventListener("popstate",de),()=>{window.removeEventListener("beforeunload",J),window.removeEventListener("popstate",de)}},[e]),j.useEffect(()=>{const D=`bookFormData_${e||"new"}`,J=sessionStorage.getItem(D),de=sessionStorage.getItem("returnToBookEdit"),Oe=sessionStorage.getItem("newlyCreatedSeries");if(console.log("Restoration check:",{returnFromSeries:de,bookId:e||"new",hasStorageData:!!J,shouldRestore:J&&de===(e||"new")}),J&&de===(e||"new")){console.log("Restoring form data from sessionStorage");try{const ct=JSON.parse(J);if(Oe){const Br=JSON.parse(Oe);console.log("Associating newly created series:",Br),ct.seriesTitle=Br.title,ct.seriesNumber=1}console.log("Form data being restored:",ct);const{keywords:jt,categories:jr,contributors:gt,isPartOfSeries:xn,selectedAuthorId:Ci,...Tr}=ct;if(Tr.seriesTitle&&ue({seriesTitle:Tr.seriesTitle,seriesNumber:Tr.seriesNumber||null}),te.reset(Tr),jt&&Array.isArray(jt)&&o(jt),jr&&Array.isArray(jr)&&c(jr),gt&&Array.isArray(gt)&&s(gt),typeof xn=="boolean"&&S(xn),Ci&&A(Ci),Tr.description){ge(Tr.description);const Ga=new DOMParser().parseFromString(Tr.description,"text/html"),Xd=Ga.body.textContent||Ga.body.innerText||"";ia(Xd.length),setTimeout(()=>{const oa=document.getElementById("description-editor");if(oa){for(;oa.firstChild;)oa.removeChild(oa.firstChild);const nW=Yi(Tr.description),iW=new DOMParser().parseFromString(nW,"text/html");for(let up of Array.from(iW.body.childNodes))if(up.nodeType===Node.TEXT_NODE)oa.appendChild(document.createTextNode(up.textContent||""));else if(up.nodeType===Node.ELEMENT_NODE){const db=up;if(["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN"].includes(db.tagName)){const SP=document.createElement(db.tagName.toLowerCase());SP.textContent=db.textContent,oa.appendChild(SP)}}}},200)}console.log("UI restoration complete"),sessionStorage.removeItem(D),sessionStorage.removeItem("returnToBookEdit"),sessionStorage.removeItem("newlyCreatedSeries"),console.log("Form restoration complete"),k(!0);return}catch(ct){console.error("Error restoring form data:",ct),sessionStorage.removeItem(D)}}if(console.log("Book loading check:",{book:!!he,hasRestoredFromStorage:C,shouldLoadBook:he&&!C}),he&&!C){if(he.description){ge(he.description);const jt=new DOMParser().parseFromString(he.description,"text/html"),jr=jt.body.textContent||jt.body.innerText||"";ia(jr.length),setTimeout(()=>{const gt=document.getElementById("description-editor");if(gt){for(;gt.firstChild;)gt.removeChild(gt.firstChild);const xn=Yi(he.description),Tr=new DOMParser().parseFromString(xn,"text/html");for(let Br of Array.from(Tr.body.childNodes))if(Br.nodeType===Node.TEXT_NODE)gt.appendChild(document.createTextNode(Br.textContent||""));else if(Br.nodeType===Node.ELEMENT_NODE){const Ga=Br;if(["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN"].includes(Ga.tagName)){const oa=document.createElement(Ga.tagName.toLowerCase());oa.textContent=Ga.textContent,gt.appendChild(oa)}}}},100)}if(te.reset({title:he.title||"",subtitle:he.subtitle||"",description:he.description||"",language:he.language||"English",authorPrefix:he.authorPrefix||"",authorFirstName:he.authorFirstName||"",authorMiddleName:he.authorMiddleName||"",authorLastName:he.authorLastName||"",authorSuffix:he.authorSuffix||"",publishingRights:he.publishingRights||"owned",hasExplicitContent:he.hasExplicitContent||!1,primaryMarketplace:he.primaryMarketplace||"Amazon.com",isLowContentBook:he.isLowContentBook||!1,isLargePrintBook:he.isLargePrintBook||!1,previouslyPublished:he.previouslyPublished||!1,previousPublicationDate:he.previousPublicationDate||null,publicationDate:he.publicationDate||null,scheduledReleaseDate:he.scheduledReleaseDate||null,releaseOption:he.releaseOption||"immediate",useAI:he.useAI||!1,format:he.format||"ebook",status:he.status||"draft",projectId:he.projectId||"",categories:he.categories||[],keywords:he.keywords||[],seriesTitle:he.seriesTitle||"",seriesNumber:he.seriesNumber||null,editionNumber:he.editionNumber||null,readingAgeMin:he.readingAgeMin?he.readingAgeMin.toString():null,readingAgeMax:he.readingAgeMax?he.readingAgeMax.toString():null}),S(!!he.seriesTitle),he.seriesTitle&&ue({seriesTitle:he.seriesTitle,seriesNumber:he.seriesNumber||null}),he.authorFirstName||he.authorLastName){const ct=`${he.authorPrefix||""} ${he.authorFirstName||""} ${he.authorMiddleName||""} ${he.authorLastName||""} ${he.authorSuffix||""}`.trim(),jt=sa.find(jr=>jr.fullName===ct||jr.firstName===(he.authorFirstName||"")&&jr.lastName===(he.authorLastName||"")&&(jr.prefix||"")===(he.authorPrefix||"")&&(jr.middleName||"")===(he.authorMiddleName||"")&&(jr.suffix||"")===(he.authorSuffix||""));jt?(A(jt.id),console.log("Auto-detected matching author:",jt)):(A(""),console.log("No matching author found, keeping form fields"))}else A("");if(he.keywords?typeof he.keywords=="string"?o(he.keywords.split(",").map(ct=>ct.trim()).filter(ct=>ct)):Array.isArray(he.keywords)?o(he.keywords):o([]):o([]),c(Array.isArray(he.categories)?he.categories:[]),he.contributors&&Array.isArray(he.contributors)){const ct=he.contributors.map(jt=>({id:jt.id,role:jt.role,prefix:jt.prefix||"",firstName:jt.firstName,middleName:jt.middleName||"",lastName:jt.lastName,suffix:jt.suffix||""}));s(ct)}else s([])}},[he,e,C]),j.useEffect(()=>{te.watch("hasExplicitContent")&&(te.setValue("readingAgeMin","18"),te.setValue("readingAgeMax","18"))},[te.watch("hasExplicitContent")]),j.useEffect(()=>{const D=te.watch("hasExplicitContent"),J=te.watch("readingAgeMin"),de=te.watch("readingAgeMax");!D&&J&&de&&parseInt(de)<parseInt(J)&&te.setValue("readingAgeMax",J)},[te.watch("readingAgeMin"),te.watch("readingAgeMax"),te.watch("hasExplicitContent")]);const{data:$q=[]}=ze({queryKey:["/api/projects"]}),{data:ub=[]}=ze({queryKey:["/api/series"]}),{data:sa=[],isLoading:sOe}=ze({queryKey:["/api/authors"]});j.useEffect(()=>{if(sa.length>0&&he&&!C&&!P&&!O){const D=`${he.authorPrefix||""} ${he.authorFirstName||""} ${he.authorMiddleName||""} ${he.authorLastName||""} ${he.authorSuffix||""}`.trim();if(D&&D!==""){const J=sa.find(de=>`${de.prefix||""} ${de.firstName||""} ${de.middleName||""} ${de.lastName||""} ${de.suffix||""}`.trim()===D);J?(console.log("Auto-detected matching author:",J),A(J.id)):console.log("No matching author found, keeping form fields")}}},[sa,he,C,P,O]);const aa=Qe({mutationFn:async D=>{const J={...D.bookData,categories:l,keywords:a,editionNumber:D.bookData.editionNumber?String(D.bookData.editionNumber):null,seriesNumber:D.bookData.seriesNumber?Number(D.bookData.seriesNumber):null};if(console.log(fr?"Creating book data:":"Updating book data:",J),console.log("ProjectId being sent:",J.projectId),fr){const de=await $e("POST","/api/books");if(console.log("Received created book response:",de),n.length>0)for(const Oe of n)await $e("POST","/api/contributors",{bookId:de.id,projectId:J.projectId,name:`${Oe.firstName} ${Oe.lastName}`.trim(),role:Oe.role,prefix:Oe.prefix||null,firstName:Oe.firstName,middleName:Oe.middleName||null,lastName:Oe.lastName,suffix:Oe.suffix||null});return{book:de,shouldNavigate:D.shouldNavigate,nextTab:D.nextTab}}else{const de=await $e("PATCH",`/api/books/${e}`);if(console.log("Received updated book response:",de),e){try{const Oe=await $e("GET",`/api/contributors/book/${e}`);if(Oe&&Oe.length>0)for(const ct of Oe)await $e("DELETE",`/api/contributors/${ct.id}/${e}`)}catch(Oe){console.log("No existing contributors or error deleting:",Oe)}if(n.length>0){console.log("Adding contributors:",n),console.log("Project ID for contributors:",J.projectId);for(const Oe of n){const ct={bookId:e,projectId:J.projectId,name:`${Oe.firstName} ${Oe.lastName}`.trim(),role:Oe.role,prefix:Oe.prefix||null,firstName:Oe.firstName,middleName:Oe.middleName||null,lastName:Oe.lastName,suffix:Oe.suffix||null};console.log("Sending contributor data:",ct),await $e("POST","/api/contributors")}}}return{book:de,shouldNavigate:D.shouldNavigate,nextTab:D.nextTab}}},onSuccess:D=>{D.book&&!fr&&tr.setQueryData([`/api/books/${e}`],D.book),tr.invalidateQueries({queryKey:["/api/books"]}),tr.invalidateQueries({queryKey:["/api/projects"]}),fr||tr.invalidateQueries({queryKey:[`/api/books/${e}`]}),yt.success({title:fr?"Book Created":"Book Updated",description:`Your book has been ${fr?"created":"updated"} successfully.`}),fr&&D.book?D.nextTab?r(`/books/edit/${D.book.id}?tab=${D.nextTab}`):D.shouldNavigate?r("/projects"):r(`/books/edit/${D.book.id}`):D.nextTab?d(D.nextTab):D.shouldNavigate&&r("/projects")},onError:D=>{console.error(fr?"Book creation error:":"Book update error:",D),yt({title:"Error",description:D.message||`Failed to ${fr?"create":"update"} book`,variant:"destructive"})}}),bP=Qe({mutationFn:async()=>await $e("DELETE",`/api/books/${e}`),onSuccess:()=>{tr.invalidateQueries({queryKey:["/api/books"]}),tr.invalidateQueries({queryKey:["/api/projects"]}),yt({title:"Book Deleted",description:"Your book has been deleted successfully."}),r("/projects")},onError:D=>{console.error("Book deletion error:",D),yt({title:"Error",description:D.message||"Failed to delete book",variant:"destructive"})}}),Rq=()=>{const D={id:Date.now().toString(),role:"Author",prefix:"",firstName:"",middleName:"",lastName:"",suffix:""};s([...n,D])},Sc=(D,J,de)=>{s(n.map(Oe=>Oe.id===D?{...Oe,[J]:de}:Oe))},Lq=D=>{s(n.filter(J=>J.id!==D))},Fq=D=>{if(D){const J=sa.find(de=>de.id===D);J&&(M(!1),te.setValue("authorPrefix",J.prefix||""),te.setValue("authorFirstName",J.firstName||""),te.setValue("authorMiddleName",J.middleName||""),te.setValue("authorLastName",J.lastName||""),te.setValue("authorSuffix",J.suffix||""),A(D))}},Bq=async D=>{if(!D.trim()){Be("");return}At(!0);try{const de=(he==null?void 0:he.isbn)!==D.trim()?`/api/books/check-isbn/${encodeURIComponent(D.trim())}?excludeBookId=${e}`:`/api/books/check-isbn/${encodeURIComponent(D.trim())}`,Oe=await fetch(de,{method:"GET",headers:{"Content-Type":"application/json"}});Oe.ok?(await Oe.json()).exists?Be("This ISBN/ASIN is already in use by another book. Please enter a unique ISBN/ASIN."):Be(""):Be("Unable to validate ISBN/ASIN. Please try again.")}catch(J){console.error("Error checking ISBN:",J),Be("Unable to validate ISBN/ASIN. Please try again.")}finally{At(!1)}};j.useEffect(()=>{const D=setTimeout(()=>{fe.trim()&&Bq(fe)},1e3);return()=>clearTimeout(D)},[fe,e,he==null?void 0:he.isbn]);const zq=async()=>{if(fe.trim()){if(Ye){yt.error({title:"Cannot apply ISBN/ASIN",description:"Please resolve the validation error first."});return}try{await $e("PATCH",`/api/books/${e}`,{isbn:fe.trim()})&&(yt.success({title:"ISBN/ASIN Applied Successfully",description:"The Official ISBN/ASIN has been permanently applied to this book."}),Y(""),Yr(!1),Be(""),tr.invalidateQueries({queryKey:[`/api/books/${e}`]}))}catch(D){console.error("Error applying ISBN:",D),yt.error({title:"Error",description:"Failed to apply ISBN/ASIN. Please try again."})}}},Uq=()=>{Y(""),Yr(!1)};j.useEffect(()=>{const D=te.watch("previouslyPublished"),J=te.watch("releaseOption");D&&J==="scheduled"&&(te.setValue("releaseOption","immediate"),te.setValue("scheduledReleaseDate",null))},[te.watch("previouslyPublished")]),j.useEffect(()=>{const D=te.watch("primaryMarketplace");D&&cp(D)},[te.watch("format")]);const jP=D=>{D.trim()&&!a.includes(D.trim())&&a.length<7&&o([...a,D.trim()])},Vq=D=>{o(a.filter(J=>J!==D))},qq=D=>{c(l.filter(J=>J!==D))},wP=()=>{const D=te.watch("format"),J=te.watch("isLargePrintBook"),de=te.watch("isLowContentBook");return console.log("Format derivation inputs:",{format:D,isLargePrintBook:J,isLowContentBook:de}),D?(console.log("Using explicit format:",D),D):J||de?(console.log("Deriving paperback from flags:",{isLargePrintBook:J,isLowContentBook:de}),"paperback"):(console.log("Defaulting to ebook"),"ebook")},cp=async D=>{if(D){console.log("Loading categories for marketplace:",D),L(!0);try{const J=wP();console.log("Derived format:",J);const de=J?`?format=${encodeURIComponent(J)}`:"",Oe=await $e("GET",`/api/marketplace-categories/${encodeURIComponent(D)}${de}`);E(Oe||[])}catch(J){console.error("Error loading marketplace categories:",J),E([]),yt({title:"Error",description:"Failed to load categories for selected marketplace",variant:"destructive"})}finally{L(!1)}}},Wq=async(D,J)=>{if(J.length===0)return[];try{const de=wP(),Oe=de?`?format=${encodeURIComponent(de)}`:"",jr=(await $e("GET",`/api/marketplace-categories/${encodeURIComponent(D)}${Oe}`)||[]).map(gt=>gt.categoryPath);return J.filter(gt=>!jr.includes(gt))}catch(de){return console.error("Error checking category compatibility:",de),J}},Hq=async D=>{const J=te.getValues("categories")||[],de=l||[],Oe=Array.from(new Set([...J,...de]));if(console.log("Marketplace change check:",{newMarketplace:D,formCategories:J,localCategories:de,allCurrentCategories:Oe}),Oe.length>0){const ct=await Wq(D,Oe);if(console.log("Compatibility check result:",{incompatible:ct}),ct.length>0){B(D),Se(ct),G(!0);return}}te.setValue("primaryMarketplace",D),cp(D)},Kq=()=>{const D=re,J=ae.length,de=te.getValues("categories")||[],Oe=l||[],ct=de.filter(jr=>!ae.includes(jr)),jt=Oe.filter(jr=>!ae.includes(jr));te.setValue("categories",ct),c(jt),te.setValue("primaryMarketplace",re),cp(re),G(!1),B(""),Se([]),yt.success({title:"Marketplace Changed",description:`Marketplace changed to ${D} and ${J} incompatible categories removed`})},Gq=()=>{G(!1),B(""),Se([])},Qq=async()=>{v([...l]),y([...l]);const D=te.watch("primaryMarketplace")||"Amazon.com";console.log("Loading categories for marketplace:",D),await cp(D),g(!0)},Yq=()=>{c([...x]),v([...x]),g(!1)},Xq=()=>{v([]),y([]),g(!1)},Zq=D=>{v(m.filter(J=>J!==D)),y(x.filter(J=>J!==D))},Jq=D=>{const J={...D,readingAgeMin:D.readingAgeMin?String(D.readingAgeMin):null,readingAgeMax:D.readingAgeMax?String(D.readingAgeMax):null};aa.mutate({bookData:J,shouldNavigate:!0})},eW=D=>{const J={...D,status:"draft",readingAgeMin:D.readingAgeMin?String(D.readingAgeMin):null,readingAgeMax:D.readingAgeMax?String(D.readingAgeMax):null};aa.mutate({bookData:J})},tW=D=>{let J="";u==="details"?J="content":u==="content"&&(J="pricing");const de={...D,readingAgeMin:D.readingAgeMin?String(D.readingAgeMin):null,readingAgeMax:D.readingAgeMax?String(D.readingAgeMax):null};aa.mutate({bookData:de,nextTab:J})},rW=()=>{h(!0)};return xP?i.jsx(ft,{children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ao,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading book details..."})]})})}):!fr&&(yP||!he)?i.jsx(ft,{children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Book Not Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"The book you're looking for doesn't exist or you don't have permission to edit it."}),i.jsxs(F,{onClick:()=>r("/projects"),children:[i.jsx(En,{className:"w-4 h-4 mr-2"}),"Back to Projects"]})]})}):i.jsxs(ft,{children:[i.jsxs("div",{className:"flex w-full h-[calc(100vh-80px)]",children:[i.jsx("div",{className:`${Ee?"flex-1":"w-full"} overflow-y-auto`,children:i.jsxs("div",{className:"max-w-4xl mx-auto w-full p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(F,{variant:"ghost",onClick:()=>r("/projects"),className:"flex items-center space-x-2",children:[i.jsx(En,{className:"w-4 h-4"}),i.jsx("span",{children:"Back"})]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:fr?"Create Book":"Edit Book"}),i.jsx("p",{className:"text-gray-600",children:fr?"Set up your new book with all the details":"Update your book details and settings"})]})]}),!fr&&e&&i.jsxs(F,{variant:Ee?"default":"outline",onClick:()=>pt(!Ee),className:"flex items-center space-x-2",children:[i.jsx(Kg,{className:"w-4 h-4"}),i.jsx("span",{children:"AI Recommendations"})]})]}),i.jsxs("form",{onSubmit:te.handleSubmit(Jq),className:"space-y-8",children:[i.jsx("div",{className:"bg-white border-b border-gray-200 mb-8",children:i.jsxs("nav",{className:"-mb-px flex space-x-0",children:[i.jsx("button",{type:"button",onClick:()=>{if(u==="details"){const D=document.getElementById("description-editor");if(D){const J=D.innerHTML,de=Yi(J);te.setValue("description",de),ge(de)}}d("details"),u!=="details"&&setTimeout(()=>{const D=document.getElementById("description-editor");if(D&&Ne){for(;D.firstChild;)D.removeChild(D.firstChild);const J=Yi(Ne),Oe=new DOMParser().parseFromString(J,"text/html");for(let ct of Array.from(Oe.body.childNodes))if(ct.nodeType===Node.TEXT_NODE)D.appendChild(document.createTextNode(ct.textContent||""));else if(ct.nodeType===Node.ELEMENT_NODE){const jt=ct;if(["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN"].includes(jt.tagName)){const gt=document.createElement(jt.tagName.toLowerCase());gt.textContent=jt.textContent,D.appendChild(gt)}}}},50)},className:`relative px-6 py-2 font-semibold text-base transition-all duration-200 ease-in-out ${u==="details"?"text-white bg-[#38b6ff] rounded-t-lg shadow-lg border-b-3 border-[#38b6ff]":"text-gray-600 hover:text-[#146eb4] hover:bg-gray-50 rounded-t-lg border-b-2 border-transparent hover:border-gray-300"}`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Book Details"]})}),i.jsx("button",{type:"button",onClick:()=>{if(u==="details"){const D=document.getElementById("description-editor");if(D){const J=D.innerHTML,de=Yi(J);te.setValue("description",de),ge(de)}}d("content")},className:`relative px-6 py-2 font-semibold text-base transition-all duration-200 ease-in-out ${u==="content"?"text-white bg-[#38b6ff] rounded-t-lg shadow-lg border-b-3 border-[#38b6ff]":"text-gray-600 hover:text-[#146eb4] hover:bg-gray-50 rounded-t-lg border-b-2 border-transparent hover:border-gray-300"}`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Book Content"]})}),i.jsx("button",{type:"button",onClick:()=>{if(u==="details"){const D=document.getElementById("description-editor");if(D){const J=D.innerHTML,de=Yi(J);te.setValue("description",de),ge(de)}}d("pricing")},className:`relative px-6 py-2 font-semibold text-base transition-all duration-200 ease-in-out ${u==="pricing"?"text-white bg-[#38b6ff] rounded-t-lg shadow-lg border-b-3 border-[#38b6ff]":"text-gray-600 hover:text-[#146eb4] hover:bg-gray-50 rounded-t-lg border-b-2 border-transparent hover:border-gray-300"}`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Book Rights & Pricing"]})})]})}),i.jsx("div",{className:"bg-gray-50 border-l-4 border-[#38b6ff] p-3 mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center space-x-6",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:te.watch("title")||"Untitled Book"}),i.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600 mt-1",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx("strong",{children:"ISBN/ASIN:"}),i.jsx("span",{className:"ml-1",children:he!=null&&he.isbn?i.jsx("span",{className:"font-semibold",children:he.isbn}):he!=null&&he.isbnPlaceholder?i.jsx("span",{className:"text-amber-600",children:he.isbnPlaceholder}):i.jsx("span",{className:"text-gray-400",children:"No ISBN/ASIN"})})]}),te.watch("language")&&i.jsxs("span",{className:"flex items-center",children:[i.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),i.jsx("span",{children:te.watch("language")})]})]})]})}),i.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800",children:te.watch("status")||"Draft"})]})}),u==="details"&&i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Basic information about your book"})}),i.jsxs(ee,{className:"space-y-8",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg border p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Association"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Select the project this book belongs to."}),i.jsxs(et,{value:te.watch("projectId")||"",onValueChange:D=>te.setValue("projectId",D),children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select a project"})}),i.jsx(Je,{children:$q.map(D=>i.jsx(U,{value:D.id,children:D.name},D.id))})]}),te.formState.errors.projectId&&i.jsx("p",{className:"text-sm text-red-600",children:te.formState.errors.projectId.message})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Book Information"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"language",className:"font-medium text-[16px]",children:"Language *"}),i.jsx("p",{className:"text-sm text-gray-600",children:"What language is your book written in?"}),i.jsxs(et,{value:te.watch("language")||"",onValueChange:D=>te.setValue("language",D),children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select language"})}),i.jsx(Je,{children:REe.map(D=>i.jsx(U,{value:D,children:D},D))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"title",className:"font-medium text-[16px]",children:"Book Title *"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Enter your title as it should appear on the book cover and in the catalog. Some customers use long titles to help with keyword searches."}),i.jsx(_e,{id:"title",placeholder:"Enter your book title",...te.register("title",{required:"Title is required"})}),te.formState.errors.title&&i.jsx("p",{className:"text-sm text-red-600",children:te.formState.errors.title.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"subtitle",className:"font-medium text-[16px]",children:"Subtitle"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Optional subtitle for your book"}),i.jsx(_e,{id:"subtitle",placeholder:"Enter subtitle (optional)",...te.register("subtitle")})]})]})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg border border-green-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Series & Edition Information"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(ne,{className:"font-medium text-[16px]",children:"Series (optional)"}),i.jsx("p",{className:"text-sm text-gray-600",children:"This title is part of a series. You can edit details or remove the title from the series. (Optional)"}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Sa,{id:"isPartOfSeries",checked:!!te.watch("seriesTitle")||w,onCheckedChange:D=>{if(S(!!D),D)X&&(te.setValue("seriesTitle",X.seriesTitle),te.setValue("seriesNumber",X.seriesNumber));else{const J=te.watch("seriesTitle"),de=te.watch("seriesNumber");J&&ue({seriesTitle:J,seriesNumber:de||null}),te.setValue("seriesTitle",""),te.setValue("seriesNumber",null)}},className:"mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{htmlFor:"isPartOfSeries",className:"peer-disabled:cursor-not-allowed peer-disabled:opacity-70 font-medium text-[14px]",children:"This book is part of a series"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Check this if your book belongs to a series"})]})]}),te.watch("seriesTitle")&&i.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{className:"font-medium text-[16px] text-gray-700",children:"Series Title"}),i.jsx("p",{className:"text-sm font-medium",children:te.watch("seriesTitle")})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:async()=>{Nc(),sessionStorage.setItem("returnToBookEdit",e||"new");const D=te.watch("seriesTitle");if(D)try{const de=(await $e("GET","/api/series")).find(Oe=>Oe.title===D);de?window.location.href=`/series-edit/${de.id}`:window.location.href="/manage-series"}catch(J){console.error("Error finding series:",J),window.location.href="/manage-series"}else window.location.href="/manage-series"},children:"Edit series details"}),i.jsxs($i,{children:[i.jsx(oc,{asChild:!0,children:i.jsx(F,{type:"button",variant:"outline",size:"sm",children:"Remove from series"})}),i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Remove title from series"}),i.jsx(ci,{children:"Are you sure you want to remove this book from the series? This action cannot be undone."})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Cancel"}),i.jsx(ui,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>{te.setValue("seriesTitle",""),te.setValue("seriesNumber",null),yt.success({title:"Livre retiré de la série",description:"Le livre a été retiré de la série avec succès."})},children:"Remove from series"})]})]})]})]})]}),!te.watch("seriesTitle")&&w&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{className:"font-medium text-[16px]",children:"Select existing series"}),i.jsxs(et,{value:te.watch("seriesTitle")||"",onValueChange:D=>{te.setValue("seriesTitle",D),te.setValue("seriesNumber",1)},children:[i.jsx(Ze,{className:"mt-1",children:i.jsx(tt,{placeholder:"Choose a series..."})}),i.jsx(Je,{children:ub.length>0?ub.map(D=>i.jsx(U,{value:D.title,children:D.title},D.id)):i.jsx(U,{value:"no-series",disabled:!0,children:"No series available - Create one first"})})]})]}),i.jsx("div",{className:"pt-6",children:i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>{const D=te.watch("seriesTitle");if(D){const J=ub.find(de=>de.title===D);J?(sessionStorage.setItem("returnToBookEdit",e||"new"),Nc(),window.location.href=`/series-edit/${J.id}`):window.location.href="/manage-series"}else sessionStorage.setItem("returnToBookEdit",e||"new"),Nc(),window.location.href="/series-setup"},children:te.watch("seriesTitle")?"Edit series":"Create series"})})]}),te.watch("seriesTitle")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"seriesNumber",className:"font-medium text-[16px]",children:"Volume Number"}),i.jsx(_e,{id:"seriesNumber",type:"number",min:"1",placeholder:"1",...te.register("seriesNumber",{valueAsNumber:!0}),className:"w-32"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"editionNumber",className:"font-medium text-[16px]",children:"Edition Number"}),i.jsx("p",{className:"text-sm text-gray-600",children:"The edition number tells readers whether the book is an original or updated version. Note: This cannot be changed after the book is published."}),i.jsx(_e,{id:"editionNumber",type:"text",placeholder:"1",...te.register("editionNumber")})]})]})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Authors & Contributors"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ne,{className:"font-medium text-[16px]",children:"Author"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enter the primary author or contributor. Pen names are allowed. Note: before continuing, check your spelling since this field cannot be updated after publication."})]}),P?i.jsx("div",{className:"p-4 rounded-md border border-green-200 bg-[#f9fafb]",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(ne,{className:"font-medium text-[16px] text-gray-700",children:"Author"}),i.jsx("div",{className:"text-lg font-medium text-gray-900",children:((NP=sa.find(D=>D.id===P))==null?void 0:NP.fullName)||"Unknown Author"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>{const D=sa.find(J=>J.id===P);D&&(sessionStorage.setItem("returnToBookEdit",e||"new"),Nc(),r(`/authors/${D.id}`))},children:"Edit author details"}),i.jsxs($i,{children:[i.jsx(oc,{asChild:!0,children:i.jsx(F,{type:"button",variant:"outline",size:"sm",children:"Remove from author"})}),i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Remove author from book"}),i.jsx(ci,{children:"Are you sure you want to remove this author from the book? This action cannot be undone."})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Cancel"}),i.jsx(ui,{onClick:()=>{M(!0),A(""),te.setValue("authorPrefix",""),te.setValue("authorFirstName",""),te.setValue("authorMiddleName",""),te.setValue("authorLastName",""),te.setValue("authorSuffix","")},className:"bg-destructive hover:bg-destructive/90",children:"Remove from author"})]})]})]})]})]})}):i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{className:"font-medium text-[16px]",children:"Select existing author"}),i.jsxs(et,{value:P,onValueChange:Fq,children:[i.jsx(Ze,{className:"mt-1",children:i.jsx(tt,{placeholder:"Choose an author..."})}),i.jsx(Je,{children:sa.length>0?sa.map(D=>i.jsx(U,{value:D.id,children:D.fullName},D.id)):i.jsx(U,{value:"no-author",disabled:!0,children:"No authors available - Create one first"})})]})]}),i.jsx("div",{className:"pt-6",children:i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>{sessionStorage.setItem("returnToBookEdit",e||"new"),Nc(),window.location.href="/authors/create"},children:"Create author"})})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ne,{className:"font-medium text-[16px]",children:"Contributors"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add up to 9 contributors. They'll display on Amazon using the order you enter below."})]}),i.jsxs("div",{children:[i.jsxs(ne,{className:"font-medium text-[14px]",children:["Contributors ",i.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),n.map((D,J)=>i.jsxs("div",{className:"grid grid-cols-7 gap-3 mt-2 items-center",children:[i.jsxs(et,{value:D.role,onValueChange:de=>Sc(D.id,"role",de),children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Role"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"Author",children:"Author"}),i.jsx(U,{value:"Editor",children:"Editor"}),i.jsx(U,{value:"Foreword",children:"Foreword"}),i.jsx(U,{value:"Illustrator",children:"Illustrator"}),i.jsx(U,{value:"Introduction",children:"Introduction"}),i.jsx(U,{value:"Narrator",children:"Narrator"}),i.jsx(U,{value:"Photographer",children:"Photographer"}),i.jsx(U,{value:"Preface",children:"Preface"}),i.jsx(U,{value:"Translator",children:"Translator"}),i.jsx(U,{value:"Contributions by",children:"Contributions by"})]})]}),i.jsx(_e,{placeholder:"Prefix",value:D.prefix||"",onChange:de=>Sc(D.id,"prefix",de.target.value)}),i.jsx(_e,{placeholder:"First name",value:D.firstName,onChange:de=>Sc(D.id,"firstName",de.target.value)}),i.jsx(_e,{placeholder:"Middle name",value:D.middleName||"",onChange:de=>Sc(D.id,"middleName",de.target.value)}),i.jsx(_e,{placeholder:"Last name",value:D.lastName,onChange:de=>Sc(D.id,"lastName",de.target.value)}),i.jsx(_e,{placeholder:"Suffix",value:D.suffix||"",onChange:de=>Sc(D.id,"suffix",de.target.value)}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>Lq(D.id),className:"text-gray-600 hover:text-red-600",children:"Remove"})]},D.id)),n.length<9&&i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:Rq,className:"mt-3",children:"Add Another"})]})]})]})]}),i.jsxs("div",{className:"bg-orange-50 rounded-lg border border-orange-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Book Description"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Provide a description that will entice readers to buy your book. What is your book about? What makes it interesting? What should readers expect? This can be copied from the back cover of your book. Maximum ",Xr.toLocaleString()," characters."]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg border",children:[i.jsxs(et,{onValueChange:lp,children:[i.jsx(Ze,{className:"w-32",children:i.jsx(tt,{placeholder:"Format"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"normal",children:"Normal"}),i.jsx(U,{value:"heading4",children:"Heading 4"}),i.jsx(U,{value:"heading5",children:"Heading 5"}),i.jsx(U,{value:"heading6",children:"Heading 6"})]})]}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>Ln("bold"),children:i.jsx("strong",{children:"B"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>Ln("italic"),children:i.jsx("em",{children:"I"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>Ln("underline"),children:i.jsx("u",{children:"U"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>Ln("insertUnorderedList"),children:"• List"}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>Ln("insertOrderedList"),children:"1. List"}),i.jsxs(mn,{open:z,onOpenChange:Q,children:[i.jsx(nl,{asChild:!0,children:i.jsx(F,{type:"button",variant:"outline",size:"sm",children:i.jsx(KG,{className:"w-4 h-4"})})}),i.jsxs(tn,{children:[i.jsx(rn,{children:i.jsx(nn,{children:"Insert Link"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(_e,{placeholder:"Enter URL",value:ie,onChange:D=>ke(D.target.value)}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(F,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),i.jsx(F,{style:{backgroundColor:"var(--kdp-primary-blue)",color:"white"},onClick:lb,children:"Insert"})]})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{id:"description-editor",contentEditable:!0,className:"min-h-[200px] p-3 border border-gray-300 rounded-md resize-y overflow-auto focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",style:{minHeight:"200px",maxHeight:"500px",fontSize:"14px",lineHeight:"1.5"},onInput:Yd,onBlur:Yd,"data-placeholder":"Enter a compelling book description that will attract readers...",suppressContentEditableWarning:!0}),i.jsx("input",{type:"hidden",...te.register("description")}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("span",{className:`text-sm ${Ar>Xr?"text-red-600":"text-green-600"}`,children:[i.jsx("strong",{children:Ar})," / ",Xr]})})]})]})]}),i.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Publishing Rights"}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Choose the option that applies to your book. Choosing the wrong option may result in your content being blocked."}),i.jsxs(Ll,{value:te.watch("publishingRights")||"",onValueChange:D=>te.setValue("publishingRights",D),children:[i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(ni,{value:"owned",id:"owned",className:"mt-1 bg-[#ffffff]"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{htmlFor:"owned",className:"text-sm font-medium",children:"I own the copyright and hold publishing rights"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"You wrote the book yourself, bought the rights from someone else, or work for the publisher that holds the rights."})]})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(ni,{value:"public-domain",id:"public-domain",className:"mt-1 bg-[#ffffff]"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{htmlFor:"public-domain",className:"text-sm font-medium",children:"This is a public domain work"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"The content is in the public domain and you have the right to publish it."})]})]})]})]})})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Primary Audience"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx(ne,{className:"font-medium text-[16px]",children:"Sexually Explicit Images or Title"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Does the book's cover or interior contain sexually explicit images, or does the book's title contain sexually explicit language?"}),i.jsxs(Ll,{value:te.watch("hasExplicitContent")?"yes":"no",onValueChange:D=>te.setValue("hasExplicitContent",D==="yes"),children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ni,{value:"yes",id:"explicit-yes",className:"bg-[#ffffff]"}),i.jsx(ne,{htmlFor:"explicit-yes",className:"text-sm font-medium",children:"Yes"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ni,{value:"no",id:"explicit-no",className:"bg-[#ffffff]"}),i.jsx(ne,{htmlFor:"explicit-no",className:"text-sm font-medium",children:"No"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(ne,{className:"font-medium text-[16px]",children:["Reading age ",i.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Choose the youngest and oldest ages at which a person could enjoy this book."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"readingAgeMin",className:"text-sm font-medium",children:"Minimum"}),i.jsxs(et,{value:te.watch("readingAgeMin")||"",onValueChange:D=>te.setValue("readingAgeMin",D||null),disabled:te.watch("hasExplicitContent")||!1,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select one"})}),i.jsx(Je,{children:te.watch("hasExplicitContent")?i.jsx(U,{value:"18",children:"18+"}):i.jsxs(i.Fragment,{children:[i.jsx(U,{value:"0",children:"Baby"}),i.jsx(U,{value:"1",children:"1"}),i.jsx(U,{value:"2",children:"2"}),i.jsx(U,{value:"3",children:"3"}),i.jsx(U,{value:"4",children:"4"}),i.jsx(U,{value:"5",children:"5"}),i.jsx(U,{value:"6",children:"6"}),i.jsx(U,{value:"7",children:"7"}),i.jsx(U,{value:"8",children:"8"}),i.jsx(U,{value:"9",children:"9"}),i.jsx(U,{value:"10",children:"10"}),i.jsx(U,{value:"11",children:"11"}),i.jsx(U,{value:"12",children:"12"}),i.jsx(U,{value:"13",children:"13"}),i.jsx(U,{value:"14",children:"14"}),i.jsx(U,{value:"15",children:"15"}),i.jsx(U,{value:"16",children:"16"}),i.jsx(U,{value:"17",children:"17"}),i.jsx(U,{value:"18",children:"18+"})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"readingAgeMax",className:"text-sm font-medium",children:"Maximum"}),i.jsxs(et,{value:te.watch("readingAgeMax")||"",onValueChange:D=>te.setValue("readingAgeMax",D||null),disabled:te.watch("hasExplicitContent")||!1,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select one"})}),i.jsx(Je,{children:te.watch("hasExplicitContent")?i.jsx(U,{value:"18",children:"18+"}):i.jsx(i.Fragment,{children:(()=>{const D=te.watch("readingAgeMin");return[{value:"0",label:"Baby"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18+"}].filter(de=>D==null||parseInt(de.value)>=parseInt(D)).map(de=>i.jsx(U,{value:de.value,children:de.label},de.value))})()})})]})]})]})]})]})]}),i.jsxs("div",{className:"bg-teal-50 rounded-lg border border-teal-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Primary Marketplace"}),i.jsx("div",{className:"space-y-2",children:i.jsxs(et,{value:te.watch("primaryMarketplace")||"",onValueChange:Hq,children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select primary marketplace"})}),i.jsx(Je,{children:hO.map(D=>i.jsx(U,{value:D,children:D},D))})]})})]}),i.jsxs("div",{className:"bg-indigo-50 rounded-lg border border-indigo-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Categories"}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"space-y-2",children:i.jsx("p",{className:"text-sm text-gray-700",children:"Choose up to three categories that describe your book. Note: You must select your primary marketplace and audience first."})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Your title's current categories"}),i.jsx("div",{className:"space-y-2",children:l.length>0?l.map((D,J)=>i.jsxs("div",{className:"text-sm text-gray-700 flex items-center",children:[i.jsx("span",{className:"text-gray-500",children:"Books › "}),i.jsx("span",{className:"text-gray-700",children:D}),i.jsx("button",{type:"button",className:"ml-2 text-blue-600 hover:text-blue-800",onClick:()=>qq(D),children:"✏"})]},J)):i.jsx("p",{className:"text-sm text-gray-500 italic",children:"No categories selected"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:Qq,children:"Edit categories"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Does your book classify as any of these types? Choose all that apply."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Sa,{id:"isLowContentBook",checked:te.watch("isLowContentBook")||!1,onCheckedChange:D=>te.setValue("isLowContentBook",D),className:"mt-1"}),i.jsx("div",{className:"flex-1",children:i.jsx(ne,{htmlFor:"isLowContentBook",className:"text-sm font-normal",children:"Low-content book (e.g. journals, notebooks, and planners)"})})]}),te.watch("isLowContentBook")&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-[#ff9500]",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"i"})})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm text-blue-800",children:"Low-content selection can't be changed after you've published your book."})})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Sa,{id:"isLargePrintBook",checked:te.watch("isLargePrintBook")||!1,onCheckedChange:D=>te.setValue("isLargePrintBook",D),className:"mt-1"}),i.jsx("div",{className:"flex-1",children:i.jsx(ne,{htmlFor:"isLargePrintBook",className:"text-sm font-normal",children:"Large-print book (content is 16-point font size or greater)"})})]})]})]})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Keywords"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Enter up to 7 keywords or short phrases that describe the content, topic, theme or type of your book. Separate keywords with commas."}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.map(D=>i.jsxs(me,{variant:"secondary",className:"flex items-center gap-1",children:[D,i.jsx(ji,{className:"w-3 h-3 cursor-pointer",onClick:()=>Vq(D)})]},D))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(_e,{placeholder:"Add a keyword",onKeyPress:D=>{D.key==="Enter"&&(D.preventDefault(),jP(D.currentTarget.value),D.currentTarget.value="")}}),i.jsx(F,{type:"button",variant:"outline",onClick:D=>{const J=D.currentTarget.previousElementSibling;J.value&&(jP(J.value),J.value="")},children:"Add"})]}),i.jsx("div",{className:"text-sm text-gray-500",children:i.jsx("p",{children:"Examples: vampires, romance, cooking, gardening, mystery, young adult"})})]})]}),i.jsxs("div",{className:"bg-emerald-50 rounded-lg border border-emerald-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Publication Date"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"The publication date tells readers when the book was originally published. If your book has not been published before, select the first option."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex items-center mt-1",children:i.jsx("input",{type:"radio",id:"sameDateOption",name:"publicationDateOption",checked:!te.watch("previouslyPublished"),onChange:()=>{te.setValue("previouslyPublished",!1),te.setValue("previousPublicationDate",null)},className:"w-4 h-4 text-[#38b6ff] border-gray-300 focus:ring-[#38b6ff]"})}),i.jsx("div",{className:"flex-1",children:i.jsx(ne,{htmlFor:"sameDateOption",className:"text-sm font-medium text-gray-900",children:"Publication date and release date are the same"})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex items-center mt-1",children:i.jsx("input",{type:"radio",id:"previouslyPublishedOption",name:"publicationDateOption",checked:te.watch("previouslyPublished")||!1,onChange:()=>te.setValue("previouslyPublished",!0),className:"w-4 h-4 text-[#38b6ff] border-gray-300 focus:ring-[#38b6ff]"})}),i.jsx("div",{className:"flex-1",children:i.jsx(ne,{htmlFor:"previouslyPublishedOption",className:"text-sm font-medium text-gray-900",children:"My book was previously published"})})]}),te.watch("previouslyPublished")&&i.jsxs("div",{className:"ml-7 space-y-3 bg-gray-50 p-4 rounded-md",children:[i.jsx("p",{className:"text-sm text-gray-700",children:"Enter the date your book was previously published. One example of why a book might have a previous publish date is if you purchased the rights for your book from another publisher. This will not affect your Amazon release date."}),i.jsx(_e,{type:"date",value:te.watch("previousPublicationDate")||"",onChange:D=>te.setValue("previousPublicationDate",D.target.value||null),max:new Date().toISOString().split("T")[0],className:"max-w-xs",placeholder:"MM/DD/YYYY"})]})]})]})]})]}),i.jsxs("div",{className:"bg-cyan-50 rounded-lg border border-cyan-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Release Date"}),te.watch("releaseOption")==="scheduled"&&te.watch("previouslyPublished")&&i.jsxs("div",{className:"bg-cyan-100 border border-cyan-300 rounded-md p-4 mb-4 flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5 text-[#38b6ff]",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Not eligible"}),i.jsx("p",{className:"text-sm text-gray-700",children:"Scheduled release is not available for some titles such as previously published titles."})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Choose when to make your book available on Amazon."}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-white border border-gray-200 rounded-md p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("input",{type:"radio",id:"releaseNow",name:"releaseOption",value:"immediate",checked:te.watch("releaseOption")==="immediate",onChange:D=>{D.target.checked&&(te.setValue("releaseOption","immediate"),te.setValue("scheduledReleaseDate",null))},className:"w-4 h-4 text-[#38b6ff] mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{htmlFor:"releaseNow",className:"font-medium text-gray-900 cursor-pointer",children:"Release my book for sale now"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"After you submit for publication, it can take up to 72 hours to go live. During this time, edits cannot be made to your book."})]})]})}),i.jsx("div",{className:`bg-white border border-gray-200 rounded-md p-4 ${te.watch("previouslyPublished")?"opacity-50":""}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("input",{type:"radio",id:"scheduleRelease",name:"releaseOption",value:"scheduled",checked:te.watch("releaseOption")==="scheduled",disabled:!!te.watch("previouslyPublished"),onChange:D=>{D.target.checked&&!te.watch("previouslyPublished")&&te.setValue("releaseOption","scheduled")},className:`w-4 h-4 mt-1 ${te.watch("previouslyPublished")?"text-gray-400 cursor-not-allowed":"text-[#38b6ff]"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{htmlFor:"scheduleRelease",className:`font-medium ${te.watch("previouslyPublished")?"text-gray-500 cursor-not-allowed":"text-gray-900 cursor-pointer"}`,children:"Schedule my book's release"}),te.watch("releaseOption")==="scheduled"&&i.jsxs("div",{className:"mt-3",children:[i.jsx(_e,{type:"date",value:te.watch("scheduledReleaseDate")||"",onChange:D=>te.setValue("scheduledReleaseDate",D.target.value||null),min:new Date().toISOString().split("T")[0],disabled:!!te.watch("previouslyPublished"),className:`max-w-xs ${te.watch("previouslyPublished")?"opacity-50 cursor-not-allowed":""}`,placeholder:"Select release date"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:te.watch("previouslyPublished")?"Scheduled release not available for previously published titles":"Release date must be today or later"})]})]})]})})]})]})]})]})]}),u==="content"&&i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Upload your manuscript and configure content settings"})}),i.jsxs(ee,{className:"space-y-8",children:[i.jsxs("div",{className:"bg-teal-50 rounded-lg border border-teal-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ISBN/ASIN"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:he!=null&&he.isbn?"Your book has an official ISBN/ASIN assigned. This ISBN/ASIN is now being used for all system functionality.":`You can get a free KDP ISBN/ASIN or use your own. KDP Generator automatically creates a "placeholder" ISBN/ASIN for your book because it is necessary for the site to function properly until you replace it with a "real" one. Certain features (automatic import of your books, advertising management, income calculations, etc.) will only work fully automatically once you have replaced the placeholder ISBN/ASIN with your book's real ISBN/ASIN.`}),he!=null&&he.isbn?i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"officialIsbnContentApplied",className:"text-sm font-medium",children:"Official ISBN/ASIN"}),i.jsx(_e,{id:"officialIsbnContentApplied",value:he.isbn,disabled:!0,className:"bg-green-50 border-green-200 text-green-800 font-medium"}),i.jsx("p",{className:"text-sm text-green-600",children:"✓ Official ISBN/ASIN applied successfully. This ISBN/ASIN is now active for your book."})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"isbnPlaceholderContent",className:"text-sm font-medium",children:"ISBN/ASIN Placeholder"}),i.jsx(_e,{id:"isbnPlaceholderContent",placeholder:"PlaceHolder ISBN/ASIN will be auto-generated",value:(he==null?void 0:he.isbnPlaceholder)||"",disabled:!0,className:"bg-gray-100"}),i.jsx("p",{className:"text-sm text-gray-500",children:"This unique placeholder ISBN/ASIN is automatically generated for system functionality"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"officialIsbnContent",className:"text-sm font-medium",children:"Official ISBN/ASIN"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(_e,{id:"officialIsbnContent",placeholder:"Enter your own ISBN/ASIN if you have one",value:fe,onChange:D=>{Y(D.target.value),Ye&&Be("")},className:`${Ye?"border-red-500 focus:border-red-500":""}`}),Tt&&i.jsxs("p",{className:"text-sm text-blue-600 mt-1 flex items-center gap-1",children:[i.jsx("span",{className:"animate-spin inline-block w-3 h-3 border border-current border-t-transparent rounded-full"}),"Checking ISBN/ASIN availability..."]}),Ye&&i.jsx("p",{className:"text-sm text-red-600 mt-1",children:Ye})]}),i.jsx(F,{type:"button",onClick:()=>Yr(!0),className:"bg-[#ef4444] hover:bg-red-600 text-white flex-shrink-0",disabled:!(fe!=null&&fe.trim())||!!Ye||Tt,children:"Apply"})]}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enter your own ISBN/ASIN number if you have purchased one or get one from Amazon"})]})]})]})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg border border-green-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Print Options"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Choose how you'd like to print your book. We've pre-selected the most common settings to get you started. ",i.jsx("a",{href:"#",className:"text-blue-600 underline",children:"How will printing cost be calculated?"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Ink and Paper Type"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Pick which ink and paper type you'd like to print your manuscript with. ",i.jsx("a",{href:"#",className:"text-blue-600 underline",children:"↗"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{className:"w-full p-3 text-left border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:["Black & white interior",i.jsx("br",{}),i.jsx("span",{className:"text-gray-500",children:"with cream paper"})]}),i.jsxs("button",{className:"w-full p-3 text-left border-2 border-teal-500 bg-teal-50 rounded-md text-sm font-medium",children:["Black & white interior",i.jsx("br",{}),i.jsx("span",{className:"text-gray-700",children:"with white paper"})]}),i.jsxs("button",{className:"w-full p-3 text-left border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:["Standard color interior",i.jsx("br",{}),i.jsx("span",{className:"text-gray-500",children:"with white paper"})]}),i.jsxs("button",{className:"w-full p-3 text-left border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:["Premium color interior",i.jsx("br",{}),i.jsx("span",{className:"text-gray-500",children:"with white paper"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Trim Size"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Select the height and width you want your book to be."}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{className:"p-3 text-left border-2 border-teal-500 bg-teal-50 rounded-md text-sm font-medium",children:["6 x 9 in",i.jsx("br",{}),i.jsx("span",{className:"text-gray-700",children:"15.24 x 22.86 cm"})]}),i.jsx("button",{className:"p-3 text-left border border-gray-300 rounded-md hover:bg-gray-50 text-sm",onClick:()=>Fe(!0),children:"Select a different size"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Bleed Settings"}),i.jsxs("p",{className:"text-sm text-gray-600",children:[`Choose "Bleed" if you have images or illustrations extending to the page's edge in your manuscript. Otherwise, use "No Bleed." `,i.jsx("a",{href:"#",className:"text-blue-600 underline",children:"↗"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{className:"p-3 text-center border-2 border-teal-500 bg-teal-50 rounded-md text-sm font-medium",children:"No Bleed"}),i.jsx("button",{className:"p-3 text-center border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:"Bleed (PDF only)"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Paperback cover finish"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Choose how you'd like to laminate your book cover. ",i.jsx("a",{href:"#",className:"text-blue-600 underline",children:"↗"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{className:"p-3 text-center border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:"Matte"}),i.jsx("button",{className:"p-3 text-center border-2 border-teal-500 bg-teal-50 rounded-md text-sm font-medium",children:"Glossy"})]})]})]}),i.jsxs("div",{className:"flex flex-col items-center justify-start space-y-4",children:[i.jsx("div",{className:"w-48 h-64 bg-white border-2 border-gray-300 rounded-lg shadow-lg flex items-center justify-center relative",children:i.jsx("div",{className:"w-40 h-56 bg-gray-100 border border-gray-200 rounded flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Pr,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),i.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[i.jsx("div",{children:"CHAPTER 1."}),i.jsx("div",{className:"text-[10px]",children:"Down the Rabbit-Hole"})]})]})})}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"font-medium text-sm",children:"Black & white interior with white paper"}),i.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[i.jsx("div",{children:"• Typical for nonfiction"}),i.jsx("div",{children:"• Paper weight: 50-61 pound, 74-90 grams per square meter"})]})]})]})]})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Manuscript"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Upload your book interior. Please review our ",i.jsx("a",{href:"#",className:"text-blue-600 underline",children:"content guidelines"})," and ",i.jsx("a",{href:"#",className:"text-blue-600 underline",children:"quality standards"})," to help ensure your submission process goes smoothly. The file must be a single PDF."]}),i.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[i.jsx(Pr,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Upload a PDF file"}),i.jsx(F,{variant:"outline",size:"sm",children:"Upload a different file"})]})]})]}),i.jsxs("div",{className:"bg-orange-50 rounded-lg border border-orange-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Launch Preview"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Preview and approve your book before publishing."}),i.jsxs("div",{className:"bg-blue-100 border border-blue-200 rounded-md p-4 flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-blue-500",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"i"})})}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Download"})," the Zine & Maker erez Google Analytics or G2 pdf* uploaded"]})})]})]})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg border border-purple-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Book Cover"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Create a cover using Cover Creator or upload a PDF cover. Cover Creator is the easy option, which takes care of technical requirements and creates cover files for you."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",id:"coverCreator",name:"coverOption",defaultChecked:!0,className:"w-4 h-4 text-[#38b6ff] border-gray-300 focus:ring-[#38b6ff]"}),i.jsx(ne,{htmlFor:"coverCreator",className:"text-sm font-medium",children:"Upload a cover you already have (PDF only)"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",id:"uploadCover",name:"coverOption",className:"w-4 h-4 text-[#38b6ff] border-gray-300 focus:ring-[#38b6ff]"}),i.jsx(ne,{htmlFor:"uploadCover",className:"text-sm font-medium",children:"Cover Creator (recommended)"})]})]}),i.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[i.jsx(Pr,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Upload a PDF file"}),i.jsx(F,{variant:"outline",size:"sm",children:"Cover uploaded successfully!"})]})]})]}),i.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"AI-Generated Content"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Guidance for AI-based content: We prohibit content that violates our content policies. However, we allow books that have been authored or co-authored by humans and include or incorporate AI-generated text, imagery, and/or translations if you abide by our guidelines."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",id:"aiContentYes",name:"aiContent",className:"w-4 h-4 text-[#38b6ff] border-gray-300 focus:ring-[#38b6ff]"}),i.jsx(ne,{htmlFor:"aiContentYes",className:"text-sm font-medium",children:"Yes"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",id:"aiContentNo",name:"aiContent",defaultChecked:!0,className:"w-4 h-4 text-[#38b6ff] border-gray-300 focus:ring-[#38b6ff]"}),i.jsx(ne,{htmlFor:"aiContentNo",className:"text-sm font-medium",children:"No"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{className:"text-sm font-medium",children:"Description"}),i.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-md text-sm",rows:3,placeholder:"Provide details about the AI-generated content in your book..."})]})]})]}),i.jsxs("div",{className:"bg-indigo-50 rounded-lg border border-indigo-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Book Preview"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Preview your book to see how it will look when published."}),i.jsx(F,{variant:"outline",className:"bg-yellow-400 hover:bg-yellow-500 text-black border-yellow-400",children:"Launch Previewer"})]})]})]})]}),u==="pricing"&&i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Set your pricing and distribution preferences"})}),i.jsxs(ee,{className:"space-y-8",children:[i.jsxs("div",{className:"bg-red-50 rounded-lg border border-red-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Territories"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Select the territories where you have rights to sell this book."}),i.jsxs(Ll,{defaultValue:"worldwide",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ni,{value:"worldwide",id:"worldwide",className:"bg-[#ffffff]"}),i.jsx(ne,{htmlFor:"worldwide",className:"text-sm font-medium",children:"All territories (worldwide rights)"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ni,{value:"individual",id:"individual",className:"bg-[#ffffff]"}),i.jsx(ne,{htmlFor:"individual",className:"text-sm font-medium",children:"Individual territories"})]})]})]})]}),i.jsxs("div",{className:"bg-teal-50 rounded-lg border border-teal-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Primary Marketplace"}),i.jsx("div",{className:"space-y-2",children:i.jsxs(et,{value:te.watch("primaryMarketplace")||"",onValueChange:D=>te.setValue("primaryMarketplace",D),children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select primary marketplace"})}),i.jsx(Je,{children:hO.map(D=>i.jsx(U,{value:D,children:D},D))})]})})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing, Royalties, and Distribution"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"listPriceTemp",className:"text-sm font-medium",children:"List Price (USD)"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),i.jsx(_e,{id:"listPriceTemp",type:"number",step:"0.01",min:"0",className:"pl-8",placeholder:"9.99",defaultValue:"9.99"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"printCostTemp",className:"text-sm font-medium",children:"Print Cost"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),i.jsx(_e,{id:"printCostTemp",type:"number",step:"0.01",min:"0",className:"pl-8",placeholder:"0.00",defaultValue:"2.50"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"royaltyRateTemp",className:"text-sm font-medium",children:"Royalty Rate"}),i.jsxs(et,{defaultValue:"60",children:[i.jsx(Ze,{children:i.jsx(tt,{placeholder:"Select royalty"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"60",children:"60%"}),i.jsx(U,{value:"70",children:"70%"})]})]})]})]})})]}),i.jsxs("div",{className:"bg-pink-50 rounded-lg border border-pink-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Terms & Conditions"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Sa,{id:"acceptTerms"}),i.jsx(ne,{htmlFor:"acceptTerms",className:"text-sm font-medium",children:"I confirm that I agree to and am in compliance with the KDP Terms and Conditions"})]})})]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>r("/projects"),children:"Cancel"}),i.jsxs("div",{className:"flex space-x-3",children:[!fr&&i.jsxs(F,{variant:"destructive",onClick:rW,disabled:bP.isPending,children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Delete Book"]}),i.jsx(F,{type:"button",variant:"outline",onClick:()=>{const D=te.getValues();eW(D)},disabled:aa.isPending||Ar>Xr,children:aa.isPending?i.jsxs(i.Fragment,{children:[i.jsx(ao,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save as Draft"}),u!=="pricing"&&i.jsx(F,{type:"button",onClick:()=>{const D=te.getValues();tW(D)},disabled:aa.isPending||Ar>Xr,className:"bg-[#ff9500] hover:bg-orange-700",children:aa.isPending?i.jsxs(i.Fragment,{children:[i.jsx(ao,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save and Continue"}),u==="pricing"&&i.jsx(F,{type:"submit",disabled:aa.isPending||Ar>Xr,className:"bg-[#ff9500] hover:bg-orange-700",children:aa.isPending?i.jsxs(i.Fragment,{children:[i.jsx(ao,{className:"w-4 h-4 mr-2 animate-spin"}),fr?"Creating...":"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Lo,{className:"w-4 h-4 mr-2"}),fr?"Create Book":"Update Book"]})})]})]})]})]})}),!fr&&e&&i.jsx(DEe,{bookId:e,isVisible:Ee,onToggle:()=>pt(!Ee)})]}),i.jsx($i,{open:f,onOpenChange:h,children:i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Delete Book"}),i.jsx(ci,{children:"Are you sure you want to delete this book? This action cannot be undone."})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Cancel"}),i.jsx(ui,{onClick:()=>{bP.mutate(),h(!1)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),i.jsx(mn,{open:p,onOpenChange:g,children:i.jsxs(tn,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsx(rn,{className:"border-b pb-4 flex-shrink-0",children:i.jsx(nn,{className:"text-xl font-semibold",children:"Categories"})}),i.jsx("div",{className:"overflow-y-auto flex-1 pr-2 min-h-0",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"space-y-2",children:i.jsx("p",{className:"text-sm text-gray-700",children:"Select categories and subcategories in the drop-down menus below to find up to 3 category placements that most accurately describe your book's subject matter. Your book will appear in these locations in the Amazon Store."})}),I&&i.jsxs("div",{className:"flex justify-center items-center py-8",children:[i.jsx(ao,{className:"h-6 w-6 animate-spin"}),i.jsx("span",{className:"ml-2",children:"Loading categories..."})]}),!I&&T.length>0&&i.jsx("div",{className:"space-y-4",children:Array.from({length:Math.max(1,x.length+(x.length<3?1:0))},(D,J)=>i.jsxs("div",{className:"border border-gray-200 rounded",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 cursor-pointer hover:bg-gray-100",onClick:()=>N(b===`selector-${J}`?null:`selector-${J}`),children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:b===`selector-${J}`?"▼":"▶"}),i.jsxs("span",{className:"font-medium",children:["Category ",J+1,x[J]&&` - ${x[J].split(" › ").pop()}`]})]}),i.jsx("div",{className:"flex space-x-2",children:x[J]&&i.jsxs(i.Fragment,{children:[i.jsx(F,{variant:"link",size:"sm",className:"h-auto p-0 text-gray-600 hover:text-gray-800",onClick:de=>{de.stopPropagation(),_(ct=>({...ct,[J]:(ct[J]||0)+1}));const Oe=x.filter((ct,jt)=>jt!==J);y(Oe),N(`selector-${J}`)},children:"Reset"}),i.jsx(F,{variant:"link",size:"sm",className:"h-auto p-0 text-red-600 hover:text-red-800",onClick:de=>{de.stopPropagation();const Oe=x.filter((ct,jt)=>jt!==J);y(Oe)},children:"Remove"})]})})]}),b===`selector-${J}`&&i.jsx("div",{className:"p-4 border-t border-gray-200",children:i.jsx(LEe,{marketplaceCategories:T,selectedCategories:m,tempUISelections:x,setTempUISelections:y,resetTrigger:q[J],instanceId:`category-${J}`,onCategorySelect:de=>{if(!x.includes(de)){const Oe=[...x];Oe[J]=de,y(Oe.filter(Boolean))}},onCategoryRemove:Zq})})]},J))}),!I&&T.length===0&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-600",children:"No categories available for the selected marketplace."}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Try selecting a different Primary Marketplace."})]}),i.jsxs("div",{className:"space-y-4 bg-gray-50 rounded p-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h4",{className:"font-medium text-sm",children:[x.length," out of 3 category placements selected"]})}),i.jsx("div",{className:"space-y-2",children:x.map((D,J)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-700",children:D}),i.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-800",onClick:()=>{y(x.filter(de=>de!==D))},children:"Remove"})]},J))})]})]})}),i.jsxs("div",{className:"flex justify-between items-center border-t pt-4 flex-shrink-0 bg-white",children:[i.jsx(F,{variant:"outline",onClick:Xq,children:"Cancel"}),i.jsx(F,{onClick:Yq,className:"bg-[#ff9500] hover:bg-yellow-600 text-black",children:"Save categories"})]})]})}),i.jsx($i,{open:$,onOpenChange:G,children:i.jsxs(si,{className:"max-w-2xl w-[95vw] max-h-[90vh] overflow-y-auto",children:[i.jsxs(ai,{children:[i.jsx(li,{className:"text-lg font-semibold",children:"Marketplace Change Warning"}),i.jsx(ci,{asChild:!0,children:i.jsxs("div",{className:"space-y-4 text-sm",children:[i.jsxs("p",{className:"text-gray-700",children:["The new marketplace ",i.jsx("strong",{className:"text-gray-900",children:re})," is incompatible with some of your selected categories."]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsx("p",{className:"font-medium text-red-800 mb-2",children:"Incompatible categories:"}),i.jsx("ul",{className:"space-y-1 text-red-700",children:ae.map((D,J)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"text-red-500 mr-2 mt-0.5",children:"•"}),i.jsx("span",{className:"break-words",children:D})]},J))})]}),i.jsx("p",{className:"text-gray-700",children:"You can proceed with the marketplace change, but the incompatible categories will be removed, or cancel to keep your current categories and marketplace."})]})})]}),i.jsxs(oi,{className:"flex flex-col sm:flex-row gap-3 sm:gap-2 justify-center sm:justify-center",children:[i.jsx(di,{onClick:Gq,className:"w-full sm:w-auto",children:"Cancel - Keep current marketplace"}),i.jsx(ui,{onClick:Kq,className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto",children:"Change marketplace and remove categories"})]})]})}),i.jsx(mn,{open:Ce,onOpenChange:Fe,children:i.jsxs(tn,{className:"max-w-4xl w-[95vw] max-h-[90vh] overflow-y-auto",children:[i.jsx(rn,{className:"pb-2",children:i.jsx(nn,{children:"Trim Size"})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-base mb-3",children:"Most Popular Standard Trim Sizes:"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:$0.mostPopular.map(D=>i.jsxs("button",{onClick:()=>K(D.id),className:`p-3 text-center border rounded-md text-sm transition-colors ${ye===D.id?"border-2 border-teal-500 bg-teal-50 font-medium":"border border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("div",{className:"font-medium",children:D.label}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:D.metric})]},D.id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"flex justify-between items-center mb-3",children:i.jsx("h3",{className:"font-semibold text-base",children:"More Standard Trim Sizes:"})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:$0.moreStandard.map(D=>i.jsxs("button",{onClick:()=>K(D.id),className:`p-3 text-center border rounded-md text-sm transition-colors ${ye===D.id?"border-2 border-teal-500 bg-teal-50 font-medium":"border border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("div",{className:"font-medium",children:D.label}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:D.metric})]},D.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-base mb-2",children:"Non Standard Trim Sizes:"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"These sizes have limited distribution options."}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:$0.nonStandard.map(D=>i.jsxs("button",{onClick:()=>K(D.id),className:`p-3 text-center border rounded-md text-sm transition-colors ${ye===D.id?"border-2 border-teal-500 bg-teal-50 font-medium":"border border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("div",{className:"font-medium",children:D.label}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:D.metric})]},D.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-base mb-2",children:"Self Define Trim Size:"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Set up your book with your own trim size."}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{htmlFor:"customWidth",className:"text-sm",children:"Width:"}),i.jsx(_e,{id:"customWidth",type:"text",placeholder:"Width",className:"w-20 h-8 text-sm"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{htmlFor:"customHeight",className:"text-sm",children:"Height:"}),i.jsx(_e,{id:"customHeight",type:"text",placeholder:"Height",className:"w-20 h-8 text-sm"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs(et,{defaultValue:"in",children:[i.jsx(Ze,{className:"w-16 h-8 text-sm",children:i.jsx(tt,{})}),i.jsxs(Je,{children:[i.jsx(U,{value:"in",children:"in"}),i.jsx(U,{value:"cm",children:"cm"})]})]})}),i.jsx(F,{variant:"outline",size:"sm",className:"h-8",children:"Select"})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[i.jsx(F,{variant:"outline",onClick:()=>Fe(!1),children:"Cancel"}),i.jsx(F,{onClick:()=>{Fe(!1)},className:"bg-[#ff9500] hover:bg-orange-700 text-white",children:"Select Size"})]})]})}),i.jsx($i,{open:Qt,onOpenChange:Yr,children:i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Apply Official ISBN/ASIN"}),i.jsx(ci,{children:"Are you sure you want to apply this Official ISBN/ASIN? This action is irreversible and the ISBN/ASIN cannot be changed once applied to this book."})]}),i.jsxs(oi,{children:[i.jsx(di,{onClick:Uq,children:"Cancel"}),i.jsx(ui,{onClick:zq,className:"bg-[#ef4444] hover:bg-red-600 text-white",children:"Apply ISBN/ASIN"})]})]})})]})}function FEe(){return ze({queryKey:["/api/series"],queryFn:async()=>{const e=await fetch("/api/series",{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch series");return e.json()},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0})}function BEe(){const[,e]=$n(),[t,r]=j.useState("");j.useState("all");const[n,s]=j.useState("newest"),{toast:a}=Pt(),o=dr(),{data:l=[],isLoading:c,error:u}=FEe(),d=Qe({mutationFn:async v=>await $e("PATCH",`/api/books/${v}`),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/series"]}),o.invalidateQueries({queryKey:["/api/books"]}),a.success({title:"Book Removed",description:"The book has been successfully removed from the series."})},onError:v=>{a.error({title:"Error",description:v.message||"Failed to remove book from series"})}}),f=Qe({mutationFn:async v=>await $e("DELETE",`/api/series/${v}`),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/series"]}),o.invalidateQueries({queryKey:["/api/books"]}),o.invalidateQueries({queryKey:["/api/projects"]}),a.success({title:"Series Deleted",description:"The series has been successfully deleted."})},onError:v=>{a.error({title:"Error",description:v.message||"Failed to delete series"})}}),h=v=>{const x=v.reduce((b,N)=>b+parseFloat(N.totalRevenue||"0"),0),y=v.reduce((b,N)=>b+parseFloat(N.monthlyRevenue||"0"),0);return{totalRevenue:x.toFixed(2),monthlyRevenue:y.toFixed(2)}},p=l.filter(v=>v.title.toLowerCase().includes(t.toLowerCase())||(v.description||"").toLowerCase().includes(t.toLowerCase())).sort((v,x)=>{var y,b;switch(n){case"newest":return new Date(x.createdAt).getTime()-new Date(v.createdAt).getTime();case"oldest":return new Date(v.createdAt).getTime()-new Date(x.createdAt).getTime();case"title-az":return v.title.localeCompare(x.title);case"title-za":return x.title.localeCompare(v.title);case"lastModified":return new Date(x.updatedAt).getTime()-new Date(v.updatedAt).getTime();case"language-az":return v.language.localeCompare(x.language);case"language-za":return x.language.localeCompare(v.language);case"mostBooks":return(((y=x.books)==null?void 0:y.length)||0)-(((b=v.books)==null?void 0:b.length)||0);case"highestRevenue":const N=h(v.books||[]),w=h(x.books||[]);return parseFloat(w.totalRevenue)-parseFloat(N.totalRevenue);default:return 0}}),g=v=>{console.log("Deleting series:",v),f.mutate(v)},m=()=>{e("/series-setup")};return i.jsx(ft,{children:i.jsxs("div",{className:"space-y-6 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Series"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your book series and organize your content"})]}),i.jsxs(F,{onClick:m,style:{backgroundColor:"#38b6ff"},className:"hover:opacity-90 text-white",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Series"]})]}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[i.jsxs("div",{className:"relative",children:[i.jsx(qx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(_e,{placeholder:"Search series...",value:t,onChange:v=>r(v.target.value),className:"pl-10 w-full sm:w-80"})]}),i.jsxs(et,{value:n,onValueChange:v=>s(v),children:[i.jsx(Ze,{className:"w-full sm:w-48",children:i.jsx(tt,{placeholder:"Sort by"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"newest",children:"Newest First"}),i.jsx(U,{value:"oldest",children:"Oldest First"}),i.jsx(U,{value:"title-az",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($L,{className:"h-4 w-4"}),"Title A-Z"]})}),i.jsx(U,{value:"title-za",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(DL,{className:"h-4 w-4"}),"Title Z-A"]})}),i.jsx(U,{value:"lastModified",children:"Last Modified"}),i.jsx(U,{value:"language-az",children:"Language A-Z"}),i.jsx(U,{value:"language-za",children:"Language Z-A"}),i.jsx(U,{value:"mostBooks",children:"Most Books"}),i.jsx(U,{value:"highestRevenue",children:"Highest Total Revenue"})]})]})]})}),c&&i.jsx("div",{className:"text-center py-8",children:i.jsx("div",{className:"text-gray-600",children:"Loading series..."})}),u&&i.jsx("div",{className:"text-center py-8",children:i.jsx("div",{className:"text-red-600",children:"Failed to load series. Please try again."})}),!c&&!u&&i.jsxs("div",{className:"text-sm text-gray-600",children:[p.length," series found"]}),!c&&!u&&p.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Pr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No series found"}),i.jsx("p",{className:"text-gray-600 mb-6",children:t?"Try adjusting your search terms":"Create your first series to get started"}),i.jsxs(F,{onClick:()=>e("/series-setup"),style:{backgroundColor:"#38b6ff"},className:"hover:opacity-90 text-white",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Series"]})]}),!c&&!u&&p.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(v=>i.jsxs(Z,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(oe,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(le,{className:"text-lg mb-2",children:v.title}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx(me,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:v.language}),i.jsx(me,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:v.readingOrder})]})]}),i.jsxs(Uu,{children:[i.jsx(Vu,{asChild:!0,children:i.jsx(F,{variant:"ghost",size:"sm",children:i.jsx(UG,{className:"w-4 h-4"})})}),i.jsxs(Yl,{children:[i.jsx(Ir,{asChild:!0,children:i.jsxs(Pn,{href:`/series-setup/${v.id}`,className:"flex items-center",children:[i.jsx(HL,{className:"w-4 h-4 mr-2"}),"Edit Series Setup"]})}),i.jsx(Ir,{asChild:!0,children:i.jsxs(Pn,{href:`/series-edit/${v.id}`,className:"flex items-center",children:[i.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Manage Series"]})}),i.jsxs($i,{children:[i.jsx(oc,{asChild:!0,children:i.jsxs(Ir,{className:"text-red-600 focus:text-red-600",onSelect:x=>x.preventDefault(),children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Delete Series"]})}),i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Confirm Deletion"}),i.jsxs(ci,{children:['Are you sure you want to delete the series "',v.title,'"? This action cannot be undone and will remove all book links to this series.']})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Cancel"}),i.jsx(ui,{onClick:()=>g(v.id),className:"bg-red-600 hover:bg-red-700",children:"Delete Series"})]})]})]})]})]})]})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-gray-600 line-clamp-3 series-description",dangerouslySetInnerHTML:{__html:v.description||"No description provided"}}),v.books&&v.books.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-800 flex items-center",children:[i.jsx(Kj,{className:"w-4 h-4 mr-1"}),"Books in this series (",v.books.length,")"]}),i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:v.books.sort((x,y)=>(x.seriesNumber||0)-(y.seriesNumber||0)).map(x=>i.jsxs("div",{className:"text-xs p-3 bg-gray-50 rounded space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[x.seriesNumber&&i.jsxs("span",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded text-xs font-medium flex-shrink-0",children:["#",x.seriesNumber]}),i.jsx("span",{className:"font-medium truncate",children:x.title})]}),i.jsxs($i,{children:[i.jsx(oc,{asChild:!0,children:i.jsx(F,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0 ml-2",title:"Remove book from series",children:i.jsx(ji,{className:"h-3 w-3"})})}),i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Remove Book from Series"}),i.jsxs(ci,{children:['Are you sure you want to remove "',x.title,'" from this series? The book will remain in your library but will no longer be part of "',v.title,'".']})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Cancel"}),i.jsx(ui,{className:"bg-red-600 hover:bg-red-700",onClick:()=>d.mutate(x.id),disabled:d.isPending,children:d.isPending?"Removing...":"Remove from Series"})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(me,{variant:"secondary",className:"text-xs",children:x.format}),i.jsx(me,{variant:x.status==="published"?"default":"secondary",className:"text-xs",children:x.status})]})]},x.id))})]}),(!v.books||v.books.length===0)&&i.jsxs("div",{className:"text-xs text-gray-500 italic flex items-center",children:[i.jsx(Kj,{className:"w-3 h-3 mr-1"}),"No books in this series yet"]}),v.books&&v.books.length>0&&i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"p-1.5 bg-green-100 rounded",children:i.jsx(bi,{className:"w-3 h-3 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"This Month"}),i.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["$",h(v.books).monthlyRevenue]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"p-1.5 bg-blue-100 rounded",children:i.jsx(yi,{className:"w-3 h-3 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Total Revenue"}),i.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["$",h(v.books).totalRevenue]})]})]})]}),i.jsxs("div",{className:"text-xs text-gray-500 pt-2",children:["Created: ",new Date(v.createdAt).toLocaleDateString()]})]})})]},v.id))})]})})}function zEe(){const{seriesId:e}=Om(),[,t]=$n(),{toast:r}=Pt(),n=dr(),[s,a]=j.useState(0),o=4e3,[l,c]=j.useState(!1),[u,d]=j.useState(""),[f,h]=j.useState(""),p=Kd({defaultValues:{language:"english",title:"",readingOrder:"unordered",description:""}}),{data:g,isLoading:m}=ze({queryKey:["/api/series",e],queryFn:async()=>{const S=await fetch(`/api/series/${e}`,{credentials:"include"});if(!S.ok)throw new Error("Failed to fetch series");return S.json()},enabled:!!e});j.useEffect(()=>{if(g&&(p.setValue("title",g.title||""),p.setValue("language",g.language||"english"),p.setValue("readingOrder",g.readingOrder||"unordered"),g.description)){h(g.description);const C=new DOMParser().parseFromString(g.description,"text/html"),k=C.body.textContent||C.body.innerText||"";a(k.length),setTimeout(()=>{const P=document.getElementById("description-editor");if(P){for(;P.firstChild;)P.removeChild(P.firstChild);const A=y(g.description),M=new DOMParser().parseFromString(A,"text/html");for(let T of Array.from(M.body.childNodes))if(T.nodeType===Node.TEXT_NODE)P.appendChild(document.createTextNode(T.textContent||""));else if(T.nodeType===Node.ELEMENT_NODE){const E=T;if(["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN"].includes(E.tagName)){const L=document.createElement(E.tagName.toLowerCase());L.textContent=E.textContent,P.appendChild(L)}}}},100)}},[g,p]);const v=async S=>{if(s>o){r({title:"Error",description:`Description exceeds ${o} character limit.`,variant:"destructive"});return}try{const C={title:S.title,language:S.language,readingOrder:S.readingOrder,description:f},k=await fetch(`/api/series/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(C),credentials:"include"});if(!k.ok){const O=await k.json();throw console.error("API Error:",O),new Error(O.message||"Failed to update series")}const P=await k.json();await n.invalidateQueries({queryKey:["/api/series"]}),await n.invalidateQueries({queryKey:["/api/series",e]}),r({title:"Series updated",description:"Your series has been successfully updated."});const A=sessionStorage.getItem("returnToBookEdit");t(A?A==="new"?"/books/create":`/books/edit/${A}`:"/manage-series")}catch(C){console.error("Error updating series:",C),r({title:"Error",description:C instanceof Error?C.message:"Failed to update series. Please try again.",variant:"destructive"})}};j.useEffect(()=>{const S=document.createElement("style");return S.textContent=`
      #description-editor:empty:before {
        content: attr(data-placeholder);
        color: #9ca3af;
        pointer-events: none;
      }
      #description-editor h4 { font-size: 1.25rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor h5 { font-size: 1.125rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor h6 { font-size: 1rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor ul { list-style-type: disc; margin-left: 1.5rem; }
      #description-editor ol { list-style-type: decimal; margin-left: 1.5rem; }
      #description-editor li { margin: 0.25rem 0; }
      #description-editor a { color: #3b82f6; text-decoration: underline; }
      #description-editor p { margin: 0.5rem 0; }
    `,document.head.appendChild(S),()=>{document.head.removeChild(S)}},[]);const x=(S,C)=>{document.execCommand(S,!1,C),b()},y=S=>{const C=document.createElement("div"),P=new DOMParser().parseFromString(S,"text/html"),A=["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN","A"],O=(T,E)=>{if(T.nodeType===Node.TEXT_NODE)E.appendChild(document.createTextNode(T.textContent||""));else if(T.nodeType===Node.ELEMENT_NODE){const I=T;if(A.includes(I.tagName)){const L=document.createElement(I.tagName.toLowerCase());if(I.tagName==="A"&&I.getAttribute("href")){const q=I.getAttribute("href");q&&(q.startsWith("http://")||q.startsWith("https://")||q.startsWith("mailto:"))&&L.setAttribute("href",q)}E.appendChild(L);for(let q of Array.from(T.childNodes))O(q,L)}else for(let L of Array.from(T.childNodes))O(L,E)}};for(let T of Array.from(P.body.childNodes))O(T,C);return C.querySelectorAll("*").forEach(T=>{var I;const E=T.getAttribute("style");if(E)if(E.includes("--tw-")||E.includes("--gradient")||E.includes("--ring")||E.includes("--shadow"))T.removeAttribute("style");else{const L=E.split(";").filter(q=>{var $;const _=($=q.trim().split(":")[0])==null?void 0:$.trim();return["color","font-weight","font-style","text-decoration"].includes(_)}).join("; ");L?T.setAttribute("style",L):T.removeAttribute("style")}T.tagName!=="BR"&&!((I=T.textContent)!=null&&I.trim())&&T.children.length===0&&T.remove()}),C.innerHTML},b=()=>{const S=document.getElementById("description-editor");if(!S)return;const C=S.innerHTML,k=y(C),P=S.innerText||S.textContent||"";a(P.length),h(k),p.setValue("description",k)},N=S=>{switch(S){case"heading4":x("formatBlock","h4");break;case"heading5":x("formatBlock","h5");break;case"heading6":x("formatBlock","h6");break;case"normal":x("formatBlock","div");break}},w=()=>{u&&(x("createLink",u),d(""),c(!1))};return m?i.jsx(ft,{children:i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})}):i.jsx(ft,{children:i.jsx("div",{className:"bg-gray-50 min-h-screen",children:i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(F,{variant:"ghost",onClick:()=>{const S=sessionStorage.getItem("returnToBookEdit");t(S?S==="new"?"/books/create":`/books/edit/${S}`:"/manage-series")},children:[i.jsx(En,{className:"w-4 h-4 mr-2"}),"Back"]}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Series Details"})]})}),i.jsxs("form",{onSubmit:p.handleSubmit(v),className:"space-y-8",children:[i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Language"})}),i.jsx(ee,{children:i.jsxs(et,{value:p.watch("language"),onValueChange:S=>p.setValue("language",S),children:[i.jsx(Ze,{className:"w-full",children:i.jsx(tt,{placeholder:"Select language"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"english",children:"English"}),i.jsx(U,{value:"spanish",children:"Español"}),i.jsx(U,{value:"french",children:"Français"}),i.jsx(U,{value:"german",children:"Deutsch"}),i.jsx(U,{value:"italian",children:"Italiano"}),i.jsx(U,{value:"portuguese",children:"Português"}),i.jsx(U,{value:"dutch",children:"Nederlands"}),i.jsx(U,{value:"japanese",children:"日本語"}),i.jsx(U,{value:"chinese_simplified",children:"中文(简体)"}),i.jsx(U,{value:"chinese_traditional",children:"中文(繁體)"}),i.jsx(U,{value:"korean",children:"한국어"}),i.jsx(U,{value:"arabic",children:"العربية"}),i.jsx(U,{value:"hindi",children:"हिन्दी"}),i.jsx(U,{value:"russian",children:"Русский"}),i.jsx(U,{value:"turkish",children:"Türkçe"}),i.jsx(U,{value:"polish",children:"Polski"}),i.jsx(U,{value:"swedish",children:"Svenska"}),i.jsx(U,{value:"norwegian",children:"Norsk"}),i.jsx(U,{value:"danish",children:"Dansk"}),i.jsx(U,{value:"finnish",children:"Suomi"}),i.jsx(U,{value:"czech",children:"Čeština"}),i.jsx(U,{value:"hungarian",children:"Magyar"}),i.jsx(U,{value:"romanian",children:"Română"}),i.jsx(U,{value:"bulgarian",children:"Български"}),i.jsx(U,{value:"croatian",children:"Hrvatski"}),i.jsx(U,{value:"slovak",children:"Slovenčina"}),i.jsx(U,{value:"slovenian",children:"Slovenščina"}),i.jsx(U,{value:"estonian",children:"Eesti"}),i.jsx(U,{value:"latvian",children:"Latviešu"}),i.jsx(U,{value:"lithuanian",children:"Lietuvių"}),i.jsx(U,{value:"ukrainian",children:"Українська"}),i.jsx(U,{value:"greek",children:"Ελληνικά"}),i.jsx(U,{value:"hebrew",children:"עברית"}),i.jsx(U,{value:"thai",children:"ไทย"}),i.jsx(U,{value:"vietnamese",children:"Tiếng Việt"}),i.jsx(U,{value:"indonesian",children:"Bahasa Indonesia"}),i.jsx(U,{value:"malay",children:"Bahasa Melayu"}),i.jsx(U,{value:"filipino",children:"Filipino"}),i.jsx(U,{value:"catalan",children:"Català"}),i.jsx(U,{value:"basque",children:"Euskera"}),i.jsx(U,{value:"galician",children:"Galego"})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Series Title"})}),i.jsxs(ee,{children:[i.jsx(_e,{...p.register("title",{required:"Series title is required"}),placeholder:"Enter your series title",className:"w-full"}),p.formState.errors.title&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.formState.errors.title.message})]})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Reading Order"})}),i.jsx(ee,{children:i.jsxs(Ll,{value:p.watch("readingOrder"),onValueChange:S=>p.setValue("readingOrder",S),className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(ni,{value:"unordered",id:"unordered",className:"mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{htmlFor:"unordered",className:"font-medium",children:"Un-ordered series"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Readers can enjoy the books in any order. Each book stands alone."})]})]}),i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(ni,{value:"ordered",id:"ordered",className:"mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ne,{htmlFor:"ordered",className:"font-medium",children:"Ordered series"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Books should be read in a specific order for the best experience."})]})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{children:"Series Preview"})}),i.jsxs(ee,{children:[i.jsx("div",{className:"flex items-center justify-center w-24 h-24 bg-gray-100 border rounded mx-auto",children:i.jsxs("div",{className:"grid grid-cols-3 gap-1 w-16 h-16",children:[i.jsx("div",{className:"bg-gray-300 rounded text-xs flex items-center justify-center font-bold",children:"2"}),i.jsx("div",{style:{backgroundColor:"#38b6ff"},className:"text-white rounded text-xs flex items-center justify-center font-bold",children:"1"}),i.jsx("div",{className:"bg-gray-300 rounded text-xs flex items-center justify-center font-bold",children:"3"})]})}),i.jsx("p",{className:"text-center text-sm text-gray-600 mt-2",children:"Your series image will be created automatically using book covers"})]})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Description"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Describe your series to help readers understand what to expect. Maximum ",o.toLocaleString()," characters."]})]}),i.jsxs(ee,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg border",children:[i.jsxs(et,{onValueChange:N,children:[i.jsx(Ze,{className:"w-32",children:i.jsx(tt,{placeholder:"Format"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"normal",children:"Normal"}),i.jsx(U,{value:"heading4",children:"Heading 4"}),i.jsx(U,{value:"heading5",children:"Heading 5"}),i.jsx(U,{value:"heading6",children:"Heading 6"})]})]}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>x("bold"),children:i.jsx("strong",{children:"B"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>x("italic"),children:i.jsx("em",{children:"I"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>x("underline"),children:i.jsx("u",{children:"U"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>x("insertUnorderedList"),children:"• List"}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>x("insertOrderedList"),children:"1. List"}),i.jsxs(mn,{open:l,onOpenChange:c,children:[i.jsx(nl,{asChild:!0,children:i.jsx(F,{type:"button",variant:"outline",size:"sm",children:"🔗 Link"})}),i.jsxs(tn,{children:[i.jsx(rn,{children:i.jsx(nn,{children:"Insert Link"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(_e,{placeholder:"Enter URL",value:u,onChange:S=>d(S.target.value)}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(F,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),i.jsx(F,{onClick:w,style:{backgroundColor:"#38b6ff",borderColor:"#38b6ff"},children:"Insert"})]})]})]})]})]}),i.jsx("div",{id:"description-editor",contentEditable:!0,className:"min-h-[200px] p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","data-placeholder":"Describe your series here...",onInput:b,style:{maxHeight:"400px",overflowY:"auto",lineHeight:"1.5"}}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsxs("span",{className:s>o?"text-red-500":"text-gray-600",children:[s.toLocaleString()," / ",o.toLocaleString()," characters"]}),s>o&&i.jsxs("span",{className:"text-red-500 font-medium",children:["Exceeds limit by ",(s-o).toLocaleString()," characters"]})]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>{const S=sessionStorage.getItem("returnToBookEdit");t(S?S==="new"?"/books/create":`/books/edit/${S}`:"/manage-series")},children:"Cancel"}),i.jsx("div",{className:"flex space-x-3",children:i.jsxs(F,{type:"submit",disabled:s>o,style:{backgroundColor:"#38b6ff",borderColor:"#38b6ff"},children:[i.jsx(Gl,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})})})}function UEe(){const[,e]=$n(),{toast:t}=Pt(),r=dr(),[n,s]=j.useState(0),a=4e3,[o,l]=j.useState(!1),[c,u]=j.useState(""),[d,f]=j.useState(""),h=Kd({defaultValues:{language:"english",title:"",readingOrder:"unordered",description:""}}),p=async b=>{if(n>a){t({title:"Error",description:`Description exceeds ${a} character limit.`,variant:"destructive"});return}try{const N={title:b.title,language:b.language,readingOrder:b.readingOrder,description:d},w=await fetch("/api/series",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N),credentials:"include"});if(!w.ok){const S=await w.json();throw console.error("API Error:",S),new Error(S.message||"Failed to save series")}await r.invalidateQueries({queryKey:["/api/series"]}),t({title:"Series saved",description:"Your series has been successfully created."}),e("/manage-series")}catch(N){console.error("Error saving series:",N),t({title:"Error",description:"Failed to save series. Please try again.",variant:"destructive"})}};j.useEffect(()=>{const b=document.createElement("style");return b.textContent=`
      #description-editor:empty:before {
        content: attr(data-placeholder);
        color: #9ca3af;
        pointer-events: none;
      }
      #description-editor h4 { font-size: 1.25rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor h5 { font-size: 1.125rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor h6 { font-size: 1rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor ul { list-style-type: disc; margin-left: 1.5rem; }
      #description-editor ol { list-style-type: decimal; margin-left: 1.5rem; }
      #description-editor li { margin: 0.25rem 0; }
      #description-editor a { color: #3b82f6; text-decoration: underline; }
      #description-editor p { margin: 0.5rem 0; }
    `,document.head.appendChild(b),()=>{document.head.removeChild(b)}},[]);const g=(b,N)=>{document.execCommand(b,!1,N),v()},m=b=>{const N=document.createElement("div"),S=new DOMParser().parseFromString(b,"text/html"),C=["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN","A"],k=(A,O)=>{if(A.nodeType===Node.TEXT_NODE)O.appendChild(document.createTextNode(A.textContent||""));else if(A.nodeType===Node.ELEMENT_NODE){const M=A;if(C.includes(M.tagName)){const T=document.createElement(M.tagName.toLowerCase());if(M.tagName==="A"&&M.getAttribute("href")){const E=M.getAttribute("href");E&&(E.startsWith("http://")||E.startsWith("https://")||E.startsWith("mailto:"))&&T.setAttribute("href",E)}O.appendChild(T);for(let E of Array.from(A.childNodes))k(E,T)}else for(let T of Array.from(A.childNodes))k(T,O)}};for(let A of Array.from(S.body.childNodes))k(A,N);return N.querySelectorAll("*").forEach(A=>{var M;const O=A.getAttribute("style");if(O)if(O.includes("--tw-")||O.includes("--gradient")||O.includes("--ring")||O.includes("--shadow"))A.removeAttribute("style");else{const T=O.split(";").filter(E=>{var L;const I=(L=E.trim().split(":")[0])==null?void 0:L.trim();return["color","font-weight","font-style","text-decoration"].includes(I)}).join("; ");T?A.setAttribute("style",T):A.removeAttribute("style")}A.tagName!=="BR"&&!((M=A.textContent)!=null&&M.trim())&&A.children.length===0&&A.remove()}),N.innerHTML},v=()=>{const b=document.getElementById("description-editor");if(!b)return;const N=b.innerHTML,w=m(N),S=b.innerText||b.textContent||"";s(S.length),f(w),h.setValue("description",w)},x=b=>{switch(b){case"heading4":g("formatBlock","h4");break;case"heading5":g("formatBlock","h5");break;case"heading6":g("formatBlock","h6");break;case"normal":g("formatBlock","div");break}},y=()=>{if(c){const b=document.getElementById("description-editor");if(b){b.focus();const N=window.getSelection();if(N&&N.rangeCount>0){const w=N.getRangeAt(0),S=w.toString(),C=document.createElement("a");C.href=c,C.textContent=S||c,C.style.color="#3b82f6",C.style.textDecoration="underline",w.deleteContents(),w.insertNode(C),N.removeAllRanges(),v()}}u(""),l(!1)}};return i.jsx(ft,{children:i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsx("div",{className:"mb-8",children:i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Series Setup"})}),i.jsxs("form",{onSubmit:h.handleSubmit(p),className:"space-y-6",children:[i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Language"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Choose the primary language for this series."}),i.jsxs(et,{value:h.watch("language"),onValueChange:b=>h.setValue("language",b),children:[i.jsx(Ze,{className:"w-full max-w-md",children:i.jsx(tt,{})}),i.jsxs(Je,{children:[i.jsx(U,{value:"english",children:"English"}),i.jsx(U,{value:"german",children:"German"}),i.jsx(U,{value:"french",children:"French"}),i.jsx(U,{value:"spanish",children:"Spanish"}),i.jsx(U,{value:"italian",children:"Italian"}),i.jsx(U,{value:"portuguese",children:"Portuguese"}),i.jsx(U,{value:"dutch",children:"Dutch"}),i.jsx(U,{value:"japanese",children:"Japanese"}),i.jsx(U,{value:"afrikaans",children:"Afrikaans"}),i.jsx(U,{value:"arabic",children:"Arabic (Beta)"}),i.jsx(U,{value:"basque",children:"Basque"}),i.jsx(U,{value:"breton",children:"Breton"}),i.jsx(U,{value:"catalan",children:"Catalan"}),i.jsx(U,{value:"chinese_traditional",children:"Chinese (Traditional) (Beta)"}),i.jsx(U,{value:"cornish",children:"Cornish"}),i.jsx(U,{value:"corsican",children:"Corsican"}),i.jsx(U,{value:"danish",children:"Danish"}),i.jsx(U,{value:"eastern_frisian",children:"Eastern Frisian"}),i.jsx(U,{value:"finnish",children:"Finnish"}),i.jsx(U,{value:"frisian",children:"Frisian"}),i.jsx(U,{value:"galician",children:"Galician"}),i.jsx(U,{value:"gujarati",children:"Gujarati"}),i.jsx(U,{value:"hindi",children:"Hindi"}),i.jsx(U,{value:"icelandic",children:"Icelandic"}),i.jsx(U,{value:"irish",children:"Irish"}),i.jsx(U,{value:"luxembourgish",children:"Luxembourgish"}),i.jsx(U,{value:"malayalam",children:"Malayalam"}),i.jsx(U,{value:"manx",children:"Manx"}),i.jsx(U,{value:"marathi",children:"Marathi"}),i.jsx(U,{value:"northern_frisian",children:"Northern Frisian"}),i.jsx(U,{value:"norwegian",children:"Norwegian"}),i.jsx(U,{value:"nynorsk_norwegian",children:"Nynorsk Norwegian"}),i.jsx(U,{value:"romanian",children:"Romanian"}),i.jsx(U,{value:"scots",children:"Scots"}),i.jsx(U,{value:"scottish_gaelic",children:"Scottish Gaelic"}),i.jsx(U,{value:"swedish",children:"Swedish"}),i.jsx(U,{value:"tamil",children:"Tamil"}),i.jsx(U,{value:"welsh",children:"Welsh"})]})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Series title"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Enter your series title as you'd like it to appear on the series detail page."}),i.jsx(ne,{htmlFor:"title",className:"text-sm font-medium",children:"Series title"}),i.jsx(_e,{id:"title",placeholder:"Enter your series name",...h.register("title",{required:"Series title is required"}),className:"w-full"}),h.formState.errors.title&&i.jsx("p",{className:"text-sm text-red-600",children:h.formState.errors.title.message})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Reading order"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Choose how you want to display titles in your series."}),i.jsx(Ll,{value:h.watch("readingOrder"),onValueChange:b=>h.setValue("readingOrder",b),children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(ni,{value:"ordered",id:"ordered",className:"mt-1"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ne,{htmlFor:"ordered",className:"font-medium",children:"Ordered:"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Display numbers with the titles to indicate that books should be read in sequence. Example: The Lord of the Rings series."})]})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(ni,{value:"unordered",id:"unordered",className:"mt-1"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ne,{htmlFor:"unordered",className:"font-medium",children:"Un-ordered:"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Do not display numbers with the titles, as the books can be read in any order. Titles will be displayed in the order they appear. Example: The Sherlock Holmes series."})]})]})]})})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Series image"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Your series detail page image will be automatically created using up to the first three book covers in your series."}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-16 h-20 bg-gray-200 border border-gray-300 rounded flex items-center justify-center text-lg font-bold text-gray-600",children:"2"}),i.jsx("div",{className:"w-16 h-20 bg-white border-2 border-blue-500 rounded flex items-center justify-center text-lg font-bold text-blue-600",children:"1"}),i.jsx("div",{className:"w-16 h-20 bg-gray-200 border border-gray-300 rounded flex items-center justify-center text-lg font-bold text-gray-600",children:"3"})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Description"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Enter a description for your series. If left blank, Amazon will display the description from the first book in the series."}),i.jsxs("div",{className:"flex items-center space-x-1 p-2 bg-gray-50 border rounded",children:[i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>g("bold"),title:"Bold",children:i.jsx("strong",{children:"B"})}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>g("italic"),title:"Italic",children:i.jsx("em",{children:"I"})}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>g("underline"),title:"Underline",children:i.jsx("u",{children:"U"})}),i.jsx("div",{className:"w-px h-6 bg-gray-300"}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>g("insertUnorderedList"),title:"Bullet List",children:"•"}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>g("insertOrderedList"),title:"Numbered List",children:"1."}),i.jsx("div",{className:"w-px h-6 bg-gray-300"}),i.jsxs(et,{defaultValue:"normal",onValueChange:b=>x(b),children:[i.jsx(Ze,{className:"w-24 h-8",children:i.jsx(tt,{})}),i.jsxs(Je,{children:[i.jsx(U,{value:"normal",children:"Normal"}),i.jsx(U,{value:"heading4",children:"Heading 4"}),i.jsx(U,{value:"heading5",children:"Heading 5"}),i.jsx(U,{value:"heading6",children:"Heading 6"})]})]}),i.jsx("div",{className:"w-px h-6 bg-gray-300"}),i.jsxs(mn,{open:o,onOpenChange:l,children:[i.jsx(nl,{asChild:!0,children:i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",title:"Insert Link",children:"🔗"})}),i.jsxs(tn,{className:"sm:max-w-md","aria-describedby":"insert-link-description",children:[i.jsx(rn,{children:i.jsx(nn,{children:"Insert Link"})}),i.jsxs("div",{className:"space-y-6 pt-2",id:"insert-link-description",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL"}),i.jsx(_e,{id:"link-url",type:"url",placeholder:"https://example.com",value:c,onChange:b=>u(b.target.value),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),y())},className:"w-full"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>{u(""),l(!1)},children:"Cancel"}),i.jsx(F,{type:"button",style:{backgroundColor:"var(--kdp-primary-blue)"},className:"text-white hover:opacity-90",onClick:y,disabled:!c,children:"Insert Link"})]})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"description-editor",className:"text-sm font-medium",children:"(Optional)"}),i.jsx("div",{id:"description-editor",contentEditable:!0,className:"min-h-[200px] p-3 border border-gray-300 rounded-md resize-y overflow-auto focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{minHeight:"200px",maxHeight:"500px",fontSize:"14px",lineHeight:"1.5"},onInput:v,onBlur:v,"data-placeholder":"Enter your series description...",suppressContentEditableWarning:!0}),i.jsx("input",{type:"hidden",...h.register("description")}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("span",{className:`text-sm ${n>a?"text-red-600":"text-green-600"}`,children:[i.jsx("strong",{children:n})," / ",a]})})]})]})})]}),i.jsx("div",{className:"flex items-center justify-end pt-6",children:i.jsx(F,{type:"submit",disabled:n>a,style:{backgroundColor:"var(--kdp-primary-blue)"},className:"hover:opacity-90 text-white px-8",children:"Save"})})]})]})})}function pO(){const{seriesId:e}=Om(),[,t]=$n(),{toast:r}=Pt(),n=dr(),[s,a]=j.useState(0),o=4e3,[l,c]=j.useState(!1),[u,d]=j.useState(""),[f,h]=j.useState(""),[p]=j.useState(!!e),g=Kd({defaultValues:{language:"english",title:"",readingOrder:"unordered",description:""}}),{data:m,isLoading:v}=ze({queryKey:["/api/series",e],queryFn:async()=>{if(!e)return null;const P=await fetch(`/api/series/${e}`,{credentials:"include"});if(!P.ok)throw new Error("Failed to fetch series");return P.json()},enabled:!!e});j.useEffect(()=>{if(m&&p&&(g.setValue("title",m.title||""),g.setValue("language",m.language||"english"),g.setValue("readingOrder",m.readingOrder||"unordered"),m.description)){h(m.description);const P=document.createElement("div");P.textContent=m.description,P.innerHTML,P.textContent="";const O=new DOMParser().parseFromString(m.description,"text/html"),M=O.body.textContent||O.body.innerText||"";a(M.length),setTimeout(()=>{const T=document.getElementById("description-editor");if(T){for(;T.firstChild;)T.removeChild(T.firstChild);const E=b(m.description),I=document.createDocumentFragment();document.createElement("div");const q=new DOMParser().parseFromString(E,"text/html");for(let _ of Array.from(q.body.childNodes))if(_.nodeType===Node.TEXT_NODE)I.appendChild(document.createTextNode(_.textContent||""));else if(_.nodeType===Node.ELEMENT_NODE){const $=_;if(["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN"].includes($.tagName)){const re=document.createElement($.tagName.toLowerCase());re.textContent=$.textContent,I.appendChild(re)}}T.appendChild(I)}},100)}},[m,p,g]);const x=async P=>{if(s>o){r({title:"Error",description:`Description exceeds ${o} character limit.`,variant:"destructive"});return}try{const A={title:P.title,language:P.language,readingOrder:P.readingOrder,description:f},O=p?`/api/series/${e}`:"/api/series",T=await fetch(O,{method:p?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A),credentials:"include"});if(!T.ok){const L=await T.json().catch(()=>({message:"Unknown error"}));throw console.error("API Error:",L),new Error(L.message||`Failed to ${p?"update":"create"} series`)}await n.invalidateQueries({queryKey:["/api/series"]});const E=await T.json();r({title:`Series ${p?"updated":"saved"}`,description:`Your series has been successfully ${p?"updated":"created"}.`});const I=sessionStorage.getItem("returnToBookEdit");I&&!p?(sessionStorage.setItem("newlyCreatedSeries",JSON.stringify(E)),t(I==="new"?"/books/create":`/books/edit/${I}`)):t("/manage-series")}catch(A){console.error("Error saving series:",A),r({title:"Error",description:A instanceof Error?A.message:`Failed to ${p?"update":"create"} series. Please try again.`,variant:"destructive"})}};j.useEffect(()=>{const P=document.createElement("style");return P.textContent=`
      #description-editor:empty:before {
        content: attr(data-placeholder);
        color: #9ca3af;
        pointer-events: none;
      }
      #description-editor h4 { font-size: 1.25rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor h5 { font-size: 1.125rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor h6 { font-size: 1rem; font-weight: bold; margin: 0.5rem 0; }
      #description-editor ul { list-style-type: disc; margin-left: 1.5rem; }
      #description-editor ol { list-style-type: decimal; margin-left: 1.5rem; }
      #description-editor li { margin: 0.25rem 0; }
      #description-editor a { color: #3b82f6; text-decoration: underline; }
      #description-editor p { margin: 0.5rem 0; }
    `,document.head.appendChild(P),()=>{document.head.removeChild(P)}},[]);const y=(P,A)=>{document.execCommand(P,!1,A),N()},b=P=>{const A=document.createElement("div"),M=new DOMParser().parseFromString(P,"text/html"),T=["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN","A"],E=(L,q)=>{if(L.nodeType===Node.TEXT_NODE)q.appendChild(document.createTextNode(L.textContent||""));else if(L.nodeType===Node.ELEMENT_NODE){const _=L;if(T.includes(_.tagName)){const $=document.createElement(_.tagName.toLowerCase());if(_.tagName==="A"&&_.getAttribute("href")){const G=_.getAttribute("href");G&&(G.startsWith("http://")||G.startsWith("https://")||G.startsWith("mailto:"))&&$.setAttribute("href",G)}q.appendChild($);for(let G of Array.from(L.childNodes))E(G,$)}else for(let $ of Array.from(L.childNodes))E($,q)}};for(let L of Array.from(M.body.childNodes))E(L,A);return A.querySelectorAll("*").forEach(L=>{var _;const q=L.getAttribute("style");if(q)if(q.includes("--tw-")||q.includes("--gradient")||q.includes("--ring")||q.includes("--shadow"))L.removeAttribute("style");else{const $=q.split(";").filter(G=>{var B;const re=(B=G.trim().split(":")[0])==null?void 0:B.trim();return["color","font-weight","font-style","text-decoration"].includes(re)}).join("; ");$?L.setAttribute("style",$):L.removeAttribute("style")}L.tagName!=="BR"&&!((_=L.textContent)!=null&&_.trim())&&L.children.length===0&&L.remove()}),A.innerHTML},N=()=>{const P=document.getElementById("description-editor");if(!P)return;const A=P.innerHTML,O=b(A),M=P.innerText||P.textContent||"";a(M.length),h(O),g.setValue("description",O)},w=P=>{switch(P){case"heading4":y("formatBlock","h4");break;case"heading5":y("formatBlock","h5");break;case"heading6":y("formatBlock","h6");break;case"normal":y("formatBlock","div");break}},S=()=>{if(u){const P=document.getElementById("description-editor");if(P){P.focus();const A=window.getSelection();if(A&&A.rangeCount>0){const O=A.getRangeAt(0),M=O.toString(),T=document.createElement("a");T.href=u,T.textContent=M||u,T.style.color="#3b82f6",T.style.textDecoration="underline",O.deleteContents(),O.insertNode(T),A.removeAllRanges(),N()}}d(""),c(!1)}},C=()=>{const P=["©","®","™","§","¶","†","‡","•","…","–","—"],A=P[Math.floor(Math.random()*P.length)];y("insertText",A)},k=[{value:"english",label:"English"},{value:"afrikaans",label:"Afrikaans"},{value:"arabic",label:"Arabic (Beta)"},{value:"basque",label:"Basque"},{value:"breton",label:"Breton"},{value:"bulgarian",label:"Bulgarian"},{value:"catalan",label:"Catalan"},{value:"chinese_traditional",label:"Chinese (Traditional) (Beta)"},{value:"cornish",label:"Cornish"},{value:"corsican",label:"Corsican"},{value:"croatian",label:"Croatian"},{value:"czech",label:"Czech"},{value:"danish",label:"Danish"},{value:"dutch",label:"Dutch"},{value:"eastern_frisian",label:"Eastern Frisian"},{value:"estonian",label:"Estonian"},{value:"finnish",label:"Finnish"},{value:"french",label:"French"},{value:"frisian",label:"Frisian"},{value:"galician",label:"Galician"},{value:"german",label:"German"},{value:"greek",label:"Greek"},{value:"gujarati",label:"Gujarati"},{value:"hebrew",label:"Hebrew"},{value:"hindi",label:"Hindi"},{value:"hungarian",label:"Hungarian"},{value:"icelandic",label:"Icelandic"},{value:"irish",label:"Irish"},{value:"italian",label:"Italian"},{value:"japanese",label:"Japanese"},{value:"korean",label:"Korean"},{value:"latvian",label:"Latvian"},{value:"lithuanian",label:"Lithuanian"},{value:"luxembourgish",label:"Luxembourgish"},{value:"malay",label:"Malay"},{value:"malayalam",label:"Malayalam"},{value:"manx",label:"Manx"},{value:"marathi",label:"Marathi"},{value:"northern_frisian",label:"Northern Frisian"},{value:"norwegian",label:"Norwegian"},{value:"nynorsk_norwegian",label:"Nynorsk Norwegian"},{value:"polish",label:"Polish"},{value:"portuguese_brazil",label:"Portuguese (Brazil)"},{value:"portuguese_portugal",label:"Portuguese (Portugal)"},{value:"romanian",label:"Romanian"},{value:"russian",label:"Russian"},{value:"scots",label:"Scots"},{value:"scottish_gaelic",label:"Scottish Gaelic"},{value:"slovak",label:"Slovak"},{value:"slovenian",label:"Slovenian"},{value:"spanish",label:"Spanish"},{value:"swedish",label:"Swedish"},{value:"tamil",label:"Tamil"},{value:"thai",label:"Thai"},{value:"turkish",label:"Turkish"},{value:"ukrainian",label:"Ukrainian"},{value:"welsh",label:"Welsh"}];return p&&v?i.jsx(ft,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading series data..."})]})})}):i.jsx(ft,{children:i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-8",children:i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs(F,{variant:"ghost",onClick:()=>{const P=sessionStorage.getItem("returnToBookEdit");t(P?P==="new"?"/books/create":`/books/edit/${P}`:"/manage-series")},className:"flex items-center space-x-2",children:[i.jsx(En,{className:"w-4 h-4"}),i.jsx("span",{children:"Back"})]})})}),i.jsx("div",{className:"mb-8",children:i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:p?"Edit Series Setup":"Series Setup"})}),i.jsxs("form",{onSubmit:g.handleSubmit(x),className:"space-y-6",children:[i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Language"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Choose the primary language for this series."}),i.jsxs(et,{value:g.watch("language"),onValueChange:P=>g.setValue("language",P),children:[i.jsx(Ze,{className:"w-full max-w-md",children:i.jsx(tt,{})}),i.jsx(Je,{children:k.map(P=>i.jsx(U,{value:P.value,children:P.label},P.value))})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Series title"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Enter your series title as you'd like it to appear on the series detail page."}),i.jsx(ne,{htmlFor:"title",className:"text-sm font-medium",children:"Series title"}),i.jsx(_e,{id:"title",placeholder:"Enter your series name",...g.register("title",{required:"Series title is required"}),className:"w-full"}),g.formState.errors.title&&i.jsx("p",{className:"text-sm text-red-600",children:g.formState.errors.title.message})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Reading order"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Choose how you want to display titles in your series."}),i.jsx(Ll,{value:g.watch("readingOrder"),onValueChange:P=>g.setValue("readingOrder",P),children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(ni,{value:"ordered",id:"ordered",className:"mt-1"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ne,{htmlFor:"ordered",className:"font-medium",children:"Ordered:"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Display numbers with the titles to indicate that books should be read in sequence. Example: The Lord of the Rings series."})]})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(ni,{value:"unordered",id:"unordered",className:"mt-1"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ne,{htmlFor:"unordered",className:"font-medium",children:"Un-ordered:"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Do not display numbers with the titles, as the books can be read in any order. Titles will be displayed in the order they appear. Example: The Sherlock Holmes series."})]})]})]})})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Series image"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Your series detail page image will be automatically created using up to the first three book covers in your series."}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-16 h-20 bg-gray-200 border border-gray-300 rounded flex items-center justify-center text-lg font-bold text-gray-600",children:"2"}),i.jsx("div",{className:"w-16 h-20 bg-white border-2 border-blue-500 rounded flex items-center justify-center text-lg font-bold text-blue-600",children:"1"}),i.jsx("div",{className:"w-16 h-20 bg-gray-200 border border-gray-300 rounded flex items-center justify-center text-lg font-bold text-gray-600",children:"3"})]})]})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsx(le,{className:"text-lg font-medium",children:"Description"})}),i.jsx(ee,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Enter a description for your series. If left blank, Amazon will display the description from the first book in the series."}),i.jsxs("div",{className:"flex items-center space-x-1 p-2 bg-gray-50 border rounded",children:[i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>y("bold"),title:"Bold",children:i.jsx("strong",{children:"B"})}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>y("italic"),title:"Italic",children:i.jsx("em",{children:"I"})}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>y("underline"),title:"Underline",children:i.jsx("u",{children:"U"})}),i.jsx("div",{className:"w-px h-6 bg-gray-300"}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>y("insertUnorderedList"),title:"Bullet List",children:"•"}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:()=>y("insertOrderedList"),title:"Numbered List",children:"1."}),i.jsx("div",{className:"w-px h-6 bg-gray-300"}),i.jsxs(et,{defaultValue:"normal",onValueChange:P=>w(P),children:[i.jsx(Ze,{className:"w-24 h-8",children:i.jsx(tt,{})}),i.jsxs(Je,{children:[i.jsx(U,{value:"normal",children:"Normal"}),i.jsx(U,{value:"heading4",children:"Heading 4"}),i.jsx(U,{value:"heading5",children:"Heading 5"}),i.jsx(U,{value:"heading6",children:"Heading 6"})]})]}),i.jsx("div",{className:"w-px h-6 bg-gray-300"}),i.jsxs(mn,{open:l,onOpenChange:c,children:[i.jsx(nl,{asChild:!0,children:i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",title:"Insert Link",children:"🔗"})}),i.jsxs(tn,{className:"sm:max-w-md","aria-describedby":"insert-link-description",children:[i.jsx(rn,{children:i.jsx(nn,{children:"Insert Link"})}),i.jsxs("div",{className:"space-y-6 pt-2",id:"insert-link-description",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"link-url",className:"text-sm font-medium",children:"URL"}),i.jsx(_e,{id:"link-url",type:"url",placeholder:"https://example.com",value:u,onChange:P=>d(P.target.value),onKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),S())},className:"w-full"})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>{d(""),c(!1)},children:"Cancel"}),i.jsx(F,{type:"button",style:{backgroundColor:"#38b6ff",borderColor:"#38b6ff"},onClick:S,children:"Insert Link"})]})]})]})]}),i.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 hover:bg-gray-200",onClick:C,title:"Insert Special Character",children:"©"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"description-editor",className:"text-sm font-medium",children:"(Optional)"}),i.jsx("div",{id:"description-editor",contentEditable:!0,className:"min-h-[200px] p-3 border border-gray-300 rounded-md resize-y overflow-auto focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",style:{minHeight:"200px",maxHeight:"500px",fontSize:"14px",lineHeight:"1.5"},onInput:N,onBlur:N,"data-placeholder":"Enter your series description...",suppressContentEditableWarning:!0}),i.jsx("input",{type:"hidden",...g.register("description")}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("span",{className:`text-sm ${s>o?"text-red-600":"text-green-600"}`,children:[i.jsx("strong",{children:s})," / ",o]})})]})]})})]}),i.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>{const P=sessionStorage.getItem("returnToBookEdit");t(P?P==="new"?"/books/create":`/books/edit/${P}`:"/manage-series")},children:"Cancel"}),i.jsx("div",{className:"flex space-x-3",children:i.jsxs(F,{type:"submit",disabled:s>o,style:{backgroundColor:"#38b6ff",borderColor:"#38b6ff"},children:[i.jsx(Gl,{className:"w-4 h-4 mr-2"}),p?"Save Changes":"Create Series"]})})]})]})]})})}function VEe(){const[,e]=$n(),{data:t=[],isLoading:r}=ze({queryKey:["/api/authors","withCounts"],queryFn:()=>$e("GET","/api/authors?withCounts=true")});return i.jsx(ft,{children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Authors"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your publishing authors"})]}),i.jsxs(F,{onClick:()=>e("/authors/create"),className:"kdp-btn-primary",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create Author"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?i.jsx("div",{className:"col-span-full text-center py-8",children:"Loading authors..."}):t.length===0?i.jsxs("div",{className:"col-span-full text-center py-12",children:[i.jsx(Ks,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-[#1a1a1a] dark:text-white mb-2",children:"No authors yet"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Get started by creating your first author"}),i.jsxs(F,{onClick:()=>e("/authors/create"),className:"kdp-btn-primary",children:[i.jsx(nr,{className:"w-4 h-4 mr-2"}),"Create First Author"]})]}):t.map(n=>i.jsxs(Z,{className:"hover:shadow-lg transition-shadow",children:[i.jsx(oe,{className:"pb-3",children:i.jsx(le,{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[i.jsx(Ks,{className:"w-5 h-5 mr-2 flex-shrink-0",style:{color:"var(--kdp-primary-blue)"}}),i.jsx("span",{className:"truncate text-base font-semibold",title:n.fullName,children:n.fullName})]})})}),i.jsxs(ee,{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Pr,{className:"w-4 h-4"}),i.jsxs("span",{children:[n.bookCount," ",n.bookCount===1?"book":"books"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Kl,{className:"w-4 h-4"}),i.jsxs("span",{children:[n.projectCount," ",n.projectCount===1?"project":"projects"]})]})]})}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsxs(F,{variant:"outline",size:"sm",onClick:()=>e(`/authors/${n.id}`),className:"flex items-center gap-1",children:[i.jsx(Rm,{className:"w-4 h-4"}),"View Details"]})})]})]},n.id))})]})})}function qEe(){const{toast:e}=Pt(),t=dr(),[,r]=$n(),[n,s]=j.useState({prefix:"",firstName:"",middleName:"",lastName:"",suffix:""}),a=Qe({mutationFn:l=>$e("POST","/api/authors"),onSuccess:l=>{t.invalidateQueries({queryKey:["/api/authors"]}),e({title:"Author created successfully"}),r(`/authors/${l.id}`)},onError:()=>{e({title:"Failed to create author",variant:"destructive"})}}),o=l=>{if(l.preventDefault(),!n.firstName||!n.lastName){e({title:"First name and last name are required",variant:"destructive"});return}a.mutate(n)};return i.jsx(ft,{children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(F,{variant:"outline",onClick:()=>r("/authors"),className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-4 h-4"}),"Back to Authors"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Create New Author"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Add a new author to your publishing portfolio"})]})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center",children:[i.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Author Information"]})}),i.jsx(ee,{children:i.jsxs("form",{onSubmit:o,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"prefix",children:"Prefix"}),i.jsx(_e,{id:"prefix",placeholder:"Dr., Prof., etc.",value:n.prefix,onChange:l=>s({...n,prefix:l.target.value})})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"firstName",children:"First Name *"}),i.jsx(_e,{id:"firstName",placeholder:"John",value:n.firstName,onChange:l=>s({...n,firstName:l.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"middleName",children:"Middle Name"}),i.jsx(_e,{id:"middleName",placeholder:"Michael",value:n.middleName,onChange:l=>s({...n,middleName:l.target.value})})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"lastName",children:"Last Name *"}),i.jsx(_e,{id:"lastName",placeholder:"Doe",value:n.lastName,onChange:l=>s({...n,lastName:l.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsx(ne,{htmlFor:"suffix",children:"Suffix"}),i.jsx(_e,{id:"suffix",placeholder:"Jr., Sr., III",value:n.suffix,onChange:l=>s({...n,suffix:l.target.value})})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(F,{type:"button",variant:"outline",onClick:()=>r("/authors"),children:"Cancel"}),i.jsxs(F,{type:"submit",disabled:a.isPending,className:"kdp-btn-primary",children:[i.jsx(Gl,{className:"w-4 h-4 mr-2"}),a.isPending?"Creating...":"Create Author"]})]})]})})]})]})})}const WEe=[{value:"English",label:"English"},{value:"Spanish",label:"Spanish"},{value:"German",label:"German"},{value:"French",label:"French"},{value:"Italian",label:"Italian"},{value:"Portuguese",label:"Portuguese"},{value:"Japanese",label:"Japanese"}];function HEe(){const{toast:e}=Pt(),t=dr(),[,r]=$n(),{authorId:n}=Om(),[s,a]=j.useState("English"),[o,l]=j.useState(""),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState({prefix:"",firstName:"",middleName:"",lastName:"",suffix:""}),{data:g,isLoading:m}=ze({queryKey:["/api/authors",n],queryFn:()=>$e("GET",`/api/authors/${n}`),enabled:!!n}),{data:v,isLoading:x}=ze({queryKey:["/api/authors",n,"biography",s],queryFn:()=>$e("GET",`/api/authors/${n}/biography/${s}`),enabled:!!n}),{data:y=[]}=ze({queryKey:["/api/authors",n,"projects"],queryFn:()=>$e("GET",`/api/authors/${n}/projects`),enabled:!!n}),{data:b=[]}=ze({queryKey:["/api/authors",n,"books"],queryFn:()=>$e("GET",`/api/authors/${n}/books`),enabled:!!n}),N=(I,L)=>{try{const q=document.getElementById("biography-editor");if(!q){console.error("Biography editor not found");return}if(q.focus(),typeof document.execCommand!="function"){console.error("execCommand is not supported in this browser"),e({title:"Erreur",description:"Cette fonctionnalité n'est pas supportée dans votre navigateur",variant:"destructive"});return}document.execCommand(I,!1,L)||console.warn(`execCommand failed for command: ${I}`),S()}catch(q){console.error("Error applying biography formatting:",q),e({title:"Erreur",description:"Erreur lors de l'application du formatage",variant:"destructive"})}},w=I=>{switch(I){case"normal":N("formatBlock","div");break;case"heading4":N("formatBlock","h4");break;case"heading5":N("formatBlock","h5");break;case"heading6":N("formatBlock","h6");break}},S=()=>{const I=document.getElementById("biography-editor");I&&l(I.innerHTML)},C=I=>{if(!I)return"";const q=new DOMParser().parseFromString(I,"text/html");return q.querySelectorAll("script, iframe, object, embed").forEach(G=>G.remove()),q.querySelectorAll("*").forEach(G=>{var ae;const re=["href","title","alt","class"],B=[];for(let Se=0;Se<G.attributes.length;Se++){const Ce=G.attributes[Se];!re.includes(Ce.name)&&!Ce.name.startsWith("data-")&&B.push(Ce.name)}B.forEach(Se=>{G.removeAttribute(Se)}),(ae=G.getAttribute("href"))!=null&&ae.startsWith("javascript:")&&G.removeAttribute("href")}),q.body.innerHTML};R.useEffect(()=>{const I=document.createElement("style");return I.textContent=`
      #biography-editor:empty:before {
        content: attr(data-placeholder);
        color: #9ca3af;
        pointer-events: none;
      }
      #biography-editor h4 { font-size: 1.25rem; font-weight: bold; margin: 0.5rem 0; }
      #biography-editor h5 { font-size: 1.125rem; font-weight: bold; margin: 0.5rem 0; }
      #biography-editor h6 { font-size: 1rem; font-weight: bold; margin: 0.5rem 0; }
      #biography-editor ul { list-style-type: disc; margin-left: 1.5rem; }
      #biography-editor ol { list-style-type: decimal; margin-left: 1.5rem; }
      #biography-editor li { margin: 0.25rem 0; }
      #biography-editor a { color: #3b82f6; text-decoration: underline; }
      #biography-editor p { margin: 0.5rem 0; }
    `,document.head.appendChild(I),()=>{document.head.contains(I)&&document.head.removeChild(I)}},[]),R.useEffect(()=>{g&&p({prefix:g.prefix||"",firstName:g.firstName||"",middleName:g.middleName||"",lastName:g.lastName||"",suffix:g.suffix||""})},[g]),R.useEffect(()=>{sessionStorage.getItem("returnToBookEdit")&&g&&f(!0)},[g]),R.useEffect(()=>{(v==null?void 0:v.biography)!==void 0&&l(v.biography||"")},[v]),R.useEffect(()=>{if(g&&v!==void 0){const I=document.getElementById("biography-editor");if(I){for(;I.firstChild;)I.removeChild(I.firstChild);if(v!=null&&v.biography){const L=C(v.biography),_=new DOMParser().parseFromString(L,"text/html");for(let $ of Array.from(_.body.childNodes))if($.nodeType===Node.TEXT_NODE)I.appendChild(document.createTextNode($.textContent||""));else if($.nodeType===Node.ELEMENT_NODE){const G=$;if(["P","BR","STRONG","EM","U","H4","H5","H6","DIV","SPAN"].includes(G.tagName)){const B=document.createElement(G.tagName.toLowerCase());B.textContent=G.textContent,I.appendChild(B)}}}}}},[g,v,s]);const k=Qe({mutationFn:({biography:I})=>$e("PUT",`/api/authors/${n}/biography/${s}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/authors",n,"biography",s]}),u(!1),e({title:"Biography saved successfully"});const I=sessionStorage.getItem("returnToBookEdit");I&&(sessionStorage.removeItem("returnToBookEdit"),r(I==="new"?"/books/create":`/books/edit/${I}`))},onError:()=>{e({title:"Failed to save biography",variant:"destructive"})}}),P=Qe({mutationFn:I=>$e("PUT",`/api/authors/${n}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/authors",n]}),f(!1),e({title:"Author updated successfully"});const I=sessionStorage.getItem("returnToBookEdit");I&&(sessionStorage.removeItem("returnToBookEdit"),r(I==="new"?"/books/create":`/books/edit/${I}`))},onError:()=>{e({title:"Failed to update author",variant:"destructive"})}}),A=Qe({mutationFn:()=>$e("DELETE",`/api/authors/${n}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/authors"]}),e({title:"Author deleted successfully"}),r("/authors")},onError:()=>{e({title:"Failed to delete author",variant:"destructive"})}}),O=()=>{k.mutate({biography:o})},M=()=>{P.mutate(h)},T=(I,L)=>{p(q=>({...q,[I]:L}))},E=I=>{a(I),u(!1)};return m?i.jsx(ft,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"text-center",children:"Loading author..."})})}):g?i.jsx(ft,{children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(F,{variant:"outline",onClick:()=>{const I=sessionStorage.getItem("returnToBookEdit");I?(sessionStorage.removeItem("returnToBookEdit"),r(I==="new"?"/books/create":`/books/edit/${I}`)):r("/authors")},className:"flex items-center gap-2",children:[i.jsx(En,{className:"w-4 h-4"}),sessionStorage.getItem("returnToBookEdit")?"Back to Book":"Back to Authors"]}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:g.fullName}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Author profile and multilingual biographies"})]})]}),i.jsxs($i,{children:[i.jsx(oc,{asChild:!0,children:i.jsxs(F,{variant:"destructive",size:"sm",children:[i.jsx(Ki,{className:"w-4 h-4 mr-2"}),"Delete Author"]})}),i.jsxs(si,{children:[i.jsxs(ai,{children:[i.jsx(li,{children:"Delete Author"}),i.jsxs(ci,{children:['Are you sure you want to delete "',g.fullName,'"? This action cannot be undone.']})]}),i.jsxs(oi,{children:[i.jsx(di,{children:"Cancel"}),i.jsx(ui,{onClick:()=>A.mutate(),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z,{className:"border-2",style:{borderColor:"var(--kdp-primary-blue)",backgroundColor:"#f0f8ff"},children:[i.jsx(oe,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5"}),"Author Information"]}),i.jsxs(F,{variant:"outline",size:"sm",onClick:()=>f(!d),children:[i.jsx(HL,{className:"w-4 h-4 mr-1"}),d?"Cancel":"Edit"]})]})}),i.jsx(ee,{className:"space-y-4",children:d?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"author-prefix",children:"Prefix (Optional)"}),i.jsx(_e,{id:"author-prefix",placeholder:"Dr., Prof., etc.",value:h.prefix,onChange:I=>T("prefix",I.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"author-suffix",children:"Suffix (Optional)"}),i.jsx(_e,{id:"author-suffix",placeholder:"Jr., Sr., PhD, etc.",value:h.suffix,onChange:I=>T("suffix",I.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"author-firstname",children:"First Name *"}),i.jsx(_e,{id:"author-firstname",placeholder:"John",value:h.firstName,onChange:I=>T("firstName",I.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"author-middlename",children:"Middle Name (Optional)"}),i.jsx(_e,{id:"author-middlename",placeholder:"Michael",value:h.middleName,onChange:I=>T("middleName",I.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ne,{htmlFor:"author-lastname",children:"Last Name *"}),i.jsx(_e,{id:"author-lastname",placeholder:"Doe",value:h.lastName,onChange:I=>T("lastName",I.target.value),required:!0})]})]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsxs(F,{onClick:M,disabled:P.isPending||!h.firstName||!h.lastName,className:"kdp-btn-primary",children:[i.jsx(Gl,{className:"w-4 h-4 mr-2"}),P.isPending?"Saving...":"Save Author Info"]})})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-lg font-medium",children:[h.prefix,h.firstName,h.middleName,h.lastName,h.suffix].filter(Boolean).join(" ")}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Click Edit to modify author information"})]})})]}),i.jsx(Z,{className:"border-2",style:{borderColor:"var(--kdp-secondary-orange)",backgroundColor:"#fff9f0"},children:i.jsxs(ee,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-[#1a1a1a]",children:["Biography - ",g.fullName]}),i.jsxs(et,{value:s,onValueChange:E,children:[i.jsx(Ze,{className:"w-48",children:i.jsx(tt,{})}),i.jsx(Je,{children:WEe.map(I=>i.jsx(U,{value:I.value,children:I.label},I.value))})]})]}),x?i.jsx("div",{className:"text-center py-8",children:"Loading biography..."}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 rounded-lg border",children:[i.jsxs(et,{onValueChange:w,children:[i.jsx(Ze,{className:"w-32",children:i.jsx(tt,{placeholder:"Format"})}),i.jsxs(Je,{children:[i.jsx(U,{value:"normal",children:"Normal"}),i.jsx(U,{value:"heading4",children:"Heading 4"}),i.jsx(U,{value:"heading5",children:"Heading 5"}),i.jsx(U,{value:"heading6",children:"Heading 6"})]})]}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>N("bold"),children:i.jsx("strong",{children:"B"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>N("italic"),children:i.jsx("em",{children:"I"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>N("underline"),children:i.jsx("u",{children:"U"})}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>N("insertUnorderedList"),children:"• List"}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>N("insertOrderedList"),children:"1. List"}),i.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:()=>N("createLink",prompt("Enter URL:")||void 0),children:"🔗 Link"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{id:"biography-editor",contentEditable:!0,className:"min-h-[200px] p-3 border border-gray-300 rounded-md resize-y overflow-auto focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",style:{minHeight:"200px",maxHeight:"500px",fontSize:"14px",lineHeight:"1.5",direction:"ltr"},onInput:S,onBlur:S,"data-placeholder":`Enter ${g.fullName}'s biography in ${s}...`,suppressContentEditableWarning:!0}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("span",{className:"text-sm text-gray-500",children:[(o==null?void 0:o.length)||0," characters"]})})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(F,{onClick:O,disabled:k.isPending,className:"kdp-btn-primary",children:[i.jsx(Gl,{className:"w-4 h-4 mr-2"}),k.isPending?"Saving...":"Save Biography"]})})]})]})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center",children:[i.jsx(Kl,{className:"w-5 h-5 mr-2"}),"Projects (",y.length,")"]})}),i.jsx(ee,{children:y.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No projects found for this author."}):i.jsx("div",{className:"space-y-4",children:y.map(I=>i.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-lg",children:I.title}),I.subtitle&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:I.subtitle}),I.description&&i.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2",children:I.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx(me,{variant:"secondary",children:I.status}),i.jsxs(me,{variant:"outline",children:[I.books.length," book",I.books.length!==1?"s":""]})]})]})})},I.id))})})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center",children:[i.jsx(Pr,{className:"w-5 h-5 mr-2"}),"All Books (",b.length,")"]})}),i.jsx(ee,{children:b.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No books found for this author."}):i.jsx("div",{className:"space-y-4",children:b.map(I=>i.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-lg",children:I.title}),I.subtitle&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:I.subtitle}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx(me,{variant:"secondary",children:I.status}),i.jsx(me,{variant:"outline",children:I.format}),i.jsx(me,{variant:"outline",children:I.language})]}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[i.jsxs("span",{children:["Sales: ",I.totalSales]}),i.jsxs("span",{children:["Revenue: $",I.totalRevenue]})]})]})})},I.id))})})]})]})]})]})}):i.jsx(ft,{children:i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"text-center",children:"Author not found"})})})}var pP="Progress",gP=100,[KEe,NOe]=Kr(pP),[GEe,QEe]=KEe(pP),Tq=j.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=YEe,...o}=e;(s||s===0)&&!gO(s)&&console.error(XEe(`${s}`,"Progress"));const l=gO(s)?s:gP;n!==null&&!vO(n,l)&&console.error(ZEe(`${n}`,"Progress"));const c=vO(n,l)?n:null,u=xx(c)?a(c,l):void 0;return i.jsx(GEe,{scope:r,value:c,max:l,children:i.jsx(Re.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":xx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Mq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Tq.displayName=pP;var Eq="ProgressIndicator",Oq=j.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=QEe(Eq,r);return i.jsx(Re.div,{"data-state":Mq(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Oq.displayName=Eq;function YEe(e,t){return`${Math.round(e/t*100)}%`}function Mq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function xx(e){return typeof e=="number"}function gO(e){return xx(e)&&!isNaN(e)&&e>0}function vO(e,t){return xx(e)&&!isNaN(e)&&e<=t&&e>=0}function XEe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gP}\`.`}function ZEe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Iq=Tq,JEe=Oq;const Dq=j.forwardRef(({className:e,value:t,...r},n)=>i.jsx(Iq,{ref:n,className:xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(JEe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Dq.displayName=Iq.displayName;const xO=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]},eOe=e=>{switch(e){case"completed":return i.jsxs(me,{className:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800",children:[i.jsx(Lo,{className:"w-3 h-3 mr-1"}),"Completed"]});case"processing":return i.jsxs(me,{className:"bg-primary/10 dark:bg-primary/20 text-primary border-primary/20",children:[i.jsx(Fu,{className:"w-3 h-3 mr-1"}),"Processing"]});case"failed":return i.jsxs(me,{className:"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800",children:[i.jsx(bh,{className:"w-3 h-3 mr-1"}),"Failed"]});case"pending":return i.jsxs(me,{className:"bg-secondary/10 dark:bg-secondary/20 text-secondary border-secondary/20",children:[i.jsx(Fu,{className:"w-3 h-3 mr-1"}),"Pending"]});default:return i.jsx(me,{variant:"secondary",children:e})}},yO=e=>{switch(e){case"orders":return"KDP Orders Report - Book sales and transactions";case"payments":return"KDP Payments Report - Royalty payments received";case"royalties_estimator":return"KDP Royalties Estimator - Revenue projections";case"prior_month_royalties":return"KDP Prior Month Royalties - Previous month earnings";case"kenp_read":return"KDP KENP Read Report - Kindle Edition Normalized Pages read";case"dashboard":return"KDP Dashboard Export - General performance data";default:return`KDP Report (${e})`}};function tOe(){const[e,t]=j.useState(null),[r,n]=j.useState(!1),[s,a]=j.useState(null),o=j.useRef(null),{toast:l}=Pt(),c=dr(),{data:u=[],isLoading:d}=ze({queryKey:["/api/kdp-imports"]}),f=Qe({mutationFn:async C=>{const k=new FormData;return k.append("file",C),$e("/api/kdp-imports/upload",{method:"POST",body:k})},onSuccess:async C=>{var P;l({title:"File uploaded successfully",description:`Detected: ${yO(C.parsedData.detectedType)}`}),c.invalidateQueries({queryKey:["/api/kdp-imports"]}),t(null);const k=(P=C.import)==null?void 0:P.id;k&&(a(k),setTimeout(()=>{c.invalidateQueries({queryKey:["/api/kdp-imports",k,"progress"]}),S(k)},1e3))},onError:C=>{l({title:"Upload failed",description:C.message||"Failed to upload file",variant:"destructive"}),t(null)}}),h=Qe({mutationFn:async C=>$e(`/api/kdp-imports/${C}`,{method:"DELETE"}),onSuccess:()=>{l({title:"Import deleted",description:"Import and all associated data have been removed."}),c.invalidateQueries({queryKey:["/api/kdp-imports"]})},onError:C=>{l({title:"Delete failed",description:C.message||"Failed to delete import",variant:"destructive"})}}),{data:p,refetch:g}=ze({queryKey:["/api/kdp-imports",s,"progress"],enabled:!!s,refetchInterval:!1}),m=C=>{const k=C[0];if(!k)return;if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(k.type)){l({title:"Invalid file type",description:"Please select an Excel (.xlsx, .xls) or CSV file.",variant:"destructive"});return}if(k.size>10*1024*1024){l({title:"File too large",description:"Maximum file size is 10MB.",variant:"destructive"});return}t(k)},v=C=>{C.preventDefault(),n(!1);const k=Array.from(C.dataTransfer.files);m(k)},x=C=>{C.preventDefault(),n(!0)},y=C=>{C.preventDefault(),n(!1)},b=()=>{e&&f.mutate(e)},N=C=>{confirm("Are you sure you want to delete this import? This action cannot be undone.")&&h.mutate(C)},w=async C=>{const k=s===C?null:C;a(k),k&&await S(k)},S=async C=>{const k=async()=>{try{const P=await c.fetchQuery({queryKey:["/api/kdp-imports",C,"progress"],queryFn:()=>$e(`/api/kdp-imports/${C}/progress`)});P&&P.status==="processing"?setTimeout(()=>{s===C&&k()},3e3):P&&(P.status==="completed"||P.status==="failed")&&(c.invalidateQueries({queryKey:["/api/kdp-imports"]}),c.invalidateQueries({queryKey:["/api/kdp-imports",C,"progress"]}),P.status==="completed"?l({title:"Import completed",description:`Successfully processed ${P.processedRecords} records`}):P.status==="failed"&&l({title:"Import failed",description:"Check the error log for details",variant:"destructive"}))}catch(P){console.error("Error checking import progress:",P)}};await k()};return i.jsx(ft,{children:i.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"KDP Import Management"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Upload and manage your Amazon KDP reports for analysis and data integration."})]}),i.jsxs(Z,{className:"mb-8",children:[i.jsxs(oe,{children:[i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx(wh,{className:"w-5 h-5"}),"Upload KDP Report"]}),i.jsx(Ue,{children:"Select or drag & drop your KDP export files (.xlsx, .xls, .csv)"})]}),i.jsx(ee,{children:i.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-primary bg-primary/5 dark:bg-primary/10":"border-gray-300 dark:border-gray-600 hover:border-primary/50 dark:hover:border-primary/50"}`,onDrop:v,onDragOver:x,onDragLeave:y,children:e?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(qb,{className:"w-8 h-8 text-primary"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:xO(e.size)})]}),i.jsx(F,{variant:"ghost",size:"sm",onClick:()=>t(null),className:"ml-2",children:i.jsx(ji,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsx(F,{onClick:b,disabled:f.isPending,className:"bg-primary hover:bg-primary/90 text-white",children:f.isPending?"Uploading...":"Upload & Process"}),i.jsx(F,{variant:"outline",onClick:()=>t(null),children:"Cancel"})]})]}):i.jsxs("div",{children:[i.jsx(wh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Drop your KDP files here"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Or click to browse and select files"}),i.jsx(F,{variant:"outline",onClick:()=>{var C;return(C=o.current)==null?void 0:C.click()},className:"mt-4",children:"Select Files"}),i.jsx("input",{ref:o,type:"file",className:"hidden",accept:".xlsx,.xls,.csv",onChange:C=>m(Array.from(C.target.files||[]))})]})]})})})]}),i.jsxs(Z,{children:[i.jsxs(oe,{children:[i.jsx(le,{children:"Import History"}),i.jsx(Ue,{children:"View and manage your previously uploaded KDP reports"})]}),i.jsx(ee,{children:d?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Loading imports..."})]}):u.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(qb,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No imports yet"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Upload your first KDP report to get started"})]}):i.jsx("div",{className:"space-y-4",children:u.map(C=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qb,{className:"w-5 h-5 text-primary"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:C.fileName}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:yO(C.detectedType)})]})]}),i.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[i.jsx("span",{children:xO(C.fileSize)}),i.jsx("span",{children:cc(new Date(C.createdAt),"MMM dd, yyyy HH:mm")}),C.totalRecords>0&&i.jsxs("span",{children:[C.totalRecords," records"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[eOe(C.status),i.jsx(F,{variant:"ghost",size:"sm",onClick:()=>w(C.id),children:i.jsx(Rm,{className:"w-4 h-4"})}),i.jsx(F,{variant:"ghost",size:"sm",onClick:()=>N(C.id),disabled:h.isPending,children:i.jsx(Ki,{className:"w-4 h-4"})})]})]}),s===C.id&&p&&i.jsxs("div",{className:"mt-4 pt-4 border-t space-y-4",children:[p.status==="processing"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Processing..."}),i.jsxs("span",{children:[p.progress,"%"]})]}),i.jsx(Dq,{value:p.progress,className:"w-full"}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[p.processedRecords," of ",p.totalRecords," records processed"]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-primary/10 dark:bg-primary/20 rounded-lg border border-primary/20",children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:p.processedRecords||0}),i.jsx("div",{className:"text-sm text-primary/70 font-medium",children:"Processed"})]}),i.jsxs("div",{className:"text-center p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[i.jsx("div",{className:"text-2xl font-bold text-slate-700 dark:text-slate-300",children:p.totalRecords||0}),i.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total"})]}),i.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:p.errorRecords||0}),i.jsx("div",{className:"text-sm text-red-600/70 dark:text-red-400/70 font-medium",children:"Errors"})]}),i.jsxs("div",{className:"text-center p-4 bg-secondary/10 dark:bg-secondary/20 rounded-lg border border-secondary/20",children:[i.jsx("div",{className:"text-2xl font-bold text-secondary dark:text-secondary",children:p.duplicateRecords||0}),i.jsx("div",{className:"text-sm text-secondary/70 font-medium",children:"Duplicates"})]})]}),p.errorLog&&p.errorLog.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-red-600",children:"Error Log"}),i.jsx("div",{className:"bg-red-50 dark:bg-red-950 p-3 rounded text-sm max-h-40 overflow-y-auto",children:p.errorLog.map((k,P)=>i.jsx("div",{className:"mb-1 text-red-700 dark:text-red-300",children:k},P))})]})]})]},C.id))})})]})]})})}function rOe(){var v,x;const{toast:e}=Pt(),t=dr(),[r,n]=j.useState(!1),{data:s,isLoading:a,error:o}=ze({queryKey:["/api/exchange-rates"],refetchInterval:5*60*1e3}),l=async()=>{n(!0);try{if((await fetch("/api/exchange-rates/update",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)e({title:"Exchange Rates Updated",description:"Exchange rates have been successfully updated."}),t.invalidateQueries({queryKey:["/api/exchange-rates"]});else throw new Error("Failed to update exchange rates")}catch{e({title:"Error",description:"Failed to update exchange rates.",variant:"destructive"})}finally{n(!1)}},c=["USD","EUR","GBP","JPY","CNY","CHF","CAD","AUD"],u=Array.isArray(s)?s:[],d=u.length>0&&((v=u[0])!=null&&v.updatedAt)?new Date(u[0].updatedAt):new Date,f={currency:"USD",rate:"1.00000000",updatedAt:d.toISOString()},h=u.filter(y=>y.currency!=="USD"),g=[f,...h].filter(y=>c.includes(y.currency)),m=h.filter(y=>!c.includes(y.currency));return o?i.jsx(ft,{children:i.jsx("div",{className:"container mx-auto p-6",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ka,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Error Loading Exchange Rates"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to load exchange rate data. Please try again."}),i.jsxs(F,{onClick:l,disabled:r,children:[i.jsx(or,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Retry"]})]})})}):i.jsx(ft,{children:i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Exchange Rates"}),i.jsx("p",{className:"text-muted-foreground",children:"Real-time currency exchange rates with USD as base currency"})]}),i.jsxs(F,{onClick:l,disabled:r,className:"flex items-center gap-2",children:[i.jsx(or,{className:`h-4 w-4 ${r?"animate-spin":""}`}),r?"Updating...":"Update Rates"]})]}),a?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((y,b)=>i.jsx(Z,{className:"animate-pulse",children:i.jsxs(ee,{className:"p-6",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-1/3 mb-2"}),i.jsx("div",{className:"h-8 bg-muted rounded w-1/2 mb-2"}),i.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})},b))}):u.length>0?i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(bi,{className:"h-5 w-5"}),i.jsx("h2",{className:"text-xl font-semibold",children:"Major Currencies"}),i.jsx(me,{variant:"secondary",children:g.length})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Fu,{className:"h-4 w-4"}),i.jsxs("span",{children:["Last updated: ",d.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(y=>i.jsx(Z,{className:"hover:shadow-lg transition-shadow",children:i.jsxs(ee,{className:"p-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx("span",{className:"font-bold text-primary text-sm",children:y.currency})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-lg",children:y.currency}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["1 USD = ",parseFloat(y.rate).toFixed(4)," ",y.currency]})]})]})}),i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Rate:"}),i.jsx("span",{className:"font-mono font-bold",children:parseFloat(y.rate).toFixed(4)})]})})]})},y.currency))})]}),m.length>0&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ka,{className:"h-5 w-5"}),i.jsx("h2",{className:"text-xl font-semibold",children:"Other Currencies"}),i.jsx(me,{variant:"secondary",children:m.length})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Fu,{className:"h-4 w-4"}),i.jsxs("span",{children:["Last updated: ",d.toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m.map(y=>i.jsx(Z,{className:"hover:shadow-md transition-shadow",children:i.jsx(ee,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-semibold",children:y.currency}),i.jsx(me,{variant:"outline",className:"text-xs",children:parseFloat(y.rate).toFixed(4)})]})})},y.currency))})]}),i.jsxs(Z,{children:[i.jsx(oe,{children:i.jsxs(le,{className:"flex items-center gap-2",children:[i.jsx($m,{className:"h-5 w-5"}),"Exchange Rate Statistics"]})}),i.jsx(ee,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-primary",children:u.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Currencies"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-primary",children:g.length}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Major Currencies"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-primary",children:u.length>0&&((x=u[0])!=null&&x.updatedAt)?new Date(u[0].updatedAt).toLocaleDateString("en-US"):"N/A"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Last Updated"})]})]})})]})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ka,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Exchange Rates Available"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:'Click "Update Rates" to load the latest exchange rate data.'}),i.jsxs(F,{onClick:l,disabled:r,children:[i.jsx(or,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Update Rates"]})]})]})})}function nOe(){const{isAuthenticated:e,isLoading:t}=Si();return i.jsxs(lK,{children:[i.jsx(dt,{path:"/",component:t||!e?mX:lke}),i.jsx(dt,{path:"/projects",component:_ke}),i.jsx(dt,{path:"/books",component:Ake}),i.jsx(dt,{path:"/analytics",component:Ike}),i.jsx(dt,{path:"/analytics-comparison",component:Dke}),i.jsx(dt,{path:"/analytics-detailed",component:$ke}),i.jsx(dt,{path:"/kdp-reports",component:Rke}),i.jsx(dt,{path:"/ai-assistant",component:Lke}),i.jsx(dt,{path:"/subscription",component:Bke}),i.jsx(dt,{path:"/settings",component:Xke}),i.jsx(dt,{path:"/admin",component:Zke}),i.jsx(dt,{path:"/admin/users",component:aAe}),i.jsx(dt,{path:"/admin/config",component:oAe}),i.jsx(dt,{path:"/admin/audit",component:lAe}),i.jsx(dt,{path:"/admin/blog-posts",component:cAe}),i.jsx(dt,{path:"/admin/blog-categories",component:uAe}),i.jsx(dt,{path:"/admin/system",component:dAe}),i.jsx(dt,{path:"/admin/prompts",component:fAe}),i.jsx(dt,{path:"/admin/cron",component:hAe}),i.jsx(dt,{path:"/admin/ai-config",component:jAe}),i.jsx(dt,{path:"/admin/ai-variables",component:NAe}),i.jsx(dt,{path:"/ai-functions",component:CAe}),i.jsx(dt,{path:"/projects/create",component:fO}),i.jsx(dt,{path:"/project-create-simple",component:fO}),i.jsx(dt,{path:"/projects/edit/:id",component:pEe}),i.jsx(dt,{path:"/books/create",component:mO}),i.jsx(dt,{path:"/books/edit/:bookId",component:mO}),i.jsx(dt,{path:"/authors",component:VEe}),i.jsx(dt,{path:"/authors/create",component:qEe}),i.jsx(dt,{path:"/authors/:authorId",component:HEe}),i.jsx(dt,{path:"/manage-series",component:BEe}),i.jsx(dt,{path:"/series-create",component:UEe}),i.jsx(dt,{path:"/series-setup",component:pO}),i.jsx(dt,{path:"/series-setup/:seriesId",component:pO}),i.jsx(dt,{path:"/series-edit/:seriesId",component:zEe}),i.jsx(dt,{path:"/exchange-rates",component:rOe}),i.jsx(dt,{path:"/import-management",component:tOe}),i.jsx(dt,{component:fX})]})}function iOe(){return i.jsx(_K,{client:os,children:i.jsxs(fS,{children:[i.jsx(LQ,{}),i.jsx(nOe,{})]})})}const bO=document.getElementById("root");bO&&R4(bO).render(i.jsx(iOe,{}));
